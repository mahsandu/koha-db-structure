-- phpMyAdmin SQL Dump
-- version 5.0.4deb2+deb11u1
-- https://www.phpmyadmin.net/
--
-- Host: localhost
-- Generation Time: Aug 09, 2022 at 10:16 AM
-- Server version: 10.5.15-MariaDB-0+deb11u1
-- PHP Version: 7.4.30

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";

--
-- Database: `koha_asiatic`
--

-- --------------------------------------------------------

--
-- Table structure for table `accountlines`
--

CREATE TABLE `accountlines` (
  `accountlines_id` int(11) NOT NULL,
  `issue_id` int(11) DEFAULT NULL,
  `borrowernumber` int(11) DEFAULT NULL,
  `itemnumber` int(11) DEFAULT NULL,
  `date` timestamp NULL DEFAULT NULL,
  `amount` decimal(28,6) DEFAULT NULL,
  `description` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `credit_type_code` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `debit_type_code` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `credit_number` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'autogenerated number for credits',
  `status` varchar(16) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `payment_type` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'optional authorised value PAYMENT_TYPE',
  `amountoutstanding` decimal(28,6) DEFAULT NULL,
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `note` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `manager_id` int(11) DEFAULT NULL,
  `register_id` int(11) DEFAULT NULL,
  `interface` varchar(16) COLLATE utf8mb4_unicode_ci NOT NULL,
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the branchcode of the library where a payment was made, a manual invoice created, etc.'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `account_credit_types`
--

CREATE TABLE `account_credit_types` (
  `code` varchar(80) COLLATE utf8mb4_unicode_ci NOT NULL,
  `description` varchar(200) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `can_be_added_manually` tinyint(4) NOT NULL DEFAULT 1,
  `credit_number_enabled` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Is autogeneration of credit number enabled for this credit type',
  `is_system` tinyint(1) NOT NULL DEFAULT 0,
  `archived` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'boolean flag to denote if this till is archived or not'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `account_credit_types_branches`
--

CREATE TABLE `account_credit_types_branches` (
  `credit_type_code` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `account_debit_types`
--

CREATE TABLE `account_debit_types` (
  `code` varchar(80) COLLATE utf8mb4_unicode_ci NOT NULL,
  `description` varchar(200) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `can_be_invoiced` tinyint(1) NOT NULL DEFAULT 1 COMMENT 'boolean flag to denote if this debit type is available for manual invoicing',
  `can_be_sold` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'boolean flag to denote if this debit type is available at point of sale',
  `default_amount` decimal(28,6) DEFAULT NULL,
  `is_system` tinyint(1) NOT NULL DEFAULT 0,
  `archived` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'boolean flag to denote if this till is archived or not'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `account_debit_types_branches`
--

CREATE TABLE `account_debit_types_branches` (
  `debit_type_code` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `account_offsets`
--

CREATE TABLE `account_offsets` (
  `id` int(11) NOT NULL COMMENT 'unique identifier for each offset',
  `credit_id` int(11) DEFAULT NULL COMMENT 'The id of the accountline the increased the patron''s balance',
  `debit_id` int(11) DEFAULT NULL COMMENT 'The id of the accountline that decreased the patron''s balance',
  `type` enum('CREATE','APPLY','VOID','OVERDUE_INCREASE','OVERDUE_DECREASE') COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'The type of offset this is',
  `amount` decimal(26,6) NOT NULL COMMENT 'The amount of the change',
  `created_on` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `action_logs`
--

CREATE TABLE `action_logs` (
  `action_id` int(11) NOT NULL COMMENT 'unique identifier for each action',
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() COMMENT 'the date and time the action took place',
  `user` int(11) NOT NULL DEFAULT 0 COMMENT 'the staff member who performed the action (borrowers.borrowernumber)',
  `module` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the module this action was taken against',
  `action` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the action (includes things like DELETED, ADDED, MODIFY, etc)',
  `object` int(11) DEFAULT NULL COMMENT 'the object that the action was taken against (could be a borrowernumber, itemnumber, etc)',
  `info` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'information about the action (usually includes SQL statement)',
  `interface` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the context this action was taken in'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `additional_contents`
--

CREATE TABLE `additional_contents` (
  `idnew` int(10) UNSIGNED NOT NULL COMMENT 'unique identifier for the additional content',
  `category` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'category for the additional content',
  `code` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'code to group content per lang',
  `location` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'location of the additional content',
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'branch code users to create branch specific additional content, NULL is every branch.',
  `title` varchar(250) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'title of the additional content',
  `content` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'the body of your additional content',
  `lang` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'location for the additional content(koha is the staff interface, slip is the circulation receipt and language codes are for the opac)',
  `published_on` date DEFAULT NULL COMMENT 'publication date',
  `updated_on` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT 'last modification',
  `expirationdate` date DEFAULT NULL COMMENT 'date the additional content is set to expire or no longer be visible',
  `number` int(11) DEFAULT NULL COMMENT 'the order in which this additional content appears in that specific location',
  `borrowernumber` int(11) DEFAULT NULL COMMENT 'The user who created the additional content'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `additional_fields`
--

CREATE TABLE `additional_fields` (
  `id` int(11) NOT NULL COMMENT 'primary key identifier',
  `tablename` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'tablename of the new field',
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'name of the field',
  `authorised_value_category` varchar(32) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'is an authorised value category',
  `marcfield` varchar(16) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'contains the marc field to copied into the record',
  `searchable` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'is the field searchable?'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `additional_field_values`
--

CREATE TABLE `additional_field_values` (
  `id` int(11) NOT NULL COMMENT 'primary key identifier',
  `field_id` int(11) NOT NULL COMMENT 'foreign key references additional_fields(id)',
  `record_id` int(11) NOT NULL COMMENT 'record_id',
  `value` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'value for this field'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `advanced_editor_macros`
--

CREATE TABLE `advanced_editor_macros` (
  `id` int(11) NOT NULL COMMENT 'Unique ID of the macro',
  `name` varchar(80) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Name of the macro',
  `macro` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'The macro code itself',
  `borrowernumber` int(11) DEFAULT NULL COMMENT 'ID of the borrower who created this macro',
  `shared` tinyint(1) DEFAULT 0 COMMENT 'Bit to define if shared or private macro'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `alert`
--

CREATE TABLE `alert` (
  `alertid` int(11) NOT NULL,
  `borrowernumber` int(11) NOT NULL DEFAULT 0,
  `type` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `externalid` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT ''
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `api_keys`
--

CREATE TABLE `api_keys` (
  `client_id` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'API client ID',
  `secret` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'API client secret used for API authentication',
  `description` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'API client description',
  `patron_id` int(11) NOT NULL COMMENT 'Foreign key to the borrowers table',
  `active` tinyint(1) NOT NULL DEFAULT 1 COMMENT '0 means this API key is revoked'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `aqbasket`
--

CREATE TABLE `aqbasket` (
  `basketno` int(11) NOT NULL COMMENT 'primary key, Koha defined number',
  `basketname` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'name given to the basket at creation',
  `note` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the internal note added at basket creation',
  `booksellernote` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the vendor note added at basket creation',
  `contractnumber` int(11) DEFAULT NULL COMMENT 'links this basket to the aqcontract table (aqcontract.contractnumber)',
  `creationdate` date DEFAULT NULL COMMENT 'the date the basket was created',
  `closedate` date DEFAULT NULL COMMENT 'the date the basket was closed',
  `booksellerid` int(11) NOT NULL DEFAULT 1 COMMENT 'the Koha assigned ID for the vendor (aqbooksellers.id)',
  `authorisedby` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the borrowernumber of the person who created the basket',
  `booksellerinvoicenumber` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'appears to always be NULL',
  `basketgroupid` int(11) DEFAULT NULL COMMENT 'links this basket to its group (aqbasketgroups.id)',
  `deliveryplace` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'basket delivery place',
  `billingplace` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'basket billing place',
  `branch` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'basket branch',
  `is_standing` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'orders in this basket are standing',
  `create_items` enum('ordering','receiving','cataloguing') COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'when items should be created for orders in this basket'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `aqbasketgroups`
--

CREATE TABLE `aqbasketgroups` (
  `id` int(11) NOT NULL,
  `name` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `closed` tinyint(1) DEFAULT NULL,
  `booksellerid` int(11) NOT NULL,
  `deliveryplace` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `freedeliveryplace` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `deliverycomment` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `billingplace` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `aqbasketusers`
--

CREATE TABLE `aqbasketusers` (
  `basketno` int(11) NOT NULL,
  `borrowernumber` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `aqbooksellers`
--

CREATE TABLE `aqbooksellers` (
  `id` int(11) NOT NULL COMMENT 'primary key and unique identifier assigned by Koha',
  `name` longtext COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'vendor name',
  `address1` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'first line of vendor physical address',
  `address2` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'second line of vendor physical address',
  `address3` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'third line of vendor physical address',
  `address4` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'fourth line of vendor physical address',
  `phone` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'vendor phone number',
  `accountnumber` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'vendor account number',
  `notes` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'order notes',
  `postal` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'vendor postal address (all lines)',
  `url` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'vendor web address',
  `active` tinyint(4) DEFAULT NULL COMMENT 'is this vendor active (1 for yes, 0 for no)',
  `listprice` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'currency code for list prices',
  `invoiceprice` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'currency code for invoice prices',
  `gstreg` tinyint(4) DEFAULT NULL COMMENT 'is your library charged tax (1 for yes, 0 for no)',
  `listincgst` tinyint(4) DEFAULT NULL COMMENT 'is tax included in list prices (1 for yes, 0 for no)',
  `invoiceincgst` tinyint(4) DEFAULT NULL COMMENT 'is tax included in invoice prices (1 for yes, 0 for no)',
  `tax_rate` decimal(6,4) DEFAULT NULL COMMENT 'the tax rate the library is charged',
  `discount` float(6,4) DEFAULT NULL COMMENT 'discount offered on all items ordered from this vendor',
  `fax` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'vendor fax number',
  `deliverytime` int(11) DEFAULT NULL COMMENT 'vendor delivery time'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `aqbudgetborrowers`
--

CREATE TABLE `aqbudgetborrowers` (
  `budget_id` int(11) NOT NULL,
  `borrowernumber` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `aqbudgetperiods`
--

CREATE TABLE `aqbudgetperiods` (
  `budget_period_id` int(11) NOT NULL COMMENT 'primary key and unique number assigned by Koha',
  `budget_period_startdate` date NOT NULL COMMENT 'date when the budget starts',
  `budget_period_enddate` date NOT NULL COMMENT 'date when the budget ends',
  `budget_period_active` tinyint(1) DEFAULT 0 COMMENT 'whether this budget is active or not (1 for yes, 0 for no)',
  `budget_period_description` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'description assigned to this budget',
  `budget_period_total` decimal(28,6) DEFAULT NULL COMMENT 'total amount available in this budget',
  `budget_period_locked` tinyint(1) DEFAULT NULL COMMENT 'whether this budget is locked or not (1 for yes, 0 for no)',
  `sort1_authcat` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'statistical category for this budget',
  `sort2_authcat` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'second statistical category for this budget'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `aqbudgets`
--

CREATE TABLE `aqbudgets` (
  `budget_id` int(11) NOT NULL COMMENT 'primary key and unique number assigned to each fund by Koha',
  `budget_parent_id` int(11) DEFAULT NULL COMMENT 'if this fund is a child of another this will include the parent id (aqbudgets.budget_id)',
  `budget_code` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'code assigned to the fund by the user',
  `budget_name` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'name assigned to the fund by the user',
  `budget_branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'branch that this fund belongs to (branches.branchcode)',
  `budget_amount` decimal(28,6) DEFAULT 0.000000 COMMENT 'total amount for this fund',
  `budget_encumb` decimal(28,6) DEFAULT 0.000000 COMMENT 'budget warning at percentage',
  `budget_expend` decimal(28,6) DEFAULT 0.000000 COMMENT 'budget warning at amount',
  `budget_notes` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'notes related to this fund',
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT 'date and time this fund was last touched (created or modified)',
  `budget_period_id` int(11) DEFAULT NULL COMMENT 'id of the budget that this fund belongs to (aqbudgetperiods.budget_period_id)',
  `sort1_authcat` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'statistical category for this fund',
  `sort2_authcat` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'second statistical category for this fund',
  `budget_owner_id` int(11) DEFAULT NULL COMMENT 'borrowernumber of the person who owns this fund (borrowers.borrowernumber)',
  `budget_permission` int(1) DEFAULT 0 COMMENT 'level of permission for this fund (used only by the owner, only by the library, or anyone)'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `aqbudgets_planning`
--

CREATE TABLE `aqbudgets_planning` (
  `plan_id` int(11) NOT NULL,
  `budget_id` int(11) NOT NULL,
  `budget_period_id` int(11) NOT NULL,
  `estimated_amount` decimal(28,6) DEFAULT NULL,
  `authcat` varchar(30) COLLATE utf8mb4_unicode_ci NOT NULL,
  `authvalue` varchar(30) COLLATE utf8mb4_unicode_ci NOT NULL,
  `display` tinyint(1) DEFAULT 1
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `aqcontacts`
--

CREATE TABLE `aqcontacts` (
  `id` int(11) NOT NULL COMMENT 'primary key and unique number assigned by Koha',
  `name` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'name of contact at vendor',
  `position` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'contact person''s position',
  `phone` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'contact''s phone number',
  `altphone` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'contact''s alternate phone number',
  `fax` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'contact''s fax number',
  `email` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'contact''s email address',
  `notes` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'notes related to the contact',
  `orderacquisition` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'should this contact receive acquisition orders',
  `claimacquisition` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'should this contact receive acquisitions claims',
  `claimissues` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'should this contact receive serial claims',
  `acqprimary` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'is this the primary contact for acquisitions messages',
  `serialsprimary` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'is this the primary contact for serials messages',
  `booksellerid` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `aqcontract`
--

CREATE TABLE `aqcontract` (
  `contractnumber` int(11) NOT NULL,
  `contractstartdate` date DEFAULT NULL,
  `contractenddate` date DEFAULT NULL,
  `contractname` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `contractdescription` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `booksellerid` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `aqinvoices`
--

CREATE TABLE `aqinvoices` (
  `invoiceid` int(11) NOT NULL COMMENT 'ID of the invoice, primary key',
  `invoicenumber` longtext COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Name of invoice',
  `booksellerid` int(11) NOT NULL COMMENT 'foreign key to aqbooksellers',
  `shipmentdate` date DEFAULT NULL COMMENT 'date of shipment',
  `billingdate` date DEFAULT NULL COMMENT 'date of billing',
  `closedate` date DEFAULT NULL COMMENT 'invoice close date, NULL means the invoice is open',
  `shipmentcost` decimal(28,6) DEFAULT NULL COMMENT 'shipment cost',
  `shipmentcost_budgetid` int(11) DEFAULT NULL COMMENT 'foreign key to aqbudgets, link the shipment cost to a budget',
  `message_id` int(11) DEFAULT NULL COMMENT 'foreign key to edifact invoice message'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `aqinvoice_adjustments`
--

CREATE TABLE `aqinvoice_adjustments` (
  `adjustment_id` int(11) NOT NULL COMMENT 'primary key for adjustments',
  `invoiceid` int(11) NOT NULL COMMENT 'foreign key to link an adjustment to an invoice',
  `adjustment` decimal(28,6) DEFAULT NULL COMMENT 'amount of adjustment',
  `reason` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'reason for adjustment defined by authorised values in ADJ_REASON category',
  `note` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'text to explain adjustment',
  `budget_id` int(11) DEFAULT NULL COMMENT 'optional link to budget to apply adjustment to',
  `encumber_open` smallint(1) NOT NULL DEFAULT 1 COMMENT 'whether or not to encumber the funds when invoice is still open, 1 = yes, 0 = no',
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT 'timestamp  of last adjustment to adjustment'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `aqorders`
--

CREATE TABLE `aqorders` (
  `ordernumber` int(11) NOT NULL COMMENT 'primary key and unique identifier assigned by Koha to each line',
  `biblionumber` int(11) DEFAULT NULL COMMENT 'links the order to the biblio being ordered (biblio.biblionumber)',
  `entrydate` date DEFAULT NULL COMMENT 'the date the bib was added to the basket',
  `quantity` smallint(6) DEFAULT NULL COMMENT 'the quantity ordered',
  `currency` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the currency used for the purchase',
  `listprice` decimal(28,6) DEFAULT NULL COMMENT 'the vendor price for this line item',
  `datereceived` date DEFAULT NULL COMMENT 'the date this order was received',
  `invoiceid` int(11) DEFAULT NULL COMMENT 'id of invoice',
  `freight` decimal(28,6) DEFAULT NULL COMMENT 'shipping costs (not used)',
  `unitprice` decimal(28,6) DEFAULT NULL COMMENT 'the actual cost entered when receiving this line item',
  `unitprice_tax_excluded` decimal(28,6) DEFAULT NULL COMMENT 'the unit price excluding tax (on receiving)',
  `unitprice_tax_included` decimal(28,6) DEFAULT NULL COMMENT 'the unit price including tax (on receiving)',
  `quantityreceived` smallint(6) NOT NULL DEFAULT 0 COMMENT 'the quantity that have been received so far',
  `created_by` int(11) DEFAULT NULL COMMENT 'the borrowernumber of order line''s creator',
  `datecancellationprinted` date DEFAULT NULL COMMENT 'the date the line item was deleted',
  `cancellationreason` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'reason of cancellation',
  `order_internalnote` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'notes related to this order line, made for staff',
  `order_vendornote` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'notes related to this order line, made for vendor',
  `purchaseordernumber` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'not used? always NULL',
  `basketno` int(11) DEFAULT NULL COMMENT 'links this order line to a specific basket (aqbasket.basketno)',
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT 'the date and time this order line was last modified',
  `rrp` decimal(13,2) DEFAULT NULL COMMENT 'the retail cost for this line item',
  `replacementprice` decimal(28,6) DEFAULT NULL COMMENT 'the replacement cost for this line item',
  `rrp_tax_excluded` decimal(28,6) DEFAULT NULL COMMENT 'the replacement cost excluding tax',
  `rrp_tax_included` decimal(28,6) DEFAULT NULL COMMENT 'the replacement cost including tax',
  `ecost` decimal(13,2) DEFAULT NULL COMMENT 'the replacement cost for this line item',
  `ecost_tax_excluded` decimal(28,6) DEFAULT NULL COMMENT 'the estimated cost excluding tax',
  `ecost_tax_included` decimal(28,6) DEFAULT NULL COMMENT 'the estimated cost including tax',
  `tax_rate_bak` decimal(6,4) DEFAULT NULL COMMENT 'the tax rate for this line item (%)',
  `tax_rate_on_ordering` decimal(6,4) DEFAULT NULL COMMENT 'the tax rate on ordering for this line item (%)',
  `tax_rate_on_receiving` decimal(6,4) DEFAULT NULL COMMENT 'the tax rate on receiving for this line item (%)',
  `tax_value_bak` decimal(28,6) DEFAULT NULL COMMENT 'the tax value for this line item',
  `tax_value_on_ordering` decimal(28,6) DEFAULT NULL COMMENT 'the tax value on ordering for this line item',
  `tax_value_on_receiving` decimal(28,6) DEFAULT NULL COMMENT 'the tax value on receiving for this line item',
  `discount` float(6,4) DEFAULT NULL COMMENT 'the discount for this line item (%)',
  `budget_id` int(11) NOT NULL COMMENT 'the fund this order goes against (aqbudgets.budget_id)',
  `budgetdate` date DEFAULT NULL COMMENT 'not used? always NULL',
  `sort1` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'statistical field',
  `sort2` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'second statistical field',
  `sort1_authcat` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `sort2_authcat` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `uncertainprice` tinyint(1) DEFAULT NULL COMMENT 'was this price uncertain (1 for yes, 0 for no)',
  `subscriptionid` int(11) DEFAULT NULL COMMENT 'links this order line to a subscription (subscription.subscriptionid)',
  `parent_ordernumber` int(11) DEFAULT NULL COMMENT 'ordernumber of parent order line, or same as ordernumber if no parent',
  `orderstatus` varchar(16) COLLATE utf8mb4_unicode_ci DEFAULT 'new' COMMENT 'the current status for this line item. Can be ''new'', ''ordered'', ''partial'', ''complete'' or ''cancelled''',
  `line_item_id` varchar(35) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Supplier''s article id for Edifact orderline',
  `suppliers_reference_number` varchar(35) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Suppliers unique edifact quote ref',
  `suppliers_reference_qualifier` varchar(3) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Type of number above usually ''QLI''',
  `suppliers_report` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'reports received from suppliers'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `aqorders_claims`
--

CREATE TABLE `aqorders_claims` (
  `id` int(11) NOT NULL COMMENT 'ID of the claims',
  `ordernumber` int(11) NOT NULL COMMENT 'order linked to this claim',
  `claimed_on` timestamp NOT NULL DEFAULT current_timestamp() COMMENT 'Date of the claims'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `aqorders_items`
--

CREATE TABLE `aqorders_items` (
  `ordernumber` int(11) NOT NULL COMMENT 'the order this item is attached to (aqorders.ordernumber)',
  `itemnumber` int(11) NOT NULL COMMENT 'the item number for this item (items.itemnumber)',
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT 'the date and time this order item was last touched'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `aqorders_transfers`
--

CREATE TABLE `aqorders_transfers` (
  `ordernumber_from` int(11) DEFAULT NULL,
  `ordernumber_to` int(11) DEFAULT NULL,
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `aqorder_users`
--

CREATE TABLE `aqorder_users` (
  `ordernumber` int(11) NOT NULL COMMENT 'the order this patrons receive notifications from (aqorders.ordernumber)',
  `borrowernumber` int(11) NOT NULL COMMENT 'the borrowernumber for the patron receiving notifications for this order (borrowers.borrowernumber)'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `article_requests`
--

CREATE TABLE `article_requests` (
  `id` int(11) NOT NULL,
  `borrowernumber` int(11) NOT NULL,
  `biblionumber` int(11) NOT NULL,
  `itemnumber` int(11) DEFAULT NULL,
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `title` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `author` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `volume` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `issue` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `date` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `pages` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `chapters` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `patron_notes` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `status` enum('REQUESTED','PENDING','PROCESSING','COMPLETED','CANCELED') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'REQUESTED',
  `notes` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `format` enum('PHOTOCOPY','SCAN') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'PHOTOCOPY',
  `urls` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `cancellation_reason` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'optional authorised value AR_CANCELLATION',
  `debit_id` int(11) DEFAULT NULL COMMENT 'Debit line with cost for article scan request',
  `created_on` timestamp NULL DEFAULT NULL COMMENT 'Be careful with two timestamps in one table not allowing NULL',
  `updated_on` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `toc_request` tinyint(4) NOT NULL DEFAULT 0 COMMENT 'borrower requested table of contents'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `audio_alerts`
--

CREATE TABLE `audio_alerts` (
  `id` int(11) NOT NULL,
  `precedence` smallint(5) UNSIGNED NOT NULL,
  `selector` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `sound` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `authorised_values`
--

CREATE TABLE `authorised_values` (
  `id` int(11) NOT NULL COMMENT 'unique key, used to identify the authorized value',
  `category` varchar(32) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'key used to identify the authorized value category',
  `authorised_value` varchar(80) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'code use to identify the authorized value',
  `lib` varchar(200) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'authorized value description as printed in the staff interface',
  `lib_opac` varchar(200) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'authorized value description as printed in the OPAC',
  `imageurl` varchar(200) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'authorized value URL'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `authorised_values_branches`
--

CREATE TABLE `authorised_values_branches` (
  `av_id` int(11) NOT NULL,
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `authorised_value_categories`
--

CREATE TABLE `authorised_value_categories` (
  `category_name` varchar(32) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `is_system` tinyint(1) DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `auth_header`
--

CREATE TABLE `auth_header` (
  `authid` bigint(20) UNSIGNED NOT NULL,
  `authtypecode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `datecreated` date DEFAULT NULL,
  `modification_time` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `origincode` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `authtrees` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `marc` blob DEFAULT NULL,
  `linkid` bigint(20) DEFAULT NULL,
  `marcxml` longtext COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `auth_subfield_structure`
--

CREATE TABLE `auth_subfield_structure` (
  `authtypecode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `tagfield` varchar(3) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `tagsubfield` varchar(1) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `liblibrarian` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `libopac` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `repeatable` tinyint(4) NOT NULL DEFAULT 0,
  `mandatory` tinyint(4) NOT NULL DEFAULT 0,
  `tab` tinyint(1) DEFAULT NULL,
  `authorised_value` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `value_builder` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `seealso` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `isurl` tinyint(1) DEFAULT NULL,
  `hidden` tinyint(3) NOT NULL DEFAULT 0,
  `linkid` tinyint(1) NOT NULL DEFAULT 0,
  `kohafield` varchar(45) COLLATE utf8mb4_unicode_ci DEFAULT '',
  `frameworkcode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `defaultvalue` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `display_order` int(2) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `auth_tag_structure`
--

CREATE TABLE `auth_tag_structure` (
  `authtypecode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `tagfield` varchar(3) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `liblibrarian` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `libopac` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `repeatable` tinyint(4) NOT NULL DEFAULT 0,
  `mandatory` tinyint(4) NOT NULL DEFAULT 0,
  `authorised_value` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `auth_types`
--

CREATE TABLE `auth_types` (
  `authtypecode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `authtypetext` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `auth_tag_to_report` varchar(3) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `summary` longtext COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `background_jobs`
--

CREATE TABLE `background_jobs` (
  `id` int(11) NOT NULL,
  `status` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `progress` int(11) DEFAULT NULL,
  `size` int(11) DEFAULT NULL,
  `borrowernumber` int(11) DEFAULT NULL,
  `type` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `queue` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'default' COMMENT 'Name of the queue the job is sent to',
  `data` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `enqueued_on` datetime DEFAULT NULL,
  `started_on` datetime DEFAULT NULL,
  `ended_on` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `biblio`
--

CREATE TABLE `biblio` (
  `biblionumber` int(11) NOT NULL COMMENT 'unique identifier assigned to each bibliographic record',
  `frameworkcode` varchar(4) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'foreign key from the biblio_framework table to identify which framework was used in cataloging this record',
  `author` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'statement of responsibility from MARC record (100$a in MARC21)',
  `title` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'title (without the subtitle) from the MARC record (245$a in MARC21)',
  `medium` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'medium from the MARC record (245$h in MARC21)',
  `subtitle` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'remainder of the title from the MARC record (245$b in MARC21)',
  `part_number` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'part number from the MARC record (245$n in MARC21)',
  `part_name` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'part name from the MARC record (245$p in MARC21)',
  `unititle` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'uniform title (without the subtitle) from the MARC record (240$a in MARC21)',
  `notes` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'values from the general notes field in the MARC record (500$a in MARC21) split by bar (|)',
  `serial` tinyint(1) DEFAULT NULL COMMENT 'Boolean indicating whether biblio is for a serial',
  `seriestitle` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `copyrightdate` smallint(6) DEFAULT NULL COMMENT 'publication or copyright date from the MARC record',
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT 'date and time this record was last touched',
  `datecreated` date NOT NULL COMMENT 'the date this record was added to Koha',
  `abstract` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'summary from the MARC record (520$a in MARC21)'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `biblioitems`
--

CREATE TABLE `biblioitems` (
  `biblioitemnumber` int(11) NOT NULL COMMENT 'primary key, unique identifier assigned by Koha',
  `biblionumber` int(11) NOT NULL DEFAULT 0 COMMENT 'foreign key linking this table to the biblio table',
  `volume` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `number` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `itemtype` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'biblio level item type (MARC21 942$c)',
  `isbn` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ISBN (MARC21 020$a)',
  `issn` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ISSN (MARC21 022$a)',
  `ean` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `publicationyear` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `publishercode` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'publisher (MARC21 260$b)',
  `volumedate` date DEFAULT NULL,
  `volumedesc` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'volume information (MARC21 362$a)',
  `collectiontitle` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `collectionissn` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `collectionvolume` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `editionstatement` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `editionresponsibility` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `illus` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'illustrations (MARC21 300$b)',
  `pages` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'number of pages (MARC21 300$c)',
  `notes` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `size` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'material size (MARC21 300$c)',
  `place` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'publication place (MARC21 260$a)',
  `lccn` varchar(25) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'library of congress control number (MARC21 010$a)',
  `url` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'url (MARC21 856$u)',
  `cn_source` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'classification source (MARC21 942$2)',
  `cn_class` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `cn_item` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `cn_suffix` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `cn_sort` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'normalized version of the call number used for sorting',
  `agerestriction` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'target audience/age restriction from the bib record (MARC21 521$a)',
  `totalissues` int(10) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `biblio_framework`
--

CREATE TABLE `biblio_framework` (
  `frameworkcode` varchar(4) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'the unique code assigned to the framework',
  `frameworktext` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'the description/name given to the framework'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `biblio_metadata`
--

CREATE TABLE `biblio_metadata` (
  `id` int(11) NOT NULL,
  `biblionumber` int(11) NOT NULL,
  `format` varchar(16) COLLATE utf8mb4_unicode_ci NOT NULL,
  `schema` varchar(16) COLLATE utf8mb4_unicode_ci NOT NULL,
  `metadata` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `borrowers`
--

CREATE TABLE `borrowers` (
  `borrowernumber` int(11) NOT NULL COMMENT 'primary key, Koha assigned ID number for patrons/borrowers',
  `cardnumber` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'unique key, library assigned ID number for patrons/borrowers',
  `surname` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'patron/borrower''s last name (surname)',
  `firstname` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'patron/borrower''s first name',
  `title` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'patron/borrower''s title, for example: Mr. or Mrs.',
  `othernames` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'any other names associated with the patron/borrower',
  `initials` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'initials for your patron/borrower',
  `streetnumber` tinytext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the house number for your patron/borrower''s primary address',
  `streettype` tinytext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the street type (Rd., Blvd, etc) for your patron/borrower''s primary address',
  `address` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the first address line for your patron/borrower''s primary address',
  `address2` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the second address line for your patron/borrower''s primary address',
  `city` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the city or town for your patron/borrower''s primary address',
  `state` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the state or province for your patron/borrower''s primary address',
  `zipcode` tinytext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the zip or postal code for your patron/borrower''s primary address',
  `country` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the country for your patron/borrower''s primary address',
  `email` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the primary email address for your patron/borrower''s primary address',
  `phone` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the primary phone number for your patron/borrower''s primary address',
  `mobile` tinytext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the other phone number for your patron/borrower''s primary address',
  `fax` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the fax number for your patron/borrower''s primary address',
  `emailpro` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the secondary email addres for your patron/borrower''s primary address',
  `phonepro` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the secondary phone number for your patron/borrower''s primary address',
  `B_streetnumber` tinytext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the house number for your patron/borrower''s alternate address',
  `B_streettype` tinytext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the street type (Rd., Blvd, etc) for your patron/borrower''s alternate address',
  `B_address` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the first address line for your patron/borrower''s alternate address',
  `B_address2` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the second address line for your patron/borrower''s alternate address',
  `B_city` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the city or town for your patron/borrower''s alternate address',
  `B_state` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the state for your patron/borrower''s alternate address',
  `B_zipcode` tinytext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the zip or postal code for your patron/borrower''s alternate address',
  `B_country` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the country for your patron/borrower''s alternate address',
  `B_email` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the patron/borrower''s alternate email address',
  `B_phone` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the patron/borrower''s alternate phone number',
  `dateofbirth` date DEFAULT NULL COMMENT 'the patron/borrower''s date of birth (YYYY-MM-DD)',
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'foreign key from the branches table, includes the code of the patron/borrower''s home branch',
  `categorycode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'foreign key from the categories table, includes the code of the patron category',
  `dateenrolled` date DEFAULT NULL COMMENT 'date the patron was added to Koha (YYYY-MM-DD)',
  `dateexpiry` date DEFAULT NULL COMMENT 'date the patron/borrower''s card is set to expire (YYYY-MM-DD)',
  `password_expiration_date` date DEFAULT NULL COMMENT 'date the patron/borrower''s password is set to expire (YYYY-MM-DD)',
  `date_renewed` date DEFAULT NULL COMMENT 'date the patron/borrower''s card was last renewed',
  `gonenoaddress` tinyint(1) DEFAULT NULL COMMENT 'set to 1 for yes and 0 for no, flag to note that library marked this patron/borrower as having an unconfirmed address',
  `lost` tinyint(1) DEFAULT NULL COMMENT 'set to 1 for yes and 0 for no, flag to note that library marked this patron/borrower as having lost their card',
  `debarred` date DEFAULT NULL COMMENT 'until this date the patron can only check-in (no loans, no holds, etc.), is a fine based on days instead of money (YYYY-MM-DD)',
  `debarredcomment` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'comment on the stop of the patron',
  `contactname` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'used for children and profesionals to include surname or last name of guarantor or organization name',
  `contactfirstname` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'used for children to include first name of guarantor',
  `contacttitle` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'used for children to include title (Mr., Mrs., etc) of guarantor',
  `borrowernotes` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'a note on the patron/borrower''s account that is only visible in the staff interface',
  `relationship` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'used for children to include the relationship to their guarantor',
  `sex` varchar(1) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'patron/borrower''s gender',
  `password` varchar(60) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'patron/borrower''s Bcrypt encrypted password',
  `secret` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Secret for 2FA',
  `auth_method` enum('password','two-factor') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'password' COMMENT 'Authentication method',
  `flags` int(11) DEFAULT NULL COMMENT 'will include a number associated with the staff member''s permissions',
  `userid` varchar(75) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'patron/borrower''s opac and/or staff interface log in',
  `opacnote` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'a note on the patron/borrower''s account that is visible in the OPAC and staff interface',
  `contactnote` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'a note related to the patron/borrower''s alternate address',
  `sort1` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'a field that can be used for any information unique to the library',
  `sort2` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'a field that can be used for any information unique to the library',
  `altcontactfirstname` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'first name of alternate contact for the patron/borrower',
  `altcontactsurname` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'surname or last name of the alternate contact for the patron/borrower',
  `altcontactaddress1` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the first address line for the alternate contact for the patron/borrower',
  `altcontactaddress2` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the second address line for the alternate contact for the patron/borrower',
  `altcontactaddress3` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the city for the alternate contact for the patron/borrower',
  `altcontactstate` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the state for the alternate contact for the patron/borrower',
  `altcontactzipcode` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the zipcode for the alternate contact for the patron/borrower',
  `altcontactcountry` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the country for the alternate contact for the patron/borrower',
  `altcontactphone` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the phone number for the alternate contact for the patron/borrower',
  `smsalertnumber` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the mobile phone number where the patron/borrower would like to receive notices (if SMS turned on)',
  `sms_provider_id` int(11) DEFAULT NULL COMMENT 'the provider of the mobile phone number defined in smsalertnumber',
  `privacy` int(11) NOT NULL DEFAULT 1 COMMENT 'patron/borrower''s privacy settings related to their checkout history',
  `privacy_guarantor_fines` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'controls if relatives can see this patron''s fines',
  `privacy_guarantor_checkouts` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'controls if relatives can see this patron''s checkouts',
  `checkprevcheckout` varchar(7) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'inherit' COMMENT 'produce a warning for this patron if this item has previously been checked out to this patron if ''yes'', not if ''no'', defer to category setting if ''inherit''.',
  `updated_on` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT 'time of last change could be useful for synchronization with external systems (among others)',
  `lastseen` datetime DEFAULT NULL COMMENT 'last time a patron has been seen (connected at the OPAC or staff interface)',
  `lang` varchar(25) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'default' COMMENT 'lang to use to send notices to this patron',
  `login_attempts` int(4) NOT NULL DEFAULT 0 COMMENT 'number of failed login attemps',
  `overdrive_auth_token` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'persist OverDrive auth token',
  `anonymized` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'flag for data anonymization',
  `autorenew_checkouts` tinyint(1) NOT NULL DEFAULT 1 COMMENT 'flag for allowing auto-renewal',
  `primary_contact_method` varchar(45) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'useful for reporting purposes'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `borrower_attributes`
--

CREATE TABLE `borrower_attributes` (
  `id` int(11) NOT NULL COMMENT 'Row id field',
  `borrowernumber` int(11) NOT NULL COMMENT 'foreign key from the borrowers table, defines which patron/borrower has this attribute',
  `code` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'foreign key from the borrower_attribute_types table, defines which custom field this value was entered for',
  `attribute` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'custom patron field value'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `borrower_attribute_types`
--

CREATE TABLE `borrower_attribute_types` (
  `code` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'unique key used to identify each custom field',
  `description` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'description for each custom field',
  `repeatable` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'defines whether one patron/borrower can have multiple values for this custom field  (1 for yes, 0 for no)',
  `unique_id` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'defines if this value needs to be unique (1 for yes, 0 for no)',
  `opac_display` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'defines if this field is visible to patrons on their account in the OPAC (1 for yes, 0 for no)',
  `opac_editable` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'defines if this field is editable by patrons on their account in the OPAC (1 for yes, 0 for no)',
  `staff_searchable` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'defines if this field is searchable via the patron search in the staff interface (1 for yes, 0 for no)',
  `authorised_value_category` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'foreign key from authorised_values that links this custom field to an authorized value category',
  `display_checkout` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'defines if this field displays in checkout screens',
  `category_code` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'defines a category for an attribute_type',
  `class` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'defines a class for an attribute_type',
  `keep_for_pseudonymization` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'defines if this field is copied to anonymized_borrower_attributes (1 for yes, 0 for no)',
  `mandatory` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'defines if the attribute is mandatory or not'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `borrower_attribute_types_branches`
--

CREATE TABLE `borrower_attribute_types_branches` (
  `bat_code` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `b_branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `borrower_debarments`
--

CREATE TABLE `borrower_debarments` (
  `borrower_debarment_id` int(11) NOT NULL COMMENT 'unique key for the restriction',
  `borrowernumber` int(11) NOT NULL COMMENT 'foreign key for borrowers.borrowernumber for patron who is restricted',
  `expiration` date DEFAULT NULL COMMENT 'expiration date of the restriction',
  `type` enum('SUSPENSION','OVERDUES','MANUAL','DISCHARGE') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'MANUAL' COMMENT 'type of restriction',
  `comment` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'comments about the restriction',
  `manager_id` int(11) DEFAULT NULL COMMENT 'foreign key for borrowers.borrowernumber for the librarian managing the restriction',
  `created` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT 'date the restriction was added',
  `updated` timestamp NULL DEFAULT NULL COMMENT 'date the restriction was updated'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `borrower_files`
--

CREATE TABLE `borrower_files` (
  `file_id` int(11) NOT NULL COMMENT 'unique key',
  `borrowernumber` int(11) NOT NULL COMMENT 'foreign key linking to the patron via the borrowernumber',
  `file_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'file name',
  `file_type` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'type of file',
  `file_description` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'description given to the file',
  `file_content` longblob NOT NULL COMMENT 'the file',
  `date_uploaded` timestamp NOT NULL DEFAULT current_timestamp() COMMENT 'date and time the file was added'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `borrower_message_preferences`
--

CREATE TABLE `borrower_message_preferences` (
  `borrower_message_preference_id` int(11) NOT NULL,
  `borrowernumber` int(11) DEFAULT NULL,
  `categorycode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `message_attribute_id` int(11) DEFAULT 0,
  `days_in_advance` int(11) DEFAULT 0,
  `wants_digest` tinyint(1) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `borrower_message_transport_preferences`
--

CREATE TABLE `borrower_message_transport_preferences` (
  `borrower_message_preference_id` int(11) NOT NULL DEFAULT 0,
  `message_transport_type` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '0'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `borrower_modifications`
--

CREATE TABLE `borrower_modifications` (
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `verification_token` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `changed_fields` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `borrowernumber` int(11) NOT NULL DEFAULT 0,
  `cardnumber` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `surname` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `firstname` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `title` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `othernames` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `initials` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `streetnumber` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `streettype` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `address` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `address2` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `city` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `state` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `zipcode` varchar(25) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `country` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `email` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `phone` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `mobile` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `fax` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `emailpro` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `phonepro` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `B_streetnumber` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `B_streettype` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `B_address` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `B_address2` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `B_city` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `B_state` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `B_zipcode` varchar(25) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `B_country` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `B_email` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `B_phone` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `dateofbirth` date DEFAULT NULL,
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `categorycode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `dateenrolled` date DEFAULT NULL,
  `dateexpiry` date DEFAULT NULL,
  `date_renewed` date DEFAULT NULL,
  `gonenoaddress` tinyint(1) DEFAULT NULL,
  `lost` tinyint(1) DEFAULT NULL,
  `debarred` date DEFAULT NULL,
  `debarredcomment` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `contactname` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `contactfirstname` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `contacttitle` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `borrowernotes` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `relationship` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `sex` varchar(1) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `password` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `flags` int(11) DEFAULT NULL,
  `userid` varchar(75) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `opacnote` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `contactnote` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `sort1` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `sort2` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `altcontactfirstname` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `altcontactsurname` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `altcontactaddress1` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `altcontactaddress2` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `altcontactaddress3` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `altcontactstate` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `altcontactzipcode` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `altcontactcountry` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `altcontactphone` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `smsalertnumber` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `privacy` int(11) DEFAULT NULL,
  `extended_attributes` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `gdpr_proc_consent` datetime DEFAULT NULL COMMENT 'data processing consent',
  `primary_contact_method` varchar(45) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'useful for reporting purposes'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `borrower_password_recovery`
--

CREATE TABLE `borrower_password_recovery` (
  `borrowernumber` int(11) NOT NULL COMMENT 'the user asking a password recovery',
  `uuid` varchar(128) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'a unique string to identify a password recovery attempt',
  `valid_until` timestamp NOT NULL DEFAULT current_timestamp() COMMENT 'a time limit on the password recovery attempt'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `borrower_relationships`
--

CREATE TABLE `borrower_relationships` (
  `id` int(11) NOT NULL,
  `guarantor_id` int(11) DEFAULT NULL,
  `guarantee_id` int(11) NOT NULL,
  `relationship` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `branches`
--

CREATE TABLE `branches` (
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'a unique key assigned to each branch',
  `branchname` longtext COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'the name of your library or branch',
  `branchaddress1` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the first address line of for your library or branch',
  `branchaddress2` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the second address line of for your library or branch',
  `branchaddress3` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the third address line of for your library or branch',
  `branchzip` varchar(25) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the zip or postal code for your library or branch',
  `branchcity` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the city or province for your library or branch',
  `branchstate` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the state for your library or branch',
  `branchcountry` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the county for your library or branch',
  `branchphone` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the primary phone for your library or branch',
  `branchfax` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the fax number for your library or branch',
  `branchemail` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the primary email address for your library or branch',
  `branchillemail` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the ILL staff email address for your library or branch',
  `branchreplyto` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the email to be used as a Reply-To',
  `branchreturnpath` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the email to be used as Return-Path',
  `branchurl` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the URL for your library or branch''s website',
  `issuing` tinyint(4) DEFAULT NULL COMMENT 'unused in Koha',
  `branchip` varchar(15) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the IP address for your library or branch',
  `branchnotes` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'notes related to your library or branch',
  `opac_info` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'HTML that displays in OPAC',
  `geolocation` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'geolocation of your library',
  `marcorgcode` varchar(16) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'MARC Organization Code, see http://www.loc.gov/marc/organizations/orgshome.html, when empty defaults to syspref MARCOrgCode',
  `pickup_location` tinyint(1) NOT NULL DEFAULT 1 COMMENT 'the ability to act as a pickup location',
  `public` tinyint(1) NOT NULL DEFAULT 1 COMMENT 'whether this library should show in the opac'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `branches_overdrive`
--

CREATE TABLE `branches_overdrive` (
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL,
  `authname` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `branchtransfers`
--

CREATE TABLE `branchtransfers` (
  `branchtransfer_id` int(12) NOT NULL COMMENT 'primary key',
  `itemnumber` int(11) NOT NULL DEFAULT 0 COMMENT 'the itemnumber that it is in transit (items.itemnumber)',
  `daterequested` timestamp NOT NULL DEFAULT current_timestamp() COMMENT 'the date the transfer was requested',
  `datesent` datetime DEFAULT NULL COMMENT 'the date the transfer was initialized',
  `frombranch` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'the branch the transfer is coming from',
  `datearrived` datetime DEFAULT NULL COMMENT 'the date the transfer arrived at its destination',
  `datecancelled` datetime DEFAULT NULL COMMENT 'the date the transfer was cancelled',
  `tobranch` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'the branch the transfer was going to',
  `comments` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'any comments related to the transfer',
  `reason` enum('Manual','StockrotationAdvance','StockrotationRepatriation','ReturnToHome','ReturnToHolding','RotatingCollection','Reserve','LostReserve','CancelReserve','TransferCancellation','Recall','RecallCancellation') COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'what triggered the transfer',
  `cancellation_reason` enum('Manual','StockrotationAdvance','StockrotationRepatriation','ReturnToHome','ReturnToHolding','RotatingCollection','Reserve','LostReserve','CancelReserve','ItemLost','WrongTransfer','CancelRecall') COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'what triggered the transfer cancellation'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `branch_transfer_limits`
--

CREATE TABLE `branch_transfer_limits` (
  `limitId` int(8) NOT NULL,
  `toBranch` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL,
  `fromBranch` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL,
  `itemtype` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `ccode` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `browser`
--

CREATE TABLE `browser` (
  `level` int(11) NOT NULL,
  `classification` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL,
  `description` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `number` bigint(20) NOT NULL,
  `endnode` tinyint(4) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `cash_registers`
--

CREATE TABLE `cash_registers` (
  `id` int(11) NOT NULL COMMENT 'unique identifier for each account register',
  `name` varchar(24) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'the user friendly identifier for each account register',
  `description` longtext COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'the user friendly description for each account register',
  `branch` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'the foreign key the library this account register belongs',
  `branch_default` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'boolean flag to denote that this till is the branch default',
  `starting_float` decimal(28,6) DEFAULT NULL COMMENT 'the starting float this account register should be assigned',
  `archived` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'boolean flag to denote if this till is archived or not'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `cash_register_actions`
--

CREATE TABLE `cash_register_actions` (
  `id` int(11) NOT NULL COMMENT 'unique identifier for each account register action',
  `code` varchar(24) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'action code denoting the type of action recorded (enum),',
  `register_id` int(11) NOT NULL COMMENT 'id of cash_register this action belongs to,',
  `manager_id` int(11) NOT NULL COMMENT 'staff member performing the action',
  `amount` decimal(28,6) DEFAULT NULL COMMENT 'amount recorded in action (signed)',
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `categories`
--

CREATE TABLE `categories` (
  `categorycode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'unique primary key used to idenfity the patron category',
  `description` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'description of the patron category',
  `enrolmentperiod` smallint(6) DEFAULT NULL COMMENT 'number of months the patron is enrolled for (will be NULL if enrolmentperioddate is set)',
  `enrolmentperioddate` date DEFAULT NULL COMMENT 'date the patron is enrolled until (will be NULL if enrolmentperiod is set)',
  `password_expiry_days` smallint(6) DEFAULT NULL COMMENT 'number of days after which the patron must reset their password',
  `upperagelimit` smallint(6) DEFAULT NULL COMMENT 'age limit for the patron',
  `dateofbirthrequired` tinyint(1) DEFAULT NULL COMMENT 'the minimum age required for the patron category',
  `finetype` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'unused in Koha',
  `bulk` tinyint(1) DEFAULT NULL,
  `enrolmentfee` decimal(28,6) DEFAULT NULL COMMENT 'enrollment fee for the patron',
  `overduenoticerequired` tinyint(1) DEFAULT NULL COMMENT 'are overdue notices sent to this patron category (1 for yes, 0 for no)',
  `issuelimit` smallint(6) DEFAULT NULL COMMENT 'unused in Koha',
  `reservefee` decimal(28,6) DEFAULT NULL COMMENT 'cost to place holds',
  `hidelostitems` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'are lost items shown to this category (1 for yes, 0 for no)',
  `category_type` varchar(1) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'A' COMMENT 'type of Koha patron (Adult, Child, Professional, Organizational, Statistical, Staff)',
  `BlockExpiredPatronOpacActions` tinyint(1) NOT NULL DEFAULT -1 COMMENT 'wheither or not a patron of this category can renew books or place holds once their card has expired. 0 means they can, 1 means they cannot, -1 means use syspref BlockExpiredPatronOpacActions',
  `default_privacy` enum('default','never','forever') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'default' COMMENT 'Default privacy setting for this patron category',
  `checkprevcheckout` varchar(7) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'inherit' COMMENT 'produce a warning for this patron category if this item has previously been checked out to this patron if ''yes'', not if ''no'', defer to syspref setting if ''inherit''.',
  `reset_password` tinyint(1) DEFAULT NULL COMMENT 'if patrons of this category can do the password reset flow,',
  `change_password` tinyint(1) DEFAULT NULL COMMENT 'if patrons of this category can change their passwords in the OAPC',
  `min_password_length` smallint(6) DEFAULT NULL COMMENT 'set minimum password length for patrons in this category',
  `require_strong_password` tinyint(1) DEFAULT NULL COMMENT 'set required password strength for patrons in this category',
  `exclude_from_local_holds_priority` tinyint(1) DEFAULT NULL COMMENT 'Exclude patrons of this category from local holds priority'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `categories_branches`
--

CREATE TABLE `categories_branches` (
  `categorycode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `circulation_rules`
--

CREATE TABLE `circulation_rules` (
  `id` int(11) NOT NULL,
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `categorycode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `itemtype` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `rule_name` varchar(32) COLLATE utf8mb4_unicode_ci NOT NULL,
  `rule_value` varchar(32) COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `cities`
--

CREATE TABLE `cities` (
  `cityid` int(11) NOT NULL COMMENT 'unique identifier added by Koha',
  `city_name` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'name of the city',
  `city_state` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'name of the state/province',
  `city_country` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'name of the country',
  `city_zipcode` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'zip or postal code'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `class_sort_rules`
--

CREATE TABLE `class_sort_rules` (
  `class_sort_rule` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `description` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `sort_routine` varchar(30) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT ''
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `class_sources`
--

CREATE TABLE `class_sources` (
  `cn_source` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `description` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `used` tinyint(4) NOT NULL DEFAULT 0,
  `class_sort_rule` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `class_split_rule` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT ''
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `class_split_rules`
--

CREATE TABLE `class_split_rules` (
  `class_split_rule` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `description` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `split_routine` varchar(30) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `split_regex` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT ''
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `clubs`
--

CREATE TABLE `clubs` (
  `id` int(11) NOT NULL,
  `club_template_id` int(11) NOT NULL,
  `name` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `description` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `date_start` date DEFAULT NULL,
  `date_end` date DEFAULT NULL,
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `date_created` timestamp NOT NULL DEFAULT current_timestamp(),
  `date_updated` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `club_enrollments`
--

CREATE TABLE `club_enrollments` (
  `id` int(11) NOT NULL,
  `club_id` int(11) NOT NULL,
  `borrowernumber` int(11) NOT NULL,
  `date_enrolled` timestamp NOT NULL DEFAULT current_timestamp(),
  `date_canceled` timestamp NULL DEFAULT NULL,
  `date_created` timestamp NULL DEFAULT NULL,
  `date_updated` timestamp NULL DEFAULT NULL,
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `club_enrollment_fields`
--

CREATE TABLE `club_enrollment_fields` (
  `id` int(11) NOT NULL,
  `club_enrollment_id` int(11) NOT NULL,
  `club_template_enrollment_field_id` int(11) NOT NULL,
  `value` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `club_fields`
--

CREATE TABLE `club_fields` (
  `id` int(11) NOT NULL,
  `club_template_field_id` int(11) NOT NULL,
  `club_id` int(11) NOT NULL,
  `value` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `club_holds`
--

CREATE TABLE `club_holds` (
  `id` int(11) NOT NULL,
  `club_id` int(11) NOT NULL COMMENT 'id for the club the hold was generated for',
  `biblio_id` int(11) NOT NULL COMMENT 'id for the bibliographic record the hold has been placed against',
  `item_id` int(11) DEFAULT NULL COMMENT 'If item-level, the id for the item the hold has been placed agains',
  `date_created` timestamp NOT NULL DEFAULT current_timestamp() COMMENT 'Timestamp for the placed hold'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `club_holds_to_patron_holds`
--

CREATE TABLE `club_holds_to_patron_holds` (
  `id` int(11) NOT NULL,
  `club_hold_id` int(11) NOT NULL,
  `patron_id` int(11) NOT NULL,
  `hold_id` int(11) DEFAULT NULL,
  `error_code` enum('damaged','ageRestricted','itemAlreadyOnHold','tooManyHoldsForThisRecord','tooManyReservesToday','tooManyReserves','notReservable','cannotReserveFromOtherBranches','libraryNotFound','libraryNotPickupLocation','cannotBeTransferred','noReservesAllowed') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `error_message` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `club_templates`
--

CREATE TABLE `club_templates` (
  `id` int(11) NOT NULL,
  `name` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `description` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `is_enrollable_from_opac` tinyint(1) NOT NULL DEFAULT 0,
  `is_email_required` tinyint(1) NOT NULL DEFAULT 0,
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `date_created` timestamp NOT NULL DEFAULT current_timestamp(),
  `date_updated` timestamp NULL DEFAULT NULL,
  `is_deletable` tinyint(1) NOT NULL DEFAULT 1
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `club_template_enrollment_fields`
--

CREATE TABLE `club_template_enrollment_fields` (
  `id` int(11) NOT NULL,
  `club_template_id` int(11) NOT NULL,
  `name` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `description` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `authorised_value_category` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `club_template_fields`
--

CREATE TABLE `club_template_fields` (
  `id` int(11) NOT NULL,
  `club_template_id` int(11) NOT NULL,
  `name` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `description` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `authorised_value_category` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `collections`
--

CREATE TABLE `collections` (
  `colId` int(11) NOT NULL,
  `colTitle` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `colDesc` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `colBranchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '''branchcode for branch where item should be held.'''
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `collections_tracking`
--

CREATE TABLE `collections_tracking` (
  `collections_tracking_id` int(11) NOT NULL,
  `colId` int(11) NOT NULL DEFAULT 0 COMMENT 'collections.colId',
  `itemnumber` int(11) NOT NULL DEFAULT 0 COMMENT 'items.itemnumber'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `columns_settings`
--

CREATE TABLE `columns_settings` (
  `module` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `page` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `tablename` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `columnname` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `cannot_be_toggled` int(1) NOT NULL DEFAULT 0,
  `is_hidden` int(1) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `courses`
--

CREATE TABLE `courses` (
  `course_id` int(11) NOT NULL COMMENT 'unique id for the course',
  `department` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the authorised value for the DEPARTMENT',
  `course_number` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the ''course number'' assigned to a course',
  `section` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the ''section'' of a course',
  `course_name` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the name of the course',
  `term` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the authorised value for the TERM',
  `staff_note` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the text of the staff only note',
  `public_note` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the text of the public / opac note',
  `students_count` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'how many students will be taking this course/section',
  `enabled` enum('yes','no') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'yes' COMMENT 'determines whether the course is active',
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `course_instructors`
--

CREATE TABLE `course_instructors` (
  `course_id` int(11) NOT NULL COMMENT 'foreign key to link to courses.course_id',
  `borrowernumber` int(11) NOT NULL COMMENT 'foreign key to link to borrowers.borrowernumber for instructor information'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `course_items`
--

CREATE TABLE `course_items` (
  `ci_id` int(11) NOT NULL COMMENT 'course item id',
  `itemnumber` int(11) DEFAULT NULL COMMENT 'items.itemnumber for the item on reserve',
  `biblionumber` int(11) NOT NULL COMMENT 'biblio.biblionumber for the bibliographic record on reserve',
  `itype` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'new itemtype for the item to have while on reserve (optional)',
  `itype_enabled` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'indicates if itype should be changed while on course reserve',
  `itype_storage` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'a place to store the itype when item is on course reserve',
  `ccode` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'new category code for the item to have while on reserve (optional)',
  `ccode_enabled` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'indicates if ccode should be changed while on course reserve',
  `ccode_storage` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'a place to store the ccode when item is on course reserve',
  `homebranch` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'new home branch for the item to have while on reserve (optional)',
  `homebranch_enabled` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'indicates if homebranch should be changed while on course reserve',
  `homebranch_storage` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'a place to store the homebranch when item is on course reserve',
  `holdingbranch` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'new holding branch for the item to have while on reserve (optional)',
  `holdingbranch_enabled` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'indicates if itype should be changed while on course reserve',
  `holdingbranch_storage` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'a place to store the holdingbranch when item is on course reserve',
  `location` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'new shelving location for the item to have while on reseve (optional)',
  `location_enabled` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'indicates if itype should be changed while on course reserve',
  `location_storage` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'a place to store the location when the item is on course reserve',
  `enabled` enum('yes','no') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'no' COMMENT 'if at least one enabled course has this item on reseve, this field will be ''yes'', otherwise it will be ''no''',
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `course_reserves`
--

CREATE TABLE `course_reserves` (
  `cr_id` int(11) NOT NULL,
  `course_id` int(11) NOT NULL COMMENT 'foreign key to link to courses.course_id',
  `ci_id` int(11) NOT NULL COMMENT 'foreign key to link to courses_items.ci_id',
  `staff_note` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'staff only note',
  `public_note` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'public, OPAC visible note',
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `cover_images`
--

CREATE TABLE `cover_images` (
  `imagenumber` int(11) NOT NULL COMMENT 'unique identifier for the image',
  `biblionumber` int(11) DEFAULT NULL COMMENT 'foreign key from biblio table to link to biblionumber',
  `itemnumber` int(11) DEFAULT NULL COMMENT 'foreign key from item table to link to itemnumber',
  `mimetype` varchar(15) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'image type',
  `imagefile` mediumblob NOT NULL COMMENT 'image file contents',
  `thumbnail` mediumblob NOT NULL COMMENT 'thumbnail file contents',
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() COMMENT 'image creation/update time'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `creator_batches`
--

CREATE TABLE `creator_batches` (
  `label_id` int(11) NOT NULL,
  `batch_id` int(10) NOT NULL DEFAULT 1,
  `description` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `item_number` int(11) DEFAULT NULL,
  `borrower_number` int(11) DEFAULT NULL,
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `branch_code` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'NB',
  `creator` char(15) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'Labels'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `creator_images`
--

CREATE TABLE `creator_images` (
  `image_id` int(4) NOT NULL,
  `imagefile` mediumblob DEFAULT NULL,
  `image_name` char(20) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'DEFAULT'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `creator_layouts`
--

CREATE TABLE `creator_layouts` (
  `layout_id` int(4) NOT NULL,
  `barcode_type` char(100) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'CODE39',
  `start_label` int(2) NOT NULL DEFAULT 1,
  `printing_type` char(32) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'BAR',
  `layout_name` char(25) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'DEFAULT',
  `guidebox` int(1) DEFAULT 0,
  `oblique_title` int(1) DEFAULT 1,
  `font` char(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'TR',
  `font_size` int(4) NOT NULL DEFAULT 10,
  `units` char(20) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'POINT',
  `callnum_split` int(1) DEFAULT 0,
  `text_justify` char(1) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'L',
  `format_string` varchar(210) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'barcode',
  `layout_xml` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `creator` char(15) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'Labels'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `creator_templates`
--

CREATE TABLE `creator_templates` (
  `template_id` int(4) NOT NULL,
  `profile_id` int(4) DEFAULT NULL,
  `template_code` char(100) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'DEFAULT TEMPLATE',
  `template_desc` char(100) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'Default description',
  `page_width` float NOT NULL DEFAULT 0,
  `page_height` float NOT NULL DEFAULT 0,
  `label_width` float NOT NULL DEFAULT 0,
  `label_height` float NOT NULL DEFAULT 0,
  `top_text_margin` float NOT NULL DEFAULT 0,
  `left_text_margin` float NOT NULL DEFAULT 0,
  `top_margin` float NOT NULL DEFAULT 0,
  `left_margin` float NOT NULL DEFAULT 0,
  `cols` int(2) NOT NULL DEFAULT 0,
  `rows` int(2) NOT NULL DEFAULT 0,
  `col_gap` float NOT NULL DEFAULT 0,
  `row_gap` float NOT NULL DEFAULT 0,
  `units` char(20) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'POINT',
  `creator` char(15) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'Labels'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `currency`
--

CREATE TABLE `currency` (
  `currency` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `symbol` varchar(5) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `isocode` varchar(5) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `rate` float(15,5) DEFAULT NULL,
  `active` tinyint(1) DEFAULT NULL,
  `archived` tinyint(1) DEFAULT 0,
  `p_sep_by_space` tinyint(1) DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `deletedbiblio`
--

CREATE TABLE `deletedbiblio` (
  `biblionumber` int(11) NOT NULL COMMENT 'unique identifier assigned to each bibliographic record',
  `frameworkcode` varchar(4) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'foriegn key from the biblio_framework table to identify which framework was used in cataloging this record',
  `author` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'statement of responsibility from MARC record (100$a in MARC21)',
  `title` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'title (without the subtitle) from the MARC record (245$a in MARC21)',
  `medium` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'medium from the MARC record (245$h in MARC21)',
  `subtitle` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'remainder of the title from the MARC record (245$b in MARC21)',
  `part_number` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'part number from the MARC record (245$n in MARC21)',
  `part_name` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'part name from the MARC record (245$p in MARC21)',
  `unititle` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'uniform title (without the subtitle) from the MARC record (240$a in MARC21)',
  `notes` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'values from the general notes field in the MARC record (500$a in MARC21) split by bar (|)',
  `serial` tinyint(1) DEFAULT NULL COMMENT 'Boolean indicating whether biblio is for a serial',
  `seriestitle` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `copyrightdate` smallint(6) DEFAULT NULL COMMENT 'publication or copyright date from the MARC record',
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT 'date and time this record was last touched',
  `datecreated` date NOT NULL COMMENT 'the date this record was added to Koha',
  `abstract` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'summary from the MARC record (520$a in MARC21)'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `deletedbiblioitems`
--

CREATE TABLE `deletedbiblioitems` (
  `biblioitemnumber` int(11) NOT NULL DEFAULT 0 COMMENT 'primary key, unique identifier assigned by Koha',
  `biblionumber` int(11) NOT NULL DEFAULT 0 COMMENT 'foreign key linking this table to the biblio table',
  `volume` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `number` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `itemtype` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'biblio level item type (MARC21 942$c)',
  `isbn` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ISBN (MARC21 020$a)',
  `issn` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'ISSN (MARC21 022$a)',
  `ean` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `publicationyear` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `publishercode` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'publisher (MARC21 260$b)',
  `volumedate` date DEFAULT NULL,
  `volumedesc` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'volume information (MARC21 362$a)',
  `collectiontitle` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `collectionissn` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `collectionvolume` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `editionstatement` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `editionresponsibility` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `illus` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'illustrations (MARC21 300$b)',
  `pages` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'number of pages (MARC21 300$c)',
  `notes` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `size` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'material size (MARC21 300$c)',
  `place` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'publication place (MARC21 260$a)',
  `lccn` varchar(25) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'library of congress control number (MARC21 010$a)',
  `url` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'url (MARC21 856$u)',
  `cn_source` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'classification source (MARC21 942$2)',
  `cn_class` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `cn_item` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `cn_suffix` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `cn_sort` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'normalized version of the call number used for sorting',
  `agerestriction` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'target audience/age restriction from the bib record (MARC21 521$a)',
  `totalissues` int(10) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `deletedbiblio_metadata`
--

CREATE TABLE `deletedbiblio_metadata` (
  `id` int(11) NOT NULL,
  `biblionumber` int(11) NOT NULL,
  `format` varchar(16) COLLATE utf8mb4_unicode_ci NOT NULL,
  `schema` varchar(16) COLLATE utf8mb4_unicode_ci NOT NULL,
  `metadata` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `deletedborrowers`
--

CREATE TABLE `deletedborrowers` (
  `borrowernumber` int(11) NOT NULL DEFAULT 0 COMMENT 'primary key, Koha assigned ID number for patrons/borrowers',
  `cardnumber` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'unique key, library assigned ID number for patrons/borrowers',
  `surname` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'patron/borrower''s last name (surname)',
  `firstname` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'patron/borrower''s first name',
  `title` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'patron/borrower''s title, for example: Mr. or Mrs.',
  `othernames` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'any other names associated with the patron/borrower',
  `initials` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'initials for your patron/borrower',
  `streetnumber` tinytext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the house number for your patron/borrower''s primary address',
  `streettype` tinytext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the street type (Rd., Blvd, etc) for your patron/borrower''s primary address',
  `address` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the first address line for your patron/borrower''s primary address',
  `address2` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the second address line for your patron/borrower''s primary address',
  `city` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the city or town for your patron/borrower''s primary address',
  `state` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the state or province for your patron/borrower''s primary address',
  `zipcode` tinytext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the zip or postal code for your patron/borrower''s primary address',
  `country` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the country for your patron/borrower''s primary address',
  `email` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the primary email address for your patron/borrower''s primary address',
  `phone` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the primary phone number for your patron/borrower''s primary address',
  `mobile` tinytext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the other phone number for your patron/borrower''s primary address',
  `fax` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the fax number for your patron/borrower''s primary address',
  `emailpro` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the secondary email addres for your patron/borrower''s primary address',
  `phonepro` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the secondary phone number for your patron/borrower''s primary address',
  `B_streetnumber` tinytext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the house number for your patron/borrower''s alternate address',
  `B_streettype` tinytext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the street type (Rd., Blvd, etc) for your patron/borrower''s alternate address',
  `B_address` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the first address line for your patron/borrower''s alternate address',
  `B_address2` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the second address line for your patron/borrower''s alternate address',
  `B_city` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the city or town for your patron/borrower''s alternate address',
  `B_state` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the state for your patron/borrower''s alternate address',
  `B_zipcode` tinytext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the zip or postal code for your patron/borrower''s alternate address',
  `B_country` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the country for your patron/borrower''s alternate address',
  `B_email` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the patron/borrower''s alternate email address',
  `B_phone` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the patron/borrower''s alternate phone number',
  `dateofbirth` date DEFAULT NULL COMMENT 'the patron/borrower''s date of birth (YYYY-MM-DD)',
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'foreign key from the branches table, includes the code of the patron/borrower''s home branch',
  `categorycode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'foreign key from the categories table, includes the code of the patron category',
  `dateenrolled` date DEFAULT NULL COMMENT 'date the patron was added to Koha (YYYY-MM-DD)',
  `dateexpiry` date DEFAULT NULL COMMENT 'date the patron/borrower''s card is set to expire (YYYY-MM-DD)',
  `password_expiration_date` date DEFAULT NULL COMMENT 'date the patron/borrower''s password is set to expire (YYYY-MM-DD)',
  `date_renewed` date DEFAULT NULL COMMENT 'date the patron/borrower''s card was last renewed',
  `gonenoaddress` tinyint(1) DEFAULT NULL COMMENT 'set to 1 for yes and 0 for no, flag to note that library marked this patron/borrower as having an unconfirmed address',
  `lost` tinyint(1) DEFAULT NULL COMMENT 'set to 1 for yes and 0 for no, flag to note that library marked this patron/borrower as having lost their card',
  `debarred` date DEFAULT NULL COMMENT 'until this date the patron can only check-in (no loans, no holds, etc.), is a fine based on days instead of money (YYYY-MM-DD)',
  `debarredcomment` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'comment on the stop of patron',
  `contactname` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'used for children and profesionals to include surname or last name of guarantor or organization name',
  `contactfirstname` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'used for children to include first name of guarantor',
  `contacttitle` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'used for children to include title (Mr., Mrs., etc) of guarantor',
  `borrowernotes` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'a note on the patron/borrower''s account that is only visible in the staff interface',
  `relationship` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'used for children to include the relationship to their guarantor',
  `sex` varchar(1) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'patron/borrower''s gender',
  `password` varchar(60) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'patron/borrower''s encrypted password',
  `secret` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Secret for 2FA',
  `auth_method` enum('password','two-factor') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'password' COMMENT 'Authentication method',
  `flags` int(11) DEFAULT NULL COMMENT 'will include a number associated with the staff member''s permissions',
  `userid` varchar(75) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'patron/borrower''s opac and/or staff interface log in',
  `opacnote` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'a note on the patron/borrower''s account that is visible in the OPAC and staff interface',
  `contactnote` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'a note related to the patron/borrower''s alternate address',
  `sort1` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'a field that can be used for any information unique to the library',
  `sort2` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'a field that can be used for any information unique to the library',
  `altcontactfirstname` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'first name of alternate contact for the patron/borrower',
  `altcontactsurname` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'surname or last name of the alternate contact for the patron/borrower',
  `altcontactaddress1` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the first address line for the alternate contact for the patron/borrower',
  `altcontactaddress2` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the second address line for the alternate contact for the patron/borrower',
  `altcontactaddress3` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the city for the alternate contact for the patron/borrower',
  `altcontactstate` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the state for the alternate contact for the patron/borrower',
  `altcontactzipcode` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the zipcode for the alternate contact for the patron/borrower',
  `altcontactcountry` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the country for the alternate contact for the patron/borrower',
  `altcontactphone` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the phone number for the alternate contact for the patron/borrower',
  `smsalertnumber` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the mobile phone number where the patron/borrower would like to receive notices (if SMS turned on)',
  `sms_provider_id` int(11) DEFAULT NULL COMMENT 'the provider of the mobile phone number defined in smsalertnumber',
  `privacy` int(11) NOT NULL DEFAULT 1 COMMENT 'patron/borrower''s privacy settings related to their checkout history  KEY `borrowernumber` (`borrowernumber`),',
  `privacy_guarantor_fines` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'controls if relatives can see this patron''s fines',
  `privacy_guarantor_checkouts` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'controls if relatives can see this patron''s checkouts',
  `checkprevcheckout` varchar(7) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'inherit' COMMENT 'produce a warning for this patron if this item has previously been checked out to this patron if ''yes'', not if ''no'', defer to category setting if ''inherit''.',
  `updated_on` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT 'time of last change could be useful for synchronization with external systems (among others)',
  `lastseen` datetime DEFAULT NULL COMMENT 'last time a patron has been seen (connected at the OPAC or staff interface)',
  `lang` varchar(25) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'default' COMMENT 'lang to use to send notices to this patron',
  `login_attempts` int(4) NOT NULL DEFAULT 0 COMMENT 'number of failed login attemps',
  `overdrive_auth_token` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'persist OverDrive auth token',
  `anonymized` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'flag for data anonymization',
  `autorenew_checkouts` tinyint(1) NOT NULL DEFAULT 1 COMMENT 'flag for allowing auto-renewal',
  `primary_contact_method` varchar(45) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'useful for reporting purposes'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `deleteditems`
--

CREATE TABLE `deleteditems` (
  `itemnumber` int(11) NOT NULL DEFAULT 0 COMMENT 'primary key and unique identifier added by Koha',
  `biblionumber` int(11) NOT NULL DEFAULT 0 COMMENT 'foreign key from biblio table used to link this item to the right bib record',
  `biblioitemnumber` int(11) NOT NULL DEFAULT 0 COMMENT 'foreign key from the biblioitems table to link to item to additional information',
  `barcode` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'item barcode (MARC21 952$p)',
  `dateaccessioned` date DEFAULT NULL COMMENT 'date the item was acquired or added to Koha (MARC21 952$d)',
  `booksellerid` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'where the item was purchased (MARC21 952$e)',
  `homebranch` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'foreign key from the branches table for the library that owns this item (MARC21 952$a)',
  `price` decimal(8,2) DEFAULT NULL COMMENT 'purchase price (MARC21 952$g)',
  `replacementprice` decimal(8,2) DEFAULT NULL COMMENT 'cost the library charges to replace the item if it has been marked lost (MARC21 952$v)',
  `replacementpricedate` date DEFAULT NULL COMMENT 'the date the price is effective from (MARC21 952$w)',
  `datelastborrowed` date DEFAULT NULL COMMENT 'the date the item was last checked out',
  `datelastseen` date DEFAULT NULL COMMENT 'the date the item was last see (usually the last time the barcode was scanned or inventory was done)',
  `stack` tinyint(1) DEFAULT NULL,
  `notforloan` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'authorized value defining why this item is not for loan (MARC21 952$7)',
  `damaged` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'authorized value defining this item as damaged (MARC21 952$4)',
  `damaged_on` datetime DEFAULT NULL COMMENT 'the date and time an item was last marked as damaged, NULL if not damaged',
  `itemlost` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'authorized value defining this item as lost (MARC21 952$1)',
  `itemlost_on` datetime DEFAULT NULL COMMENT 'the date and time an item was last marked as lost, NULL if not lost',
  `withdrawn` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'authorized value defining this item as withdrawn (MARC21 952$0)',
  `withdrawn_on` datetime DEFAULT NULL COMMENT 'the date and time an item was last marked as withdrawn, NULL if not withdrawn',
  `itemcallnumber` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'call number for this item (MARC21 952$o)',
  `coded_location_qualifier` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'coded location qualifier(MARC21 952$f)',
  `issues` smallint(6) DEFAULT 0 COMMENT 'number of times this item has been checked out',
  `renewals` smallint(6) DEFAULT NULL COMMENT 'number of times this item has been renewed',
  `reserves` smallint(6) DEFAULT NULL COMMENT 'number of times this item has been placed on hold/reserved',
  `restricted` tinyint(1) DEFAULT NULL COMMENT 'authorized value defining use restrictions for this item (MARC21 952$5)',
  `itemnotes` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'public notes on this item (MARC21 952$z)',
  `itemnotes_nonpublic` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'non-public notes on this item (MARC21 952$x)',
  `holdingbranch` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'foreign key from the branches table for the library that is currently in possession item (MARC21 952$b)',
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT 'date and time this item was last altered',
  `location` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'authorized value for the shelving location for this item (MARC21 952$c)',
  `permanent_location` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'linked to the CART and PROC temporary locations feature, stores the permanent shelving location',
  `onloan` date DEFAULT NULL COMMENT 'defines if item is checked out (NULL for not checked out, and due date for checked out)',
  `cn_source` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'classification source used on this item (MARC21 952$2)',
  `cn_sort` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'normalized form of the call number (MARC21 952$o) used for sorting',
  `ccode` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'authorized value for the collection code associated with this item (MARC21 952$8)',
  `materials` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'materials specified (MARC21 952$3)',
  `uri` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'URL for the item (MARC21 952$u)',
  `itype` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'foreign key from the itemtypes table defining the type for this item (MARC21 952$y)',
  `more_subfields_xml` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'additional 952 subfields in XML format',
  `enumchron` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'serial enumeration/chronology for the item (MARC21 952$h)',
  `copynumber` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'copy number (MARC21 952$t)',
  `stocknumber` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'inventory number (MARC21 952$i)',
  `new_status` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '''new'' value, you can put whatever free-text information. This field is intented to be managed by the automatic_item_modification_by_age cronjob.',
  `exclude_from_local_holds_priority` tinyint(1) DEFAULT NULL COMMENT 'Exclude this item from local holds priority'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `desks`
--

CREATE TABLE `desks` (
  `desk_id` int(11) NOT NULL COMMENT 'unique identifier',
  `desk_name` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'name of the desk',
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'library the desk is located at'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `discharges`
--

CREATE TABLE `discharges` (
  `discharge_id` int(11) NOT NULL,
  `borrower` int(11) DEFAULT NULL,
  `needed` timestamp NULL DEFAULT NULL,
  `validated` timestamp NULL DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `edifact_ean`
--

CREATE TABLE `edifact_ean` (
  `ee_id` int(11) NOT NULL,
  `description` varchar(128) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `ean` varchar(15) COLLATE utf8mb4_unicode_ci NOT NULL,
  `id_code_qualifier` varchar(3) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '14'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `edifact_messages`
--

CREATE TABLE `edifact_messages` (
  `id` int(11) NOT NULL,
  `message_type` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL,
  `transfer_date` date DEFAULT NULL,
  `vendor_id` int(11) DEFAULT NULL,
  `edi_acct` int(11) DEFAULT NULL,
  `status` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `basketno` int(11) DEFAULT NULL,
  `raw_msg` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `filename` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `deleted` tinyint(1) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `export_format`
--

CREATE TABLE `export_format` (
  `export_format_id` int(11) NOT NULL,
  `profile` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `description` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `content` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `csv_separator` varchar(2) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT ',',
  `field_separator` varchar(2) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `subfield_separator` varchar(2) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `encoding` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'utf8',
  `type` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT 'marc',
  `used_for` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT 'export_records',
  `staff_only` tinyint(1) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Used for CSV export';

-- --------------------------------------------------------

--
-- Table structure for table `hold_fill_targets`
--

CREATE TABLE `hold_fill_targets` (
  `borrowernumber` int(11) NOT NULL,
  `biblionumber` int(11) NOT NULL,
  `itemnumber` int(11) NOT NULL,
  `source_branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `item_level_request` tinyint(4) NOT NULL DEFAULT 0,
  `reserve_id` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `housebound_profile`
--

CREATE TABLE `housebound_profile` (
  `borrowernumber` int(11) NOT NULL COMMENT 'Number of the borrower associated with this profile.',
  `day` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'The preferred day of the week for delivery.',
  `frequency` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'The Authorised_Value definining the pattern for delivery.',
  `fav_itemtypes` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Free text describing preferred itemtypes.',
  `fav_subjects` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Free text describing preferred subjects.',
  `fav_authors` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Free text describing preferred authors.',
  `referral` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Free text indicating how the borrower was added to the service.',
  `notes` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Free text for additional notes.'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `housebound_role`
--

CREATE TABLE `housebound_role` (
  `borrowernumber_id` int(11) NOT NULL COMMENT 'borrowernumber link',
  `housebound_chooser` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'set to 1 to indicate this patron is a housebound chooser volunteer',
  `housebound_deliverer` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'set to 1 to indicate this patron is a housebound deliverer volunteer'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `housebound_visit`
--

CREATE TABLE `housebound_visit` (
  `id` int(11) NOT NULL COMMENT 'ID of the visit.',
  `borrowernumber` int(11) NOT NULL COMMENT 'Number of the borrower, & the profile, linked to this visit.',
  `appointment_date` date DEFAULT NULL COMMENT 'Date of visit.',
  `day_segment` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Rough time frame: ''morning'', ''afternoon'' ''evening''',
  `chooser_brwnumber` int(11) DEFAULT NULL COMMENT 'Number of the borrower to choose items  for delivery.',
  `deliverer_brwnumber` int(11) DEFAULT NULL COMMENT 'Number of the borrower to deliver items.'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `illcomments`
--

CREATE TABLE `illcomments` (
  `illcomment_id` int(11) NOT NULL COMMENT 'Unique ID of the comment',
  `illrequest_id` bigint(20) UNSIGNED NOT NULL COMMENT 'ILL request number',
  `borrowernumber` int(11) DEFAULT NULL COMMENT 'Link to the user who made the comment (could be librarian, patron or ILL partner library)',
  `comment` text COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'The text of the comment',
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() COMMENT 'Date and time when the comment was made'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `illrequestattributes`
--

CREATE TABLE `illrequestattributes` (
  `illrequest_id` bigint(20) UNSIGNED NOT NULL COMMENT 'ILL request number',
  `type` varchar(200) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'API ILL property name',
  `value` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'API ILL property value',
  `readonly` tinyint(1) NOT NULL DEFAULT 1 COMMENT 'Is this attribute read only'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `illrequests`
--

CREATE TABLE `illrequests` (
  `illrequest_id` bigint(20) UNSIGNED NOT NULL COMMENT 'ILL request number',
  `borrowernumber` int(11) DEFAULT NULL COMMENT 'Patron associated with request',
  `biblio_id` int(11) DEFAULT NULL COMMENT 'Potential bib linked to request',
  `branchcode` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'The branch associated with the request',
  `status` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Current Koha status of request',
  `status_alias` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Foreign key to relevant authorised_values.authorised_value',
  `placed` date DEFAULT NULL COMMENT 'Date the request was placed',
  `replied` date DEFAULT NULL COMMENT 'Last API response',
  `updated` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `completed` date DEFAULT NULL COMMENT 'Date the request was completed',
  `medium` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'The Koha request type',
  `accessurl` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Potential URL for accessing item',
  `cost` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Quotes cost of request',
  `price_paid` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Final cost of request',
  `notesopac` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Patron notes attached to request',
  `notesstaff` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Staff notes attached to request',
  `orderid` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Backend id attached to request',
  `backend` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'The backend used to create request'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `import_auths`
--

CREATE TABLE `import_auths` (
  `import_record_id` int(11) NOT NULL,
  `matched_authid` int(11) DEFAULT NULL,
  `control_number` varchar(25) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `authorized_heading` varchar(128) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `original_source` varchar(25) COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `import_batches`
--

CREATE TABLE `import_batches` (
  `import_batch_id` int(11) NOT NULL COMMENT 'unique identifier and primary key',
  `matcher_id` int(11) DEFAULT NULL COMMENT 'the id of the match rule used (matchpoints.matcher_id)',
  `template_id` int(11) DEFAULT NULL,
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `num_records` int(11) NOT NULL DEFAULT 0 COMMENT 'number of records in the file',
  `num_items` int(11) NOT NULL DEFAULT 0 COMMENT 'number of items in the file',
  `upload_timestamp` timestamp NOT NULL DEFAULT current_timestamp() COMMENT 'date and time the file was uploaded',
  `overlay_action` enum('replace','create_new','use_template','ignore') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'create_new' COMMENT 'how to handle duplicate records',
  `nomatch_action` enum('create_new','ignore') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'create_new' COMMENT 'how to handle records where no match is found',
  `item_action` enum('always_add','add_only_for_matches','add_only_for_new','ignore','replace') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'always_add' COMMENT 'what to do with item records',
  `import_status` enum('staging','staged','importing','imported','reverting','reverted','cleaned') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'staging' COMMENT 'the status of the imported file',
  `batch_type` enum('batch','z3950','webservice') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'batch' COMMENT 'where this batch has come from',
  `record_type` enum('biblio','auth','holdings') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'biblio' COMMENT 'type of record in the batch',
  `file_name` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the name of the file uploaded',
  `comments` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'any comments added when the file was uploaded',
  `profile_id` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `import_batch_profiles`
--

CREATE TABLE `import_batch_profiles` (
  `id` int(11) NOT NULL COMMENT 'unique identifier and primary key',
  `name` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'name of this profile',
  `matcher_id` int(11) DEFAULT NULL COMMENT 'the id of the match rule used (matchpoints.matcher_id)',
  `template_id` int(11) DEFAULT NULL COMMENT 'the id of the marc modification template',
  `overlay_action` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'how to handle duplicate records',
  `nomatch_action` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'how to handle records where no match is found',
  `item_action` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'what to do with item records',
  `parse_items` tinyint(1) DEFAULT NULL COMMENT 'should items be parsed',
  `record_type` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'type of record in the batch',
  `encoding` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'file encoding',
  `format` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'marc format',
  `comments` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'any comments added when the file was uploaded'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `import_biblios`
--

CREATE TABLE `import_biblios` (
  `import_record_id` int(11) NOT NULL,
  `matched_biblionumber` int(11) DEFAULT NULL,
  `control_number` varchar(25) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `original_source` varchar(25) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `title` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `author` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `isbn` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `issn` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `has_items` tinyint(1) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `import_items`
--

CREATE TABLE `import_items` (
  `import_items_id` int(11) NOT NULL,
  `import_record_id` int(11) NOT NULL,
  `itemnumber` int(11) DEFAULT NULL,
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `status` enum('error','staged','imported','reverted','ignored') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'staged',
  `marcxml` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `import_error` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `import_records`
--

CREATE TABLE `import_records` (
  `import_record_id` int(11) NOT NULL,
  `import_batch_id` int(11) NOT NULL,
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `record_sequence` int(11) NOT NULL DEFAULT 0,
  `upload_timestamp` timestamp NOT NULL DEFAULT current_timestamp(),
  `import_date` date DEFAULT NULL,
  `marc` longblob NOT NULL,
  `marcxml` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `marcxml_old` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `record_type` enum('biblio','auth','holdings') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'biblio',
  `overlay_status` enum('no_match','auto_match','manual_match','match_applied') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'no_match',
  `status` enum('error','staged','imported','reverted','items_reverted','ignored') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'staged',
  `import_error` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `encoding` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT ''
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `import_record_matches`
--

CREATE TABLE `import_record_matches` (
  `import_record_id` int(11) NOT NULL COMMENT 'the id given to the imported bib record (import_records.import_record_id)',
  `candidate_match_id` int(11) NOT NULL COMMENT 'the biblio the imported record matches (biblio.biblionumber)',
  `score` int(11) NOT NULL DEFAULT 0 COMMENT 'the match score',
  `chosen` tinyint(1) DEFAULT NULL COMMENT 'whether this match has been allowed or denied'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `issues`
--

CREATE TABLE `issues` (
  `issue_id` int(11) NOT NULL COMMENT 'primary key for issues table',
  `borrowernumber` int(11) DEFAULT NULL COMMENT 'foreign key, linking this to the borrowers table for the patron this item was checked out to',
  `issuer_id` int(11) DEFAULT NULL COMMENT 'foreign key, linking this to the borrowers table for the user who checked out this item',
  `itemnumber` int(11) DEFAULT NULL COMMENT 'foreign key, linking this to the items table for the item that was checked out',
  `date_due` datetime DEFAULT NULL COMMENT 'datetime the item is due (yyyy-mm-dd hh:mm::ss)',
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'foreign key, linking to the branches table for the location the item was checked out',
  `returndate` datetime DEFAULT NULL COMMENT 'date the item was returned, will be NULL until moved to old_issues',
  `lastreneweddate` datetime DEFAULT NULL COMMENT 'date the item was last renewed',
  `renewals` tinyint(4) NOT NULL DEFAULT 0 COMMENT 'lists the number of times the item was renewed',
  `unseen_renewals` tinyint(4) NOT NULL DEFAULT 0 COMMENT 'lists the number of consecutive times the item was renewed without being seen',
  `auto_renew` tinyint(1) DEFAULT 0 COMMENT 'automatic renewal',
  `auto_renew_error` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'automatic renewal error',
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT 'the date and time this record was last touched',
  `issuedate` datetime DEFAULT NULL COMMENT 'date the item was checked out or issued',
  `onsite_checkout` int(1) NOT NULL DEFAULT 0 COMMENT 'in house use flag',
  `note` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'issue note text',
  `notedate` datetime DEFAULT NULL COMMENT 'datetime of issue note (yyyy-mm-dd hh:mm::ss)',
  `noteseen` int(1) DEFAULT NULL COMMENT 'describes whether checkout note has been seen 1, not been seen 0 or doesn''t exist null'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `items`
--

CREATE TABLE `items` (
  `itemnumber` int(11) NOT NULL COMMENT 'primary key and unique identifier added by Koha',
  `biblionumber` int(11) NOT NULL DEFAULT 0 COMMENT 'foreign key from biblio table used to link this item to the right bib record',
  `biblioitemnumber` int(11) NOT NULL DEFAULT 0 COMMENT 'foreign key from the biblioitems table to link to item to additional information',
  `barcode` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'item barcode (MARC21 952$p)',
  `dateaccessioned` date DEFAULT NULL COMMENT 'date the item was acquired or added to Koha (MARC21 952$d)',
  `booksellerid` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'where the item was purchased (MARC21 952$e)',
  `homebranch` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'foreign key from the branches table for the library that owns this item (MARC21 952$a)',
  `price` decimal(8,2) DEFAULT NULL COMMENT 'purchase price (MARC21 952$g)',
  `replacementprice` decimal(8,2) DEFAULT NULL COMMENT 'cost the library charges to replace the item if it has been marked lost (MARC21 952$v)',
  `replacementpricedate` date DEFAULT NULL COMMENT 'the date the price is effective from (MARC21 952$w)',
  `datelastborrowed` date DEFAULT NULL COMMENT 'the date the item was last checked out/issued',
  `datelastseen` date DEFAULT NULL COMMENT 'the date the item was last see (usually the last time the barcode was scanned or inventory was done)',
  `stack` tinyint(1) DEFAULT NULL,
  `notforloan` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'authorized value defining why this item is not for loan (MARC21 952$7)',
  `damaged` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'authorized value defining this item as damaged (MARC21 952$4)',
  `damaged_on` datetime DEFAULT NULL COMMENT 'the date and time an item was last marked as damaged, NULL if not damaged',
  `itemlost` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'authorized value defining this item as lost (MARC21 952$1)',
  `itemlost_on` datetime DEFAULT NULL COMMENT 'the date and time an item was last marked as lost, NULL if not lost',
  `withdrawn` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'authorized value defining this item as withdrawn (MARC21 952$0)',
  `withdrawn_on` datetime DEFAULT NULL COMMENT 'the date and time an item was last marked as withdrawn, NULL if not withdrawn',
  `itemcallnumber` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'call number for this item (MARC21 952$o)',
  `coded_location_qualifier` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'coded location qualifier(MARC21 952$f)',
  `issues` smallint(6) DEFAULT 0 COMMENT 'number of times this item has been checked out/issued',
  `renewals` smallint(6) DEFAULT NULL COMMENT 'number of times this item has been renewed',
  `reserves` smallint(6) DEFAULT NULL COMMENT 'number of times this item has been placed on hold/reserved',
  `restricted` tinyint(1) DEFAULT NULL COMMENT 'authorized value defining use restrictions for this item (MARC21 952$5)',
  `itemnotes` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'public notes on this item (MARC21 952$z)',
  `itemnotes_nonpublic` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'non-public notes on this item (MARC21 952$x)',
  `holdingbranch` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'foreign key from the branches table for the library that is currently in possession item (MARC21 952$b)',
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT 'date and time this item was last altered',
  `location` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'authorized value for the shelving location for this item (MARC21 952$c)',
  `permanent_location` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'linked to the CART and PROC temporary locations feature, stores the permanent shelving location',
  `onloan` date DEFAULT NULL COMMENT 'defines if item is checked out (NULL for not checked out, and due date for checked out)',
  `cn_source` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'classification source used on this item (MARC21 952$2)',
  `cn_sort` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'normalized form of the call number (MARC21 952$o) used for sorting',
  `ccode` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'authorized value for the collection code associated with this item (MARC21 952$8)',
  `materials` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'materials specified (MARC21 952$3)',
  `uri` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'URL for the item (MARC21 952$u)',
  `itype` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'foreign key from the itemtypes table defining the type for this item (MARC21 952$y)',
  `more_subfields_xml` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'additional 952 subfields in XML format',
  `enumchron` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'serial enumeration/chronology for the item (MARC21 952$h)',
  `copynumber` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'copy number (MARC21 952$t)',
  `stocknumber` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'inventory number (MARC21 952$i)',
  `new_status` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT '''new'' value, you can put whatever free-text information. This field is intented to be managed by the automatic_item_modification_by_age cronjob.',
  `exclude_from_local_holds_priority` tinyint(1) DEFAULT NULL COMMENT 'Exclude this item from local holds priority'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `items_last_borrower`
--

CREATE TABLE `items_last_borrower` (
  `id` int(11) NOT NULL,
  `itemnumber` int(11) NOT NULL,
  `borrowernumber` int(11) NOT NULL,
  `created_on` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `items_search_fields`
--

CREATE TABLE `items_search_fields` (
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `label` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `tagfield` char(3) COLLATE utf8mb4_unicode_ci NOT NULL,
  `tagsubfield` char(1) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `authorised_values_category` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `itemtypes`
--

CREATE TABLE `itemtypes` (
  `itemtype` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'unique key, a code associated with the item type',
  `parent_type` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'unique key, a code associated with the item type',
  `description` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'a plain text explanation of the item type',
  `rentalcharge` decimal(28,6) DEFAULT NULL COMMENT 'the amount charged when this item is checked out/issued',
  `rentalcharge_daily` decimal(28,6) DEFAULT NULL COMMENT 'the amount charged for each day between checkout date and due date',
  `rentalcharge_daily_calendar` tinyint(1) NOT NULL DEFAULT 1 COMMENT 'controls if the daily rental fee is calculated directly or using finesCalendar',
  `rentalcharge_hourly` decimal(28,6) DEFAULT NULL COMMENT 'the amount charged for each hour between checkout date and due date',
  `rentalcharge_hourly_calendar` tinyint(1) NOT NULL DEFAULT 1 COMMENT 'controls if the hourly rental fee is calculated directly or using finesCalendar',
  `defaultreplacecost` decimal(28,6) DEFAULT NULL COMMENT 'default replacement cost',
  `processfee` decimal(28,6) DEFAULT NULL COMMENT 'default text be recorded in the column note when the processing fee is applied',
  `notforloan` smallint(6) DEFAULT NULL COMMENT '1 if the item is not for loan, 0 if the item is available for loan',
  `imageurl` varchar(200) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'URL for the item type icon',
  `summary` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'information from the summary field, may include HTML',
  `checkinmsg` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'message that is displayed when an item with the given item type is checked in',
  `checkinmsgtype` char(16) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'message' COMMENT 'type (CSS class) for the checkinmsg, can be ''alert'' or ''message''',
  `sip_media_type` varchar(3) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'SIP2 protocol media type for this itemtype',
  `hideinopac` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Hide the item type from the search options in OPAC',
  `searchcategory` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Group this item type with others with the same value on OPAC search options',
  `automatic_checkin` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'If automatic checkin is enabled for items of this type'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `itemtypes_branches`
--

CREATE TABLE `itemtypes_branches` (
  `itemtype` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL,
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `item_circulation_alert_preferences`
--

CREATE TABLE `item_circulation_alert_preferences` (
  `id` int(11) NOT NULL,
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL,
  `categorycode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL,
  `item_type` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL,
  `notification` varchar(16) COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `keyboard_shortcuts`
--

CREATE TABLE `keyboard_shortcuts` (
  `shortcut_name` varchar(80) COLLATE utf8mb4_unicode_ci NOT NULL,
  `shortcut_keys` varchar(80) COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `language_descriptions`
--

CREATE TABLE `language_descriptions` (
  `subtag` varchar(25) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `type` varchar(25) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `lang` varchar(25) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `description` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `language_rfc4646_to_iso639`
--

CREATE TABLE `language_rfc4646_to_iso639` (
  `rfc4646_subtag` varchar(25) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `iso639_2_code` varchar(25) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `language_script_bidi`
--

CREATE TABLE `language_script_bidi` (
  `rfc4646_subtag` varchar(25) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'script subtag, Arab, Hebr, etc.',
  `bidi` varchar(3) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'rtl ltr'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `language_script_mapping`
--

CREATE TABLE `language_script_mapping` (
  `language_subtag` varchar(25) COLLATE utf8mb4_unicode_ci NOT NULL,
  `script_subtag` varchar(25) COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `language_subtag_registry`
--

CREATE TABLE `language_subtag_registry` (
  `subtag` varchar(25) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `type` varchar(25) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'language-script-region-variant-extension-privateuse',
  `description` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'only one of the possible descriptions for ease of reference, see language_descriptions for the complete list',
  `added` date DEFAULT NULL,
  `id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `letter`
--

CREATE TABLE `letter` (
  `id` int(11) NOT NULL COMMENT 'primary key identifier',
  `module` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'Koha module that triggers this notice or slip',
  `code` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'unique identifier for this notice or slip',
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'the branch this notice or slip is used at (branches.branchcode)',
  `name` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'plain text name for this notice or slip',
  `is_html` tinyint(1) DEFAULT 0 COMMENT 'does this notice or slip use HTML (1 for yes, 0 for no)',
  `title` varchar(200) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'subject line of the notice',
  `content` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'body text for the notice or slip',
  `message_transport_type` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'email' COMMENT 'transport type for this notice',
  `lang` varchar(25) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'default' COMMENT 'lang of the notice',
  `updated_on` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT 'last modification'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `library_groups`
--

CREATE TABLE `library_groups` (
  `id` int(11) NOT NULL COMMENT 'unique id for each group',
  `parent_id` int(11) DEFAULT NULL COMMENT 'if this is a child group, the id of the parent group',
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'The branchcode of a branch belonging to the parent group',
  `title` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Short description of the goup',
  `description` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Longer explanation of the group, if necessary',
  `ft_hide_patron_info` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Turn on the feature ''Hide patron''s info'' for this group',
  `ft_search_groups_opac` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Use this group for staff side search groups',
  `ft_search_groups_staff` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Use this group for opac side search groups',
  `ft_local_hold_group` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Use this group to identify libraries as pick up location for holds',
  `created_on` timestamp NULL DEFAULT NULL COMMENT 'Date and time of creation',
  `updated_on` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT 'Date and time of last'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `library_smtp_servers`
--

CREATE TABLE `library_smtp_servers` (
  `id` int(11) NOT NULL,
  `library_id` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL,
  `smtp_server_id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `linktracker`
--

CREATE TABLE `linktracker` (
  `id` int(11) NOT NULL COMMENT 'primary key identifier',
  `biblionumber` int(11) DEFAULT NULL COMMENT 'biblionumber of the record the link is from',
  `itemnumber` int(11) DEFAULT NULL COMMENT 'itemnumber if applicable that the link was from',
  `borrowernumber` int(11) DEFAULT NULL COMMENT 'borrowernumber who clicked the link',
  `url` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the link itself',
  `timeclicked` datetime DEFAULT NULL COMMENT 'the date and time the link was clicked'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `localization`
--

CREATE TABLE `localization` (
  `localization_id` int(11) NOT NULL,
  `entity` varchar(16) COLLATE utf8mb4_unicode_ci NOT NULL,
  `code` varchar(64) COLLATE utf8mb4_unicode_ci NOT NULL,
  `lang` varchar(25) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'could be a foreign key',
  `translation` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `marc_matchers`
--

CREATE TABLE `marc_matchers` (
  `matcher_id` int(11) NOT NULL,
  `code` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `description` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `record_type` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'biblio',
  `threshold` int(11) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `marc_modification_templates`
--

CREATE TABLE `marc_modification_templates` (
  `template_id` int(11) NOT NULL,
  `name` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `marc_modification_template_actions`
--

CREATE TABLE `marc_modification_template_actions` (
  `mmta_id` int(11) NOT NULL,
  `template_id` int(11) NOT NULL,
  `ordering` int(3) NOT NULL,
  `action` enum('delete_field','add_field','update_field','move_field','copy_field','copy_and_replace_field') COLLATE utf8mb4_unicode_ci NOT NULL,
  `field_number` smallint(6) NOT NULL DEFAULT 0,
  `from_field` varchar(3) COLLATE utf8mb4_unicode_ci NOT NULL,
  `from_subfield` varchar(1) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `field_value` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `to_field` varchar(3) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `to_subfield` varchar(1) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `to_regex_search` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `to_regex_replace` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `to_regex_modifiers` varchar(8) COLLATE utf8mb4_unicode_ci DEFAULT '',
  `conditional` enum('if','unless') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `conditional_field` varchar(3) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `conditional_subfield` varchar(1) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `conditional_comparison` enum('exists','not_exists','equals','not_equals') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `conditional_value` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `conditional_regex` tinyint(1) NOT NULL DEFAULT 0,
  `description` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `marc_overlay_rules`
--

CREATE TABLE `marc_overlay_rules` (
  `id` int(11) NOT NULL,
  `tag` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `module` varchar(127) COLLATE utf8mb4_unicode_ci NOT NULL,
  `filter` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `add` tinyint(1) NOT NULL DEFAULT 0,
  `append` tinyint(1) NOT NULL DEFAULT 0,
  `remove` tinyint(1) NOT NULL DEFAULT 0,
  `delete` tinyint(1) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `marc_subfield_structure`
--

CREATE TABLE `marc_subfield_structure` (
  `tagfield` varchar(3) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `tagsubfield` varchar(1) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL DEFAULT '',
  `liblibrarian` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `libopac` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `repeatable` tinyint(4) NOT NULL DEFAULT 0,
  `mandatory` tinyint(4) NOT NULL DEFAULT 0,
  `important` tinyint(4) NOT NULL DEFAULT 0,
  `kohafield` varchar(40) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `tab` tinyint(1) DEFAULT NULL,
  `authorised_value` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `authtypecode` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `value_builder` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `isurl` tinyint(1) DEFAULT NULL,
  `hidden` tinyint(1) NOT NULL DEFAULT 8,
  `frameworkcode` varchar(4) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `seealso` varchar(1100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `link` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `defaultvalue` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `maxlength` int(4) NOT NULL DEFAULT 9999,
  `display_order` int(2) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `marc_tag_structure`
--

CREATE TABLE `marc_tag_structure` (
  `tagfield` varchar(3) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `liblibrarian` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `libopac` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `repeatable` tinyint(4) NOT NULL DEFAULT 0,
  `mandatory` tinyint(4) NOT NULL DEFAULT 0,
  `important` tinyint(4) NOT NULL DEFAULT 0,
  `authorised_value` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `ind1_defaultvalue` varchar(1) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `ind2_defaultvalue` varchar(1) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `frameworkcode` varchar(4) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT ''
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `matchchecks`
--

CREATE TABLE `matchchecks` (
  `matcher_id` int(11) NOT NULL,
  `matchcheck_id` int(11) NOT NULL,
  `source_matchpoint_id` int(11) NOT NULL,
  `target_matchpoint_id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `matcher_matchpoints`
--

CREATE TABLE `matcher_matchpoints` (
  `matcher_id` int(11) NOT NULL,
  `matchpoint_id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `matchpoints`
--

CREATE TABLE `matchpoints` (
  `matcher_id` int(11) NOT NULL,
  `matchpoint_id` int(11) NOT NULL,
  `search_index` varchar(30) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `score` int(11) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `matchpoint_components`
--

CREATE TABLE `matchpoint_components` (
  `matchpoint_id` int(11) NOT NULL,
  `matchpoint_component_id` int(11) NOT NULL,
  `sequence` int(11) NOT NULL DEFAULT 0,
  `tag` varchar(3) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `subfields` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `offset` int(4) NOT NULL DEFAULT 0,
  `length` int(4) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `matchpoint_component_norms`
--

CREATE TABLE `matchpoint_component_norms` (
  `matchpoint_component_id` int(11) NOT NULL,
  `sequence` int(11) NOT NULL DEFAULT 0,
  `norm_routine` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT ''
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `messages`
--

CREATE TABLE `messages` (
  `message_id` int(11) NOT NULL COMMENT 'unique identifier assigned by Koha',
  `borrowernumber` int(11) NOT NULL COMMENT 'foreign key linking this message to the borrowers table',
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'foreign key linking the message to the branches table',
  `message_type` varchar(1) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'whether the message is for the librarians (L) or the patron (B)',
  `message` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'the text of the message',
  `message_date` timestamp NOT NULL DEFAULT current_timestamp() COMMENT 'the date and time the message was written',
  `manager_id` int(11) DEFAULT NULL COMMENT 'creator of message'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `message_attributes`
--

CREATE TABLE `message_attributes` (
  `message_attribute_id` int(11) NOT NULL,
  `message_name` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `takes_days` tinyint(1) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `message_queue`
--

CREATE TABLE `message_queue` (
  `message_id` int(11) NOT NULL,
  `borrowernumber` int(11) DEFAULT NULL,
  `subject` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `content` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `metadata` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `letter_code` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `message_transport_type` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL,
  `status` enum('sent','pending','failed','deleted') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'pending',
  `time_queued` timestamp NULL DEFAULT NULL,
  `updated_on` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `to_address` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `from_address` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `reply_address` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `content_type` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `failure_code` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `message_transports`
--

CREATE TABLE `message_transports` (
  `message_attribute_id` int(11) NOT NULL,
  `message_transport_type` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL,
  `is_digest` tinyint(1) NOT NULL DEFAULT 0,
  `letter_module` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `letter_code` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT ''
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `message_transport_types`
--

CREATE TABLE `message_transport_types` (
  `message_transport_type` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `misc_files`
--

CREATE TABLE `misc_files` (
  `file_id` int(11) NOT NULL COMMENT 'unique id for the file record',
  `table_tag` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'usually table name, or arbitrary unique tag',
  `record_id` int(11) NOT NULL COMMENT 'record id from the table this file is associated to',
  `file_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'file name',
  `file_type` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'MIME type of the file',
  `file_description` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'description given to the file',
  `file_content` longblob NOT NULL COMMENT 'file content',
  `date_uploaded` timestamp NOT NULL DEFAULT current_timestamp() COMMENT 'date and time the file was added'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `need_merge_authorities`
--

CREATE TABLE `need_merge_authorities` (
  `id` int(11) NOT NULL COMMENT 'unique id',
  `authid` bigint(20) NOT NULL COMMENT 'reference to original authority record',
  `authid_new` bigint(20) DEFAULT NULL COMMENT 'reference to optional new authority record',
  `reportxml` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'xml showing original reporting tag',
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT 'date and time last modified',
  `done` tinyint(4) DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `oai_sets`
--

CREATE TABLE `oai_sets` (
  `id` int(11) NOT NULL,
  `spec` varchar(80) COLLATE utf8mb4_unicode_ci NOT NULL,
  `name` varchar(80) COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `oai_sets_biblios`
--

CREATE TABLE `oai_sets_biblios` (
  `biblionumber` int(11) NOT NULL,
  `set_id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `oai_sets_descriptions`
--

CREATE TABLE `oai_sets_descriptions` (
  `set_id` int(11) NOT NULL,
  `description` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `oai_sets_mappings`
--

CREATE TABLE `oai_sets_mappings` (
  `set_id` int(11) NOT NULL,
  `rule_order` int(11) DEFAULT NULL,
  `rule_operator` varchar(3) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `marcfield` char(3) COLLATE utf8mb4_unicode_ci NOT NULL,
  `marcsubfield` char(1) COLLATE utf8mb4_unicode_ci NOT NULL,
  `operator` varchar(8) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'equal',
  `marcvalue` varchar(80) COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `oauth_access_tokens`
--

CREATE TABLE `oauth_access_tokens` (
  `access_token` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'generarated access token',
  `client_id` varchar(191) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'the client id the access token belongs to',
  `expires` int(11) NOT NULL COMMENT 'expiration time in seconds'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `old_issues`
--

CREATE TABLE `old_issues` (
  `issue_id` int(11) NOT NULL COMMENT 'primary key for issues table',
  `borrowernumber` int(11) DEFAULT NULL COMMENT 'foreign key, linking this to the borrowers table for the patron this item was checked out to',
  `issuer_id` int(11) DEFAULT NULL COMMENT 'foreign key, linking this to the borrowers table for the user who checked out this item',
  `itemnumber` int(11) DEFAULT NULL COMMENT 'foreign key, linking this to the items table for the item that was checked out',
  `date_due` datetime DEFAULT NULL COMMENT 'date the item is due (yyyy-mm-dd)',
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'foreign key, linking to the branches table for the location the item was checked out',
  `returndate` datetime DEFAULT NULL COMMENT 'date the item was returned',
  `lastreneweddate` datetime DEFAULT NULL COMMENT 'date the item was last renewed',
  `renewals` tinyint(4) NOT NULL DEFAULT 0 COMMENT 'lists the number of times the item was renewed',
  `unseen_renewals` tinyint(4) NOT NULL DEFAULT 0 COMMENT 'lists the number of consecutive times the item was renewed without being seen',
  `auto_renew` tinyint(1) DEFAULT 0 COMMENT 'automatic renewal',
  `auto_renew_error` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'automatic renewal error',
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT 'the date and time this record was last touched',
  `issuedate` datetime DEFAULT NULL COMMENT 'date the item was checked out or issued',
  `onsite_checkout` int(1) NOT NULL DEFAULT 0 COMMENT 'in house use flag',
  `note` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'issue note text',
  `notedate` datetime DEFAULT NULL COMMENT 'datetime of issue note (yyyy-mm-dd hh:mm::ss)',
  `noteseen` int(1) DEFAULT NULL COMMENT 'describes whether checkout note has been seen 1, not been seen 0 or doesn''t exist null'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `old_reserves`
--

CREATE TABLE `old_reserves` (
  `reserve_id` int(11) NOT NULL COMMENT 'primary key',
  `borrowernumber` int(11) DEFAULT NULL COMMENT 'foreign key from the borrowers table defining which patron this hold is for',
  `reservedate` date DEFAULT NULL COMMENT 'the date the hold was places',
  `biblionumber` int(11) DEFAULT NULL COMMENT 'foreign key from the biblio table defining which bib record this hold is on',
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'foreign key from the branches table defining which branch the patron wishes to pick this hold up at',
  `desk_id` int(11) DEFAULT NULL COMMENT 'foreign key from the desks table defining which desk the patron should pick this hold up at',
  `notificationdate` date DEFAULT NULL COMMENT 'currently unused',
  `reminderdate` date DEFAULT NULL COMMENT 'currently unused',
  `cancellationdate` date DEFAULT NULL COMMENT 'the date this hold was cancelled',
  `cancellation_reason` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'optional authorised value CANCELLATION_REASON',
  `reservenotes` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'notes related to this hold',
  `priority` smallint(6) NOT NULL DEFAULT 1 COMMENT 'where in the queue the patron sits',
  `found` varchar(1) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'a one letter code defining what the status is of the hold is after it has been confirmed',
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT 'the date and time this hold was last updated',
  `itemnumber` int(11) DEFAULT NULL COMMENT 'foreign key from the items table defining the specific item the patron has placed on hold or the item this hold was filled with',
  `waitingdate` date DEFAULT NULL COMMENT 'the date the item was marked as waiting for the patron at the library',
  `expirationdate` date DEFAULT NULL COMMENT 'the date the hold expires (usually the date entered by the patron to say they don''t need the hold after a certain date)',
  `patron_expiration_date` date DEFAULT NULL COMMENT 'the date the hold expires - usually the date entered by the patron to say they don''t need the hold after a certain date',
  `lowestPriority` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'has this hold been pinned to the lowest priority in the holds queue (1 for yes, 0 for no)',
  `suspend` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'in this hold suspended (1 for yes, 0 for no)',
  `suspend_until` datetime DEFAULT NULL COMMENT 'the date this hold is suspended until (NULL for infinitely)',
  `itemtype` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'If record level hold, the optional itemtype of the item the patron is requesting',
  `item_level_hold` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Is the hpld placed at item level',
  `non_priority` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Is this a non priority hold'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `overduerules`
--

CREATE TABLE `overduerules` (
  `overduerules_id` int(11) NOT NULL COMMENT 'unique identifier for the overduerules',
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'foreign key from the branches table to define which branch this rule is for (if blank it''s all libraries)',
  `categorycode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'foreign key from the categories table to define which patron category this rule is for',
  `delay1` int(4) DEFAULT NULL COMMENT 'number of days after the item is overdue that the first notice is sent',
  `letter1` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'foreign key from the letter table to define which notice should be sent as the first notice',
  `debarred1` varchar(1) COLLATE utf8mb4_unicode_ci DEFAULT '0' COMMENT 'is the patron restricted when the first notice is sent (1 for yes, 0 for no)',
  `delay2` int(4) DEFAULT NULL COMMENT 'number of days after the item is overdue that the second notice is sent',
  `debarred2` varchar(1) COLLATE utf8mb4_unicode_ci DEFAULT '0' COMMENT 'is the patron restricted when the second notice is sent (1 for yes, 0 for no)',
  `letter2` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'foreign key from the letter table to define which notice should be sent as the second notice',
  `delay3` int(4) DEFAULT NULL COMMENT 'number of days after the item is overdue that the third notice is sent',
  `letter3` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'foreign key from the letter table to define which notice should be sent as the third notice',
  `debarred3` int(1) DEFAULT 0 COMMENT 'is the patron restricted when the third notice is sent (1 for yes, 0 for no)'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `overduerules_transport_types`
--

CREATE TABLE `overduerules_transport_types` (
  `id` int(11) NOT NULL,
  `letternumber` int(1) NOT NULL DEFAULT 1,
  `message_transport_type` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'email',
  `overduerules_id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `patronimage`
--

CREATE TABLE `patronimage` (
  `borrowernumber` int(11) NOT NULL COMMENT 'the borrowernumber of the patron this image is attached to (borrowers.borrowernumber)',
  `mimetype` varchar(15) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'the format of the image (png, jpg, etc)',
  `imagefile` mediumblob NOT NULL COMMENT 'the image'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `patron_consent`
--

CREATE TABLE `patron_consent` (
  `id` int(11) NOT NULL,
  `borrowernumber` int(11) NOT NULL,
  `type` enum('GDPR_PROCESSING') COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'allows for future extension',
  `given_on` datetime DEFAULT NULL,
  `refused_on` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `patron_lists`
--

CREATE TABLE `patron_lists` (
  `patron_list_id` int(11) NOT NULL COMMENT 'unique identifier',
  `name` varchar(255) CHARACTER SET utf8mb4 NOT NULL COMMENT 'the list''s name',
  `owner` int(11) NOT NULL COMMENT 'borrowernumber of the list creator',
  `shared` tinyint(1) DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `patron_list_patrons`
--

CREATE TABLE `patron_list_patrons` (
  `patron_list_patron_id` int(11) NOT NULL COMMENT 'unique identifier',
  `patron_list_id` int(11) NOT NULL COMMENT 'the list this entry is part of',
  `borrowernumber` int(11) NOT NULL COMMENT 'the borrower that is part of this list'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `pending_offline_operations`
--

CREATE TABLE `pending_offline_operations` (
  `operationid` int(11) NOT NULL,
  `userid` varchar(30) COLLATE utf8mb4_unicode_ci NOT NULL,
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL,
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp(),
  `action` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL,
  `barcode` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `cardnumber` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `amount` decimal(28,6) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `permissions`
--

CREATE TABLE `permissions` (
  `module_bit` int(11) NOT NULL DEFAULT 0,
  `code` varchar(64) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `description` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `plugin_data`
--

CREATE TABLE `plugin_data` (
  `plugin_class` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `plugin_key` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `plugin_value` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `plugin_methods`
--

CREATE TABLE `plugin_methods` (
  `plugin_class` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `plugin_method` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `printers_profile`
--

CREATE TABLE `printers_profile` (
  `profile_id` int(4) NOT NULL,
  `printer_name` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'Default Printer',
  `template_id` int(4) NOT NULL DEFAULT 0,
  `paper_bin` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'Bypass',
  `offset_horz` float NOT NULL DEFAULT 0,
  `offset_vert` float NOT NULL DEFAULT 0,
  `creep_horz` float NOT NULL DEFAULT 0,
  `creep_vert` float NOT NULL DEFAULT 0,
  `units` char(20) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'POINT',
  `creator` char(15) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'Labels'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `problem_reports`
--

CREATE TABLE `problem_reports` (
  `reportid` int(11) NOT NULL COMMENT 'unique identifier assigned by Koha',
  `title` varchar(40) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'report subject line',
  `content` text COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'report message content',
  `borrowernumber` int(11) NOT NULL DEFAULT 0 COMMENT 'the user who created the problem report',
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'borrower''s branch',
  `username` varchar(75) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'OPAC username',
  `problempage` text COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'page the user triggered the problem report form from',
  `recipient` enum('admin','library') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'library' COMMENT 'the ''to-address'' of the problem report',
  `created_on` timestamp NOT NULL DEFAULT current_timestamp() COMMENT 'timestamp of report submission',
  `status` varchar(6) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'New' COMMENT 'status of the report. New, Viewed, Closed'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `pseudonymized_borrower_attributes`
--

CREATE TABLE `pseudonymized_borrower_attributes` (
  `id` int(11) NOT NULL COMMENT 'Row id field',
  `transaction_id` int(11) NOT NULL,
  `code` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'foreign key from the borrower_attribute_types table, defines which custom field this value was entered for',
  `attribute` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'custom patron field value'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `pseudonymized_transactions`
--

CREATE TABLE `pseudonymized_transactions` (
  `id` int(11) NOT NULL,
  `hashed_borrowernumber` varchar(60) COLLATE utf8mb4_unicode_ci NOT NULL,
  `has_cardnumber` tinyint(1) NOT NULL DEFAULT 0,
  `title` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `city` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `state` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `zipcode` varchar(25) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `country` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `categorycode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `dateenrolled` date DEFAULT NULL,
  `sex` varchar(1) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `sort1` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `sort2` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `datetime` datetime DEFAULT NULL,
  `transaction_branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `transaction_type` varchar(16) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `itemnumber` int(11) DEFAULT NULL,
  `itemtype` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `holdingbranch` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `homebranch` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `location` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `itemcallnumber` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `ccode` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `quotes`
--

CREATE TABLE `quotes` (
  `id` int(11) NOT NULL COMMENT 'unique id for the quote',
  `source` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'source/credit for the quote',
  `text` longtext COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'text of the quote',
  `timestamp` datetime DEFAULT NULL COMMENT 'date and time that the quote last appeared in the opac'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `ratings`
--

CREATE TABLE `ratings` (
  `borrowernumber` int(11) NOT NULL COMMENT 'the borrowernumber of the patron who left this rating (borrowers.borrowernumber)',
  `biblionumber` int(11) NOT NULL COMMENT 'the biblio this rating is for (biblio.biblionumber)',
  `rating_value` tinyint(1) NOT NULL COMMENT 'the rating, from 1 to 5',
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `recalls`
--

CREATE TABLE `recalls` (
  `recall_id` int(11) NOT NULL COMMENT 'Unique identifier for this recall',
  `patron_id` int(11) NOT NULL DEFAULT 0 COMMENT 'Identifier for patron who requested recall',
  `created_date` datetime DEFAULT NULL COMMENT 'Date the recall was requested',
  `biblio_id` int(11) NOT NULL DEFAULT 0 COMMENT 'Identifier for bibliographic record that has been recalled',
  `pickup_library_id` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Identifier for recall pickup library',
  `completed_date` datetime DEFAULT NULL COMMENT 'Date the recall is completed (fulfilled, cancelled or expired)',
  `notes` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Notes related to the recall',
  `priority` smallint(6) DEFAULT NULL COMMENT 'Where in the queue the patron sits',
  `status` enum('requested','overdue','waiting','in_transit','cancelled','expired','fulfilled') COLLATE utf8mb4_unicode_ci DEFAULT 'requested' COMMENT 'Status of recall',
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT 'Date and time the recall was last updated',
  `item_id` int(11) DEFAULT NULL COMMENT 'Identifier for item record that was recalled, if an item-level recall',
  `waiting_date` datetime DEFAULT NULL COMMENT 'Date an item was marked as waiting for the patron at the library',
  `expiration_date` datetime DEFAULT NULL COMMENT 'Date recall is no longer required, or date recall will expire after waiting on shelf for pickup',
  `completed` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Flag if recall is old and no longer active, i.e. expired, cancelled or completed',
  `item_level` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Flag if recall is for a specific item'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Information related to recalls in Koha';

-- --------------------------------------------------------

--
-- Table structure for table `repeatable_holidays`
--

CREATE TABLE `repeatable_holidays` (
  `id` int(11) NOT NULL COMMENT 'unique identifier assigned by Koha',
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'foreign key from the branches table, defines which branch this closing is for',
  `weekday` smallint(6) DEFAULT NULL COMMENT 'day of the week (0=Sunday, 1=Monday, etc) this closing is repeated on',
  `day` smallint(6) DEFAULT NULL COMMENT 'day of the month this closing is on',
  `month` smallint(6) DEFAULT NULL COMMENT 'month this closing is in',
  `title` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'title of this closing',
  `description` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'description for this closing'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `reports_dictionary`
--

CREATE TABLE `reports_dictionary` (
  `id` int(11) NOT NULL COMMENT 'unique identifier assigned by Koha',
  `name` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'name for this definition',
  `description` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'description for this definition',
  `date_created` datetime DEFAULT NULL COMMENT 'date and time this definition was created',
  `date_modified` datetime DEFAULT NULL COMMENT 'date and time this definition was last modified',
  `saved_sql` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'SQL snippet for us in reports',
  `report_area` varchar(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Koha module this definition is for Circulation, Catalog, Patrons, Acquistions, Accounts)'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `reserves`
--

CREATE TABLE `reserves` (
  `reserve_id` int(11) NOT NULL COMMENT 'primary key',
  `borrowernumber` int(11) NOT NULL DEFAULT 0 COMMENT 'foreign key from the borrowers table defining which patron this hold is for',
  `reservedate` date DEFAULT NULL COMMENT 'the date the hold was placed',
  `biblionumber` int(11) NOT NULL DEFAULT 0 COMMENT 'foreign key from the biblio table defining which bib record this hold is on',
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'foreign key from the branches table defining which branch the patron wishes to pick this hold up at',
  `desk_id` int(11) DEFAULT NULL COMMENT 'foreign key from the desks table defining which desk the patron should pick this hold up at',
  `notificationdate` date DEFAULT NULL COMMENT 'currently unused',
  `reminderdate` date DEFAULT NULL COMMENT 'currently unused',
  `cancellationdate` date DEFAULT NULL COMMENT 'the date this hold was cancelled',
  `cancellation_reason` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'optional authorised value CANCELLATION_REASON',
  `reservenotes` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'notes related to this hold',
  `priority` smallint(6) NOT NULL DEFAULT 1 COMMENT 'where in the queue the patron sits',
  `found` varchar(1) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'a one letter code defining what the status is of the hold is after it has been confirmed',
  `timestamp` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT 'the date and time this hold was last updated',
  `itemnumber` int(11) DEFAULT NULL COMMENT 'foreign key from the items table defining the specific item the patron has placed on hold or the item this hold was filled with',
  `waitingdate` date DEFAULT NULL COMMENT 'the date the item was marked as waiting for the patron at the library',
  `expirationdate` date DEFAULT NULL COMMENT 'the date the hold expires (calculated value)',
  `patron_expiration_date` date DEFAULT NULL COMMENT 'the date the hold expires - usually the date entered by the patron to say they don''t need the hold after a certain date',
  `lowestPriority` tinyint(1) NOT NULL DEFAULT 0,
  `suspend` tinyint(1) NOT NULL DEFAULT 0,
  `suspend_until` datetime DEFAULT NULL,
  `itemtype` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'If record level hold, the optional itemtype of the item the patron is requesting',
  `item_level_hold` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Is the hpld placed at item level',
  `non_priority` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Is this a non priority hold'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `return_claims`
--

CREATE TABLE `return_claims` (
  `id` int(11) NOT NULL COMMENT 'Unique ID of the return claim',
  `itemnumber` int(11) NOT NULL COMMENT 'ID of the item',
  `issue_id` int(11) DEFAULT NULL COMMENT 'ID of the checkout that triggered the claim',
  `borrowernumber` int(11) NOT NULL COMMENT 'ID of the patron',
  `notes` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Notes about the claim',
  `created_on` timestamp NULL DEFAULT NULL COMMENT 'Time and date the claim was created',
  `created_by` int(11) DEFAULT NULL COMMENT 'ID of the staff member that registered the claim',
  `updated_on` timestamp NULL DEFAULT NULL ON UPDATE current_timestamp() COMMENT 'Time and date of the latest change on the claim (notes)',
  `updated_by` int(11) DEFAULT NULL COMMENT 'ID of the staff member that updated the claim',
  `resolution` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Resolution code (RETURN_CLAIM_RESOLUTION AVs)',
  `resolved_on` timestamp NULL DEFAULT NULL COMMENT 'Time and date the claim was resolved',
  `resolved_by` int(11) DEFAULT NULL COMMENT 'ID of the staff member that resolved the claim'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `reviews`
--

CREATE TABLE `reviews` (
  `reviewid` int(11) NOT NULL COMMENT 'unique identifier for this comment',
  `borrowernumber` int(11) DEFAULT NULL COMMENT 'foreign key from the borrowers table defining which patron left this comment',
  `biblionumber` int(11) DEFAULT NULL COMMENT 'foreign key from the biblio table defining which bibliographic record this comment is for',
  `review` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the body of the comment',
  `approved` tinyint(4) DEFAULT 0 COMMENT 'whether this comment has been approved by a librarian (1 for yes, 0 for no)',
  `datereviewed` datetime DEFAULT NULL COMMENT 'the date the comment was left'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `saved_reports`
--

CREATE TABLE `saved_reports` (
  `id` int(11) NOT NULL,
  `report_id` int(11) DEFAULT NULL,
  `report` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `date_run` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `saved_sql`
--

CREATE TABLE `saved_sql` (
  `id` int(11) NOT NULL COMMENT 'unique id and primary key assigned by Koha',
  `borrowernumber` int(11) DEFAULT NULL COMMENT 'the staff member who created this report (borrowers.borrowernumber)',
  `date_created` datetime DEFAULT NULL COMMENT 'the date this report was created',
  `last_modified` datetime DEFAULT NULL COMMENT 'the date this report was last edited',
  `savedsql` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the SQL for this report',
  `last_run` datetime DEFAULT NULL,
  `report_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'the name of this report',
  `type` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'always 1 for tabular',
  `notes` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'the notes or description given to this report',
  `cache_expiry` int(11) NOT NULL DEFAULT 300,
  `public` tinyint(1) NOT NULL DEFAULT 0,
  `report_area` varchar(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `report_group` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `report_subgroup` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `mana_id` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `search_field`
--

CREATE TABLE `search_field` (
  `id` int(11) NOT NULL,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'the name of the field as it will be stored in the search engine',
  `label` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'the human readable name of the field, for display',
  `type` enum('','string','date','number','boolean','sum','isbn','stdno','year') COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'what type of data this holds, relevant when storing it in the search engine',
  `weight` decimal(5,2) DEFAULT NULL,
  `facet_order` tinyint(4) DEFAULT NULL COMMENT 'the order place of the field in facet list if faceted',
  `staff_client` tinyint(1) NOT NULL DEFAULT 1,
  `opac` tinyint(1) NOT NULL DEFAULT 1,
  `mandatory` tinyint(1) DEFAULT NULL COMMENT 'if marked this field is not editable or removable'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `search_history`
--

CREATE TABLE `search_history` (
  `id` int(11) NOT NULL COMMENT 'search history id',
  `userid` int(11) NOT NULL COMMENT 'the patron who performed the search (borrowers.borrowernumber)',
  `sessionid` varchar(32) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'a system generated session id',
  `query_desc` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'the search that was performed',
  `query_cgi` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'the string to append to the search url to rerun the search',
  `type` varchar(16) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'biblio' COMMENT 'search type, must be ''biblio'' or ''authority''',
  `total` int(11) NOT NULL COMMENT 'the total of results found',
  `time` timestamp NOT NULL DEFAULT current_timestamp() COMMENT 'the date and time the search was run'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Opac search history results';

-- --------------------------------------------------------

--
-- Table structure for table `search_marc_map`
--

CREATE TABLE `search_marc_map` (
  `id` int(11) NOT NULL,
  `index_name` enum('biblios','authorities') COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'what storage index this map is for',
  `marc_type` enum('marc21','unimarc') COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'what MARC type this map is for',
  `marc_field` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT 'the MARC specifier for this field'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `search_marc_to_field`
--

CREATE TABLE `search_marc_to_field` (
  `search` tinyint(1) NOT NULL DEFAULT 1,
  `search_marc_map_id` int(11) NOT NULL,
  `search_field_id` int(11) NOT NULL,
  `facet` tinyint(1) DEFAULT 0 COMMENT 'true if a facet field should be generated for this',
  `suggestible` tinyint(1) DEFAULT 0 COMMENT 'true if this field can be used to generate suggestions for browse',
  `sort` tinyint(1) NOT NULL DEFAULT 1 COMMENT 'Sort defaults to 1 (Yes) and creates sort fields in the index, 0 (no) will prevent this'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `serial`
--

CREATE TABLE `serial` (
  `serialid` int(11) NOT NULL COMMENT 'unique key for the issue',
  `biblionumber` int(11) NOT NULL COMMENT 'foreign key for the biblio.biblionumber that this issue is attached to',
  `subscriptionid` int(11) NOT NULL COMMENT 'foreign key to the subscription.subscriptionid that this issue is part of',
  `serialseq` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'issue information (volume, number, etc)',
  `serialseq_x` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'first part of issue information',
  `serialseq_y` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'second part of issue information',
  `serialseq_z` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'third part of issue information',
  `status` tinyint(4) NOT NULL DEFAULT 0 COMMENT 'status code for this issue (see manual for full descriptions)',
  `planneddate` date DEFAULT NULL COMMENT 'date expected',
  `notes` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'notes',
  `publisheddate` date DEFAULT NULL COMMENT 'date published',
  `publisheddatetext` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'date published (descriptive)',
  `claimdate` date DEFAULT NULL COMMENT 'date claimed',
  `claims_count` int(11) DEFAULT 0 COMMENT 'number of claims made related to this issue',
  `routingnotes` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'notes from the routing list'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `serialitems`
--

CREATE TABLE `serialitems` (
  `itemnumber` int(11) NOT NULL,
  `serialid` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `sessions`
--

CREATE TABLE `sessions` (
  `id` varchar(32) COLLATE utf8mb4_unicode_ci NOT NULL,
  `a_session` longblob NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `sms_providers`
--

CREATE TABLE `sms_providers` (
  `id` int(11) NOT NULL,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `domain` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `smtp_servers`
--

CREATE TABLE `smtp_servers` (
  `id` int(11) NOT NULL,
  `name` varchar(80) COLLATE utf8mb4_unicode_ci NOT NULL,
  `host` varchar(80) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'localhost',
  `port` int(11) NOT NULL DEFAULT 25,
  `timeout` int(11) NOT NULL DEFAULT 120,
  `ssl_mode` enum('disabled','ssl','starttls') COLLATE utf8mb4_unicode_ci NOT NULL,
  `user_name` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `password` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `debug` tinyint(1) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `social_data`
--

CREATE TABLE `social_data` (
  `isbn` varchar(30) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `num_critics` int(11) DEFAULT NULL,
  `num_critics_pro` int(11) DEFAULT NULL,
  `num_quotations` int(11) DEFAULT NULL,
  `num_videos` int(11) DEFAULT NULL,
  `score_avg` decimal(5,2) DEFAULT NULL,
  `num_scores` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `special_holidays`
--

CREATE TABLE `special_holidays` (
  `id` int(11) NOT NULL COMMENT 'unique identifier assigned by Koha',
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'foreign key from the branches table, defines which branch this closing is for',
  `day` smallint(6) NOT NULL DEFAULT 0 COMMENT 'day of the month this closing is on',
  `month` smallint(6) NOT NULL DEFAULT 0 COMMENT 'month this closing is in',
  `year` smallint(6) NOT NULL DEFAULT 0 COMMENT 'year this closing is in',
  `isexception` smallint(1) NOT NULL DEFAULT 1 COMMENT 'is this a holiday exception to a repeatable holiday (1 for yes, 0 for no)',
  `title` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'title for this closing',
  `description` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'description of this closing'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `statistics`
--

CREATE TABLE `statistics` (
  `datetime` datetime DEFAULT NULL COMMENT 'date and time of the transaction',
  `branch` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'foreign key, branch where the transaction occurred',
  `value` double(16,4) DEFAULT NULL COMMENT 'monetary value associated with the transaction',
  `type` varchar(16) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'transaction type (localuse, issue, return, renew, writeoff, payment)',
  `other` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'used by SIP',
  `itemnumber` int(11) DEFAULT NULL COMMENT 'foreign key from the items table, links transaction to a specific item',
  `itemtype` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'foreign key from the itemtypes table, links transaction to a specific item type',
  `location` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'authorized value for the shelving location for this item (MARC21 952$c)',
  `borrowernumber` int(11) DEFAULT NULL COMMENT 'foreign key from the borrowers table, links transaction to a specific borrower',
  `ccode` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'foreign key from the items table, links transaction to a specific collection code'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `stockrotationitems`
--

CREATE TABLE `stockrotationitems` (
  `itemnumber_id` int(11) NOT NULL COMMENT 'Itemnumber to link to a stage & rota',
  `stage_id` int(11) NOT NULL COMMENT 'stage ID to link the item to',
  `indemand` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Should this item be skipped for rotation?',
  `fresh` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Flag showing item is only just added to rota'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `stockrotationrotas`
--

CREATE TABLE `stockrotationrotas` (
  `rota_id` int(11) NOT NULL COMMENT 'Stockrotation rota ID',
  `title` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Title for this rota',
  `description` text COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Description for this rota',
  `cyclical` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Should items on this rota keep cycling?',
  `active` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'Is this rota currently active?'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `stockrotationstages`
--

CREATE TABLE `stockrotationstages` (
  `stage_id` int(11) NOT NULL COMMENT 'Unique stage ID',
  `position` int(11) NOT NULL COMMENT 'The position of this stage within its rota',
  `rota_id` int(11) NOT NULL COMMENT 'The rota this stage belongs to',
  `branchcode_id` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'Branch this stage relates to',
  `duration` int(11) NOT NULL DEFAULT 4 COMMENT 'The number of days items shoud occupy this stage'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `subscription`
--

CREATE TABLE `subscription` (
  `biblionumber` int(11) NOT NULL COMMENT 'foreign key for biblio.biblionumber that this subscription is attached to',
  `subscriptionid` int(11) NOT NULL COMMENT 'unique key for this subscription',
  `librarian` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT '' COMMENT 'the librarian''s username from borrowers.userid',
  `startdate` date DEFAULT NULL COMMENT 'start date for this subscription',
  `aqbooksellerid` int(11) DEFAULT 0 COMMENT 'foreign key for aqbooksellers.id to link to the vendor',
  `cost` int(11) DEFAULT 0,
  `aqbudgetid` int(11) DEFAULT 0,
  `weeklength` int(11) DEFAULT 0 COMMENT 'subscription length in weeks (will not be filled in if monthlength or numberlength is set)',
  `monthlength` int(11) DEFAULT 0 COMMENT 'subscription length in weeks (will not be filled in if weeklength or numberlength is set)',
  `numberlength` int(11) DEFAULT 0 COMMENT 'subscription length in weeks (will not be filled in if monthlength or weeklength is set)',
  `periodicity` int(11) DEFAULT NULL COMMENT 'frequency type links to subscription_frequencies.id',
  `countissuesperunit` int(11) NOT NULL DEFAULT 1,
  `notes` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'notes',
  `status` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'status of this subscription',
  `lastvalue1` int(11) DEFAULT NULL,
  `innerloop1` int(11) DEFAULT 0,
  `lastvalue2` int(11) DEFAULT NULL,
  `innerloop2` int(11) DEFAULT 0,
  `lastvalue3` int(11) DEFAULT NULL,
  `innerloop3` int(11) DEFAULT 0,
  `firstacquidate` date DEFAULT NULL COMMENT 'first issue received date',
  `manualhistory` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'yes or no to managing the history manually',
  `irregularity` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'any irregularities in the subscription',
  `skip_serialseq` tinyint(1) NOT NULL DEFAULT 0,
  `letter` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `numberpattern` int(11) DEFAULT NULL COMMENT 'the numbering pattern used links to subscription_numberpatterns.id',
  `locale` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'for foreign language subscriptions to display months, seasons, etc correctly',
  `distributedto` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `internalnotes` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `callnumber` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'default call number',
  `location` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT '' COMMENT 'default shelving location (items.location)',
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'default branches (items.homebranch)',
  `lastbranch` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `serialsadditems` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'does receiving this serial create an item record',
  `staffdisplaycount` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'how many issues to show to the staff',
  `opacdisplaycount` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'how many issues to show to the public',
  `graceperiod` int(11) NOT NULL DEFAULT 0 COMMENT 'grace period in days',
  `enddate` date DEFAULT NULL COMMENT 'subscription end date',
  `closed` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'yes / no if the subscription is closed',
  `reneweddate` date DEFAULT NULL COMMENT 'date of last renewal for the subscription',
  `itemtype` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `previousitemtype` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `mana_id` int(11) DEFAULT NULL,
  `ccode` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'collection code to assign to serial items'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `subscriptionhistory`
--

CREATE TABLE `subscriptionhistory` (
  `biblionumber` int(11) NOT NULL,
  `subscriptionid` int(11) NOT NULL,
  `histstartdate` date DEFAULT NULL,
  `histenddate` date DEFAULT NULL,
  `missinglist` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `recievedlist` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `opacnote` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `librariannote` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `subscriptionroutinglist`
--

CREATE TABLE `subscriptionroutinglist` (
  `routingid` int(11) NOT NULL COMMENT 'unique identifier assigned by Koha',
  `borrowernumber` int(11) NOT NULL COMMENT 'foreign key from the borrowers table, defines with patron is on the routing list',
  `ranking` int(11) DEFAULT NULL COMMENT 'where the patron stands in line to receive the serial',
  `subscriptionid` int(11) NOT NULL COMMENT 'foreign key from the subscription table, defines which subscription this routing list is for'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `subscription_frequencies`
--

CREATE TABLE `subscription_frequencies` (
  `id` int(11) NOT NULL,
  `description` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `displayorder` int(11) DEFAULT NULL,
  `unit` enum('day','week','month','year') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `unitsperissue` int(11) NOT NULL DEFAULT 1,
  `issuesperunit` int(11) NOT NULL DEFAULT 1
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `subscription_numberpatterns`
--

CREATE TABLE `subscription_numberpatterns` (
  `id` int(11) NOT NULL,
  `label` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `displayorder` int(11) DEFAULT NULL,
  `description` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `numberingmethod` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `label1` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `add1` int(11) DEFAULT NULL,
  `every1` int(11) DEFAULT NULL,
  `whenmorethan1` int(11) DEFAULT NULL,
  `setto1` int(11) DEFAULT NULL,
  `numbering1` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `label2` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `add2` int(11) DEFAULT NULL,
  `every2` int(11) DEFAULT NULL,
  `whenmorethan2` int(11) DEFAULT NULL,
  `setto2` int(11) DEFAULT NULL,
  `numbering2` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `label3` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `add3` int(11) DEFAULT NULL,
  `every3` int(11) DEFAULT NULL,
  `whenmorethan3` int(11) DEFAULT NULL,
  `setto3` int(11) DEFAULT NULL,
  `numbering3` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `suggestions`
--

CREATE TABLE `suggestions` (
  `suggestionid` int(8) NOT NULL COMMENT 'unique identifier assigned automatically by Koha',
  `suggestedby` int(11) DEFAULT NULL COMMENT 'borrowernumber for the person making the suggestion, foreign key linking to the borrowers table',
  `suggesteddate` date NOT NULL COMMENT 'date the suggestion was submitted',
  `managedby` int(11) DEFAULT NULL COMMENT 'borrowernumber for the librarian managing the suggestion, foreign key linking to the borrowers table',
  `manageddate` date DEFAULT NULL COMMENT 'date the suggestion was updated',
  `acceptedby` int(11) DEFAULT NULL COMMENT 'borrowernumber for the librarian who accepted the suggestion, foreign key linking to the borrowers table',
  `accepteddate` date DEFAULT NULL COMMENT 'date the suggestion was marked as accepted',
  `rejectedby` int(11) DEFAULT NULL COMMENT 'borrowernumber for the librarian who rejected the suggestion, foreign key linking to the borrowers table',
  `rejecteddate` date DEFAULT NULL COMMENT 'date the suggestion was marked as rejected',
  `lastmodificationby` int(11) DEFAULT NULL COMMENT 'borrowernumber for the librarian who edit the suggestion for the last time',
  `lastmodificationdate` date DEFAULT NULL COMMENT 'date of the last modification',
  `STATUS` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'suggestion status (ASKED, CHECKED, ACCEPTED, REJECTED, ORDERED, AVAILABLE or a value from the SUGGEST_STATUS authorised value category)',
  `archived` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'is the suggestion archived?',
  `note` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'note entered on the suggestion',
  `author` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'author of the suggested item',
  `title` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'title of the suggested item',
  `copyrightdate` smallint(6) DEFAULT NULL COMMENT 'copyright date of the suggested item',
  `publishercode` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'publisher of the suggested item',
  `date` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT 'date and time the suggestion was updated',
  `volumedesc` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `publicationyear` smallint(6) DEFAULT 0,
  `place` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'publication place of the suggested item',
  `isbn` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'isbn of the suggested item',
  `biblionumber` int(11) DEFAULT NULL COMMENT 'foreign key linking the suggestion to the biblio table after the suggestion has been ordered',
  `reason` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'reason for accepting or rejecting the suggestion',
  `patronreason` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'reason for making the suggestion',
  `budgetid` int(11) DEFAULT NULL COMMENT 'foreign key linking the suggested budget to the aqbudgets table',
  `branchcode` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'foreign key linking the suggested branch to the branches table',
  `collectiontitle` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'collection name for the suggested item',
  `itemtype` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'suggested item type',
  `quantity` smallint(6) DEFAULT NULL COMMENT 'suggested quantity to be purchased',
  `currency` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'suggested currency for the suggested price',
  `price` decimal(28,6) DEFAULT NULL COMMENT 'suggested price',
  `total` decimal(28,6) DEFAULT NULL COMMENT 'suggested total cost (price*quantity updated for currency)'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `systempreferences`
--

CREATE TABLE `systempreferences` (
  `variable` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '' COMMENT 'system preference name',
  `value` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'system preference values',
  `options` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'options for multiple choice system preferences',
  `explanation` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'descriptive text for the system preference',
  `type` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'type of question this preference asks (multiple choice, plain text, yes or no, etc)'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `tables_settings`
--

CREATE TABLE `tables_settings` (
  `module` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `page` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `tablename` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `default_display_length` smallint(6) DEFAULT NULL,
  `default_sort_order` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `tags`
--

CREATE TABLE `tags` (
  `entry` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `weight` bigint(20) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `tags_all`
--

CREATE TABLE `tags_all` (
  `tag_id` int(11) NOT NULL COMMENT 'unique id and primary key',
  `borrowernumber` int(11) DEFAULT NULL COMMENT 'the patron who added the tag (borrowers.borrowernumber)',
  `biblionumber` int(11) NOT NULL COMMENT 'the bib record this tag was left on (biblio.biblionumber)',
  `term` varchar(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT 'the tag',
  `language` int(4) DEFAULT NULL COMMENT 'the language the tag was left in',
  `date_created` datetime NOT NULL COMMENT 'the date the tag was added'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `tags_approval`
--

CREATE TABLE `tags_approval` (
  `term` varchar(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT 'the tag',
  `approved` int(1) NOT NULL DEFAULT 0 COMMENT 'whether the tag is approved or not (1=yes, 0=pending, -1=rejected)',
  `date_approved` datetime DEFAULT NULL COMMENT 'the date this tag was approved',
  `approved_by` int(11) DEFAULT NULL COMMENT 'the librarian who approved the tag (borrowers.borrowernumber)',
  `weight_total` int(9) NOT NULL DEFAULT 1 COMMENT 'the total number of times this tag was used'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `tags_index`
--

CREATE TABLE `tags_index` (
  `term` varchar(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT 'the tag',
  `biblionumber` int(11) NOT NULL COMMENT 'the bib record this tag was used on (biblio.biblionumber)',
  `weight` int(9) NOT NULL DEFAULT 1 COMMENT 'the number of times this term was used on this bib record'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `tmp_holdsqueue`
--

CREATE TABLE `tmp_holdsqueue` (
  `biblionumber` int(11) DEFAULT NULL,
  `itemnumber` int(11) DEFAULT NULL,
  `barcode` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `surname` longtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `firstname` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `phone` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `borrowernumber` int(11) NOT NULL,
  `cardnumber` varchar(32) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `reservedate` date DEFAULT NULL,
  `title` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `itemcallnumber` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `holdingbranch` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `pickbranch` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `notes` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `item_level_request` tinyint(4) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `transport_cost`
--

CREATE TABLE `transport_cost` (
  `frombranch` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL,
  `tobranch` varchar(10) COLLATE utf8mb4_unicode_ci NOT NULL,
  `cost` decimal(6,2) NOT NULL,
  `disable_transfer` tinyint(1) NOT NULL DEFAULT 0
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `uploaded_files`
--

CREATE TABLE `uploaded_files` (
  `id` int(11) NOT NULL,
  `hashvalue` char(40) COLLATE utf8mb4_unicode_ci NOT NULL,
  `filename` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `dir` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `filesize` int(11) DEFAULT NULL,
  `dtcreated` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `uploadcategorycode` text COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `owner` int(11) DEFAULT NULL,
  `public` tinyint(4) DEFAULT NULL,
  `permanent` tinyint(4) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `userflags`
--

CREATE TABLE `userflags` (
  `bit` int(11) NOT NULL DEFAULT 0,
  `flag` varchar(30) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `flagdesc` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `defaulton` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `user_permissions`
--

CREATE TABLE `user_permissions` (
  `borrowernumber` int(11) NOT NULL DEFAULT 0,
  `module_bit` int(11) NOT NULL DEFAULT 0,
  `code` varchar(64) COLLATE utf8mb4_unicode_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `vendor_edi_accounts`
--

CREATE TABLE `vendor_edi_accounts` (
  `id` int(11) NOT NULL,
  `description` mediumtext COLLATE utf8mb4_unicode_ci NOT NULL,
  `host` varchar(40) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `username` varchar(40) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `password` varchar(40) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `last_activity` date DEFAULT NULL,
  `vendor_id` int(11) DEFAULT NULL,
  `download_directory` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `upload_directory` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `san` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `standard` varchar(3) COLLATE utf8mb4_unicode_ci DEFAULT 'EUR',
  `id_code_qualifier` varchar(3) COLLATE utf8mb4_unicode_ci DEFAULT '14',
  `transport` varchar(6) COLLATE utf8mb4_unicode_ci DEFAULT 'FTP',
  `quotes_enabled` tinyint(1) NOT NULL DEFAULT 0,
  `invoices_enabled` tinyint(1) NOT NULL DEFAULT 0,
  `orders_enabled` tinyint(1) NOT NULL DEFAULT 0,
  `responses_enabled` tinyint(1) NOT NULL DEFAULT 0,
  `auto_orders` tinyint(1) NOT NULL DEFAULT 0,
  `shipment_budget` int(11) DEFAULT NULL,
  `plugin` varchar(256) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT ''
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `virtualshelfcontents`
--

CREATE TABLE `virtualshelfcontents` (
  `shelfnumber` int(11) NOT NULL DEFAULT 0 COMMENT 'foreign key linking to the virtualshelves table, defines the list that this record has been added to',
  `biblionumber` int(11) NOT NULL DEFAULT 0 COMMENT 'foreign key linking to the biblio table, defines the bib record that has been added to the list',
  `flags` int(11) DEFAULT NULL,
  `dateadded` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT 'date and time this bib record was added to the list',
  `borrowernumber` int(11) DEFAULT NULL COMMENT 'borrower number that created this list entry (only the first one is saved: no need for use in/as key)'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `virtualshelfshares`
--

CREATE TABLE `virtualshelfshares` (
  `id` int(11) NOT NULL COMMENT 'unique key',
  `shelfnumber` int(11) NOT NULL COMMENT 'foreign key for virtualshelves',
  `borrowernumber` int(11) DEFAULT NULL COMMENT 'borrower that accepted access to this list',
  `invitekey` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'temporary string used in accepting the invitation to access thist list; not-empty means that the invitation has not been accepted yet',
  `sharedate` datetime DEFAULT NULL COMMENT 'date of invitation or acceptance of invitation'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `virtualshelves`
--

CREATE TABLE `virtualshelves` (
  `shelfnumber` int(11) NOT NULL COMMENT 'unique identifier assigned by Koha',
  `shelfname` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'name of the list',
  `owner` int(11) DEFAULT NULL COMMENT 'foreign key linking to the borrowers table (using borrowernumber) for the creator of this list (changed from varchar(80) to int)',
  `public` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'If the list is public',
  `sortfield` varchar(16) COLLATE utf8mb4_unicode_ci DEFAULT 'title' COMMENT 'the field this list is sorted on',
  `lastmodified` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp() COMMENT 'date and time the list was last modified',
  `created_on` datetime NOT NULL COMMENT 'creation time',
  `allow_change_from_owner` tinyint(1) DEFAULT 1 COMMENT 'can owner change contents?',
  `allow_change_from_others` tinyint(1) DEFAULT 0 COMMENT 'can others change contents?',
  `allow_change_from_staff` tinyint(1) DEFAULT 0 COMMENT 'can staff change contents?'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `z3950servers`
--

CREATE TABLE `z3950servers` (
  `id` int(11) NOT NULL COMMENT 'unique identifier assigned by Koha',
  `host` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'target''s host name',
  `port` int(11) DEFAULT NULL COMMENT 'port number used to connect to target',
  `db` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'target''s database name',
  `userid` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'username needed to log in to target',
  `password` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'password needed to log in to target',
  `servername` longtext COLLATE utf8mb4_unicode_ci NOT NULL COMMENT 'name given to the target by the library',
  `checked` smallint(6) DEFAULT NULL COMMENT 'whether this target is checked by default  (1 for yes, 0 for no)',
  `rank` int(11) DEFAULT NULL COMMENT 'where this target appears in the list of targets',
  `syntax` varchar(80) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'marc format provided by this target',
  `timeout` int(11) NOT NULL DEFAULT 0 COMMENT 'number of seconds before Koha stops trying to access this server',
  `servertype` enum('zed','sru') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'zed' COMMENT 'zed means z39.50 server',
  `encoding` mediumtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'characters encoding provided by this target',
  `recordtype` enum('authority','biblio') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'biblio' COMMENT 'server contains bibliographic or authority records',
  `sru_options` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'options like sru=get, sru_version=1.1; will be passed to the server via ZOOM',
  `sru_fields` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'contains the mapping between the Z3950 search fields and the specific SRU server indexes',
  `add_xslt` longtext COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'zero or more paths to XSLT files to be processed on the search results',
  `attributes` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'additional attributes passed to PQF queries'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- --------------------------------------------------------

--
-- Table structure for table `zebraqueue`
--

CREATE TABLE `zebraqueue` (
  `id` int(11) NOT NULL,
  `biblio_auth_number` bigint(20) UNSIGNED NOT NULL DEFAULT 0,
  `operation` char(20) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `server` char(20) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT '',
  `done` int(11) NOT NULL DEFAULT 0,
  `time` timestamp NOT NULL DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `accountlines`
--
ALTER TABLE `accountlines`
  ADD PRIMARY KEY (`accountlines_id`),
  ADD KEY `acctsborridx` (`borrowernumber`),
  ADD KEY `timeidx` (`timestamp`),
  ADD KEY `credit_type_code` (`credit_type_code`),
  ADD KEY `debit_type_code` (`debit_type_code`),
  ADD KEY `itemnumber` (`itemnumber`),
  ADD KEY `branchcode` (`branchcode`),
  ADD KEY `manager_id` (`manager_id`),
  ADD KEY `accountlines_ibfk_registers` (`register_id`);

--
-- Indexes for table `account_credit_types`
--
ALTER TABLE `account_credit_types`
  ADD PRIMARY KEY (`code`);

--
-- Indexes for table `account_credit_types_branches`
--
ALTER TABLE `account_credit_types_branches`
  ADD KEY `credit_type_code` (`credit_type_code`),
  ADD KEY `branchcode` (`branchcode`);

--
-- Indexes for table `account_debit_types`
--
ALTER TABLE `account_debit_types`
  ADD PRIMARY KEY (`code`);

--
-- Indexes for table `account_debit_types_branches`
--
ALTER TABLE `account_debit_types_branches`
  ADD KEY `debit_type_code` (`debit_type_code`),
  ADD KEY `branchcode` (`branchcode`);

--
-- Indexes for table `account_offsets`
--
ALTER TABLE `account_offsets`
  ADD PRIMARY KEY (`id`),
  ADD KEY `account_offsets_ibfk_p` (`credit_id`),
  ADD KEY `account_offsets_ibfk_f` (`debit_id`);

--
-- Indexes for table `action_logs`
--
ALTER TABLE `action_logs`
  ADD PRIMARY KEY (`action_id`),
  ADD KEY `timestamp_idx` (`timestamp`),
  ADD KEY `user_idx` (`user`),
  ADD KEY `module_idx` (`module`(191)),
  ADD KEY `action_idx` (`action`(191)),
  ADD KEY `object_idx` (`object`),
  ADD KEY `info_idx` (`info`(191)),
  ADD KEY `interface` (`interface`);

--
-- Indexes for table `additional_contents`
--
ALTER TABLE `additional_contents`
  ADD PRIMARY KEY (`idnew`),
  ADD UNIQUE KEY `additional_contents_uniq` (`category`,`code`,`branchcode`,`lang`),
  ADD KEY `additional_contents_borrowernumber_fk` (`borrowernumber`),
  ADD KEY `additional_contents_branchcode_ibfk` (`branchcode`);

--
-- Indexes for table `additional_fields`
--
ALTER TABLE `additional_fields`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `fields_uniq` (`tablename`(191),`name`(191));

--
-- Indexes for table `additional_field_values`
--
ALTER TABLE `additional_field_values`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `field_record` (`field_id`,`record_id`);

--
-- Indexes for table `advanced_editor_macros`
--
ALTER TABLE `advanced_editor_macros`
  ADD PRIMARY KEY (`id`),
  ADD KEY `borrower_macro_fk` (`borrowernumber`);

--
-- Indexes for table `alert`
--
ALTER TABLE `alert`
  ADD PRIMARY KEY (`alertid`),
  ADD KEY `borrowernumber` (`borrowernumber`),
  ADD KEY `type` (`type`,`externalid`);

--
-- Indexes for table `api_keys`
--
ALTER TABLE `api_keys`
  ADD PRIMARY KEY (`client_id`),
  ADD UNIQUE KEY `secret` (`secret`),
  ADD KEY `patron_id` (`patron_id`);

--
-- Indexes for table `aqbasket`
--
ALTER TABLE `aqbasket`
  ADD PRIMARY KEY (`basketno`),
  ADD KEY `booksellerid` (`booksellerid`),
  ADD KEY `basketgroupid` (`basketgroupid`),
  ADD KEY `contractnumber` (`contractnumber`),
  ADD KEY `authorisedby` (`authorisedby`),
  ADD KEY `aqbasket_ibfk_4` (`branch`);

--
-- Indexes for table `aqbasketgroups`
--
ALTER TABLE `aqbasketgroups`
  ADD PRIMARY KEY (`id`),
  ADD KEY `booksellerid` (`booksellerid`);

--
-- Indexes for table `aqbasketusers`
--
ALTER TABLE `aqbasketusers`
  ADD PRIMARY KEY (`basketno`,`borrowernumber`),
  ADD KEY `aqbasketusers_ibfk_2` (`borrowernumber`);

--
-- Indexes for table `aqbooksellers`
--
ALTER TABLE `aqbooksellers`
  ADD PRIMARY KEY (`id`),
  ADD KEY `listprice` (`listprice`),
  ADD KEY `invoiceprice` (`invoiceprice`),
  ADD KEY `name` (`name`(191));

--
-- Indexes for table `aqbudgetborrowers`
--
ALTER TABLE `aqbudgetborrowers`
  ADD PRIMARY KEY (`budget_id`,`borrowernumber`),
  ADD KEY `aqbudgetborrowers_ibfk_2` (`borrowernumber`);

--
-- Indexes for table `aqbudgetperiods`
--
ALTER TABLE `aqbudgetperiods`
  ADD PRIMARY KEY (`budget_period_id`);

--
-- Indexes for table `aqbudgets`
--
ALTER TABLE `aqbudgets`
  ADD PRIMARY KEY (`budget_id`),
  ADD KEY `budget_parent_id` (`budget_parent_id`),
  ADD KEY `budget_code` (`budget_code`),
  ADD KEY `budget_branchcode` (`budget_branchcode`),
  ADD KEY `budget_period_id` (`budget_period_id`),
  ADD KEY `budget_owner_id` (`budget_owner_id`);

--
-- Indexes for table `aqbudgets_planning`
--
ALTER TABLE `aqbudgets_planning`
  ADD PRIMARY KEY (`plan_id`),
  ADD KEY `budget_period_id` (`budget_period_id`),
  ADD KEY `aqbudgets_planning_ifbk_1` (`budget_id`);

--
-- Indexes for table `aqcontacts`
--
ALTER TABLE `aqcontacts`
  ADD PRIMARY KEY (`id`),
  ADD KEY `booksellerid_aqcontacts_fk` (`booksellerid`);

--
-- Indexes for table `aqcontract`
--
ALTER TABLE `aqcontract`
  ADD PRIMARY KEY (`contractnumber`),
  ADD KEY `booksellerid_fk1` (`booksellerid`);

--
-- Indexes for table `aqinvoices`
--
ALTER TABLE `aqinvoices`
  ADD PRIMARY KEY (`invoiceid`),
  ADD KEY `aqinvoices_fk_aqbooksellerid` (`booksellerid`),
  ADD KEY `edifact_msg_fk` (`message_id`),
  ADD KEY `aqinvoices_fk_shipmentcost_budgetid` (`shipmentcost_budgetid`);

--
-- Indexes for table `aqinvoice_adjustments`
--
ALTER TABLE `aqinvoice_adjustments`
  ADD PRIMARY KEY (`adjustment_id`),
  ADD KEY `aqinvoice_adjustments_fk_invoiceid` (`invoiceid`),
  ADD KEY `aqinvoice_adjustments_fk_budget_id` (`budget_id`);

--
-- Indexes for table `aqorders`
--
ALTER TABLE `aqorders`
  ADD PRIMARY KEY (`ordernumber`),
  ADD KEY `basketno` (`basketno`),
  ADD KEY `biblionumber` (`biblionumber`),
  ADD KEY `budget_id` (`budget_id`),
  ADD KEY `parent_ordernumber` (`parent_ordernumber`),
  ADD KEY `orderstatus` (`orderstatus`),
  ADD KEY `aqorders_created_by` (`created_by`),
  ADD KEY `aqorders_ibfk_3` (`invoiceid`),
  ADD KEY `aqorders_subscriptionid` (`subscriptionid`),
  ADD KEY `aqorders_currency` (`currency`);

--
-- Indexes for table `aqorders_claims`
--
ALTER TABLE `aqorders_claims`
  ADD PRIMARY KEY (`id`),
  ADD KEY `aqorders_claims_ibfk_1` (`ordernumber`);

--
-- Indexes for table `aqorders_items`
--
ALTER TABLE `aqorders_items`
  ADD PRIMARY KEY (`itemnumber`),
  ADD KEY `ordernumber` (`ordernumber`);

--
-- Indexes for table `aqorders_transfers`
--
ALTER TABLE `aqorders_transfers`
  ADD UNIQUE KEY `ordernumber_from` (`ordernumber_from`),
  ADD UNIQUE KEY `ordernumber_to` (`ordernumber_to`);

--
-- Indexes for table `aqorder_users`
--
ALTER TABLE `aqorder_users`
  ADD PRIMARY KEY (`ordernumber`,`borrowernumber`),
  ADD KEY `aqorder_users_ibfk_2` (`borrowernumber`);

--
-- Indexes for table `article_requests`
--
ALTER TABLE `article_requests`
  ADD PRIMARY KEY (`id`),
  ADD KEY `borrowernumber` (`borrowernumber`),
  ADD KEY `biblionumber` (`biblionumber`),
  ADD KEY `itemnumber` (`itemnumber`),
  ADD KEY `branchcode` (`branchcode`),
  ADD KEY `debit_id` (`debit_id`);

--
-- Indexes for table `audio_alerts`
--
ALTER TABLE `audio_alerts`
  ADD PRIMARY KEY (`id`),
  ADD KEY `precedence` (`precedence`);

--
-- Indexes for table `authorised_values`
--
ALTER TABLE `authorised_values`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `av_uniq` (`category`,`authorised_value`),
  ADD KEY `name` (`category`),
  ADD KEY `lib` (`lib`(191)),
  ADD KEY `auth_value_idx` (`authorised_value`);

--
-- Indexes for table `authorised_values_branches`
--
ALTER TABLE `authorised_values_branches`
  ADD KEY `av_id` (`av_id`),
  ADD KEY `branchcode` (`branchcode`);

--
-- Indexes for table `authorised_value_categories`
--
ALTER TABLE `authorised_value_categories`
  ADD PRIMARY KEY (`category_name`);

--
-- Indexes for table `auth_header`
--
ALTER TABLE `auth_header`
  ADD PRIMARY KEY (`authid`),
  ADD KEY `origincode` (`origincode`);

--
-- Indexes for table `auth_subfield_structure`
--
ALTER TABLE `auth_subfield_structure`
  ADD PRIMARY KEY (`authtypecode`,`tagfield`,`tagsubfield`),
  ADD KEY `tab` (`authtypecode`,`tab`);

--
-- Indexes for table `auth_tag_structure`
--
ALTER TABLE `auth_tag_structure`
  ADD PRIMARY KEY (`authtypecode`,`tagfield`);

--
-- Indexes for table `auth_types`
--
ALTER TABLE `auth_types`
  ADD PRIMARY KEY (`authtypecode`);

--
-- Indexes for table `background_jobs`
--
ALTER TABLE `background_jobs`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `biblio`
--
ALTER TABLE `biblio`
  ADD PRIMARY KEY (`biblionumber`),
  ADD KEY `blbnoidx` (`biblionumber`);

--
-- Indexes for table `biblioitems`
--
ALTER TABLE `biblioitems`
  ADD PRIMARY KEY (`biblioitemnumber`),
  ADD KEY `bibinoidx` (`biblioitemnumber`),
  ADD KEY `bibnoidx` (`biblionumber`),
  ADD KEY `itemtype_idx` (`itemtype`),
  ADD KEY `isbn` (`isbn`(191)),
  ADD KEY `issn` (`issn`(191)),
  ADD KEY `ean` (`ean`(191)),
  ADD KEY `publishercode` (`publishercode`(191)),
  ADD KEY `timestamp` (`timestamp`);

--
-- Indexes for table `biblio_framework`
--
ALTER TABLE `biblio_framework`
  ADD PRIMARY KEY (`frameworkcode`);

--
-- Indexes for table `biblio_metadata`
--
ALTER TABLE `biblio_metadata`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `biblio_metadata_uniq_key` (`biblionumber`,`format`,`schema`),
  ADD KEY `timestamp` (`timestamp`);

--
-- Indexes for table `borrowers`
--
ALTER TABLE `borrowers`
  ADD PRIMARY KEY (`borrowernumber`),
  ADD UNIQUE KEY `cardnumber` (`cardnumber`),
  ADD UNIQUE KEY `userid` (`userid`),
  ADD KEY `categorycode` (`categorycode`),
  ADD KEY `branchcode` (`branchcode`),
  ADD KEY `surname_idx` (`surname`(191)),
  ADD KEY `firstname_idx` (`firstname`(191)),
  ADD KEY `othernames_idx` (`othernames`(191)),
  ADD KEY `sms_provider_id` (`sms_provider_id`);

--
-- Indexes for table `borrower_attributes`
--
ALTER TABLE `borrower_attributes`
  ADD PRIMARY KEY (`id`),
  ADD KEY `borrowernumber` (`borrowernumber`),
  ADD KEY `code_attribute` (`code`,`attribute`(191));

--
-- Indexes for table `borrower_attribute_types`
--
ALTER TABLE `borrower_attribute_types`
  ADD PRIMARY KEY (`code`),
  ADD KEY `auth_val_cat_idx` (`authorised_value_category`),
  ADD KEY `category_code` (`category_code`);

--
-- Indexes for table `borrower_attribute_types_branches`
--
ALTER TABLE `borrower_attribute_types_branches`
  ADD KEY `bat_code` (`bat_code`),
  ADD KEY `b_branchcode` (`b_branchcode`);

--
-- Indexes for table `borrower_debarments`
--
ALTER TABLE `borrower_debarments`
  ADD PRIMARY KEY (`borrower_debarment_id`),
  ADD KEY `borrowernumber` (`borrowernumber`);

--
-- Indexes for table `borrower_files`
--
ALTER TABLE `borrower_files`
  ADD PRIMARY KEY (`file_id`),
  ADD KEY `borrowernumber` (`borrowernumber`);

--
-- Indexes for table `borrower_message_preferences`
--
ALTER TABLE `borrower_message_preferences`
  ADD PRIMARY KEY (`borrower_message_preference_id`),
  ADD KEY `borrowernumber` (`borrowernumber`),
  ADD KEY `categorycode` (`categorycode`),
  ADD KEY `message_attribute_id` (`message_attribute_id`);

--
-- Indexes for table `borrower_message_transport_preferences`
--
ALTER TABLE `borrower_message_transport_preferences`
  ADD PRIMARY KEY (`borrower_message_preference_id`,`message_transport_type`),
  ADD KEY `message_transport_type` (`message_transport_type`);

--
-- Indexes for table `borrower_modifications`
--
ALTER TABLE `borrower_modifications`
  ADD PRIMARY KEY (`verification_token`(191),`borrowernumber`),
  ADD KEY `verification_token` (`verification_token`(191)),
  ADD KEY `borrowernumber` (`borrowernumber`);

--
-- Indexes for table `borrower_password_recovery`
--
ALTER TABLE `borrower_password_recovery`
  ADD PRIMARY KEY (`borrowernumber`),
  ADD KEY `borrowernumber` (`borrowernumber`);

--
-- Indexes for table `borrower_relationships`
--
ALTER TABLE `borrower_relationships`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `guarantor_guarantee_idx` (`guarantor_id`,`guarantee_id`),
  ADD KEY `r_guarantee` (`guarantee_id`);

--
-- Indexes for table `branches`
--
ALTER TABLE `branches`
  ADD PRIMARY KEY (`branchcode`);

--
-- Indexes for table `branches_overdrive`
--
ALTER TABLE `branches_overdrive`
  ADD PRIMARY KEY (`branchcode`);

--
-- Indexes for table `branchtransfers`
--
ALTER TABLE `branchtransfers`
  ADD PRIMARY KEY (`branchtransfer_id`),
  ADD KEY `frombranch` (`frombranch`),
  ADD KEY `tobranch` (`tobranch`),
  ADD KEY `itemnumber` (`itemnumber`);

--
-- Indexes for table `branch_transfer_limits`
--
ALTER TABLE `branch_transfer_limits`
  ADD PRIMARY KEY (`limitId`);

--
-- Indexes for table `cash_registers`
--
ALTER TABLE `cash_registers`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `name` (`name`,`branch`),
  ADD KEY `cash_registers_branch` (`branch`);

--
-- Indexes for table `cash_register_actions`
--
ALTER TABLE `cash_register_actions`
  ADD PRIMARY KEY (`id`),
  ADD KEY `cash_register_actions_manager` (`manager_id`),
  ADD KEY `cash_register_actions_register` (`register_id`);

--
-- Indexes for table `categories`
--
ALTER TABLE `categories`
  ADD PRIMARY KEY (`categorycode`),
  ADD UNIQUE KEY `categorycode` (`categorycode`);

--
-- Indexes for table `categories_branches`
--
ALTER TABLE `categories_branches`
  ADD KEY `categorycode` (`categorycode`),
  ADD KEY `branchcode` (`branchcode`);

--
-- Indexes for table `circulation_rules`
--
ALTER TABLE `circulation_rules`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `branchcode` (`branchcode`,`categorycode`,`itemtype`,`rule_name`),
  ADD KEY `circ_rules_ibfk_2` (`categorycode`),
  ADD KEY `circ_rules_ibfk_3` (`itemtype`),
  ADD KEY `rule_name` (`rule_name`);

--
-- Indexes for table `cities`
--
ALTER TABLE `cities`
  ADD PRIMARY KEY (`cityid`);

--
-- Indexes for table `class_sort_rules`
--
ALTER TABLE `class_sort_rules`
  ADD PRIMARY KEY (`class_sort_rule`),
  ADD UNIQUE KEY `class_sort_rule_idx` (`class_sort_rule`);

--
-- Indexes for table `class_sources`
--
ALTER TABLE `class_sources`
  ADD PRIMARY KEY (`cn_source`),
  ADD UNIQUE KEY `cn_source_idx` (`cn_source`),
  ADD KEY `used_idx` (`used`),
  ADD KEY `class_source_ibfk_1` (`class_sort_rule`),
  ADD KEY `class_source_ibfk_2` (`class_split_rule`);

--
-- Indexes for table `class_split_rules`
--
ALTER TABLE `class_split_rules`
  ADD PRIMARY KEY (`class_split_rule`),
  ADD UNIQUE KEY `class_split_rule_idx` (`class_split_rule`);

--
-- Indexes for table `clubs`
--
ALTER TABLE `clubs`
  ADD PRIMARY KEY (`id`),
  ADD KEY `club_template_id` (`club_template_id`),
  ADD KEY `branchcode` (`branchcode`);

--
-- Indexes for table `club_enrollments`
--
ALTER TABLE `club_enrollments`
  ADD PRIMARY KEY (`id`),
  ADD KEY `club_id` (`club_id`),
  ADD KEY `borrowernumber` (`borrowernumber`),
  ADD KEY `branchcode` (`branchcode`);

--
-- Indexes for table `club_enrollment_fields`
--
ALTER TABLE `club_enrollment_fields`
  ADD PRIMARY KEY (`id`),
  ADD KEY `club_enrollment_id` (`club_enrollment_id`),
  ADD KEY `club_template_enrollment_field_id` (`club_template_enrollment_field_id`);

--
-- Indexes for table `club_fields`
--
ALTER TABLE `club_fields`
  ADD PRIMARY KEY (`id`),
  ADD KEY `club_template_field_id` (`club_template_field_id`),
  ADD KEY `club_id` (`club_id`);

--
-- Indexes for table `club_holds`
--
ALTER TABLE `club_holds`
  ADD PRIMARY KEY (`id`),
  ADD KEY `clubs_holds_ibfk_1` (`club_id`),
  ADD KEY `clubs_holds_ibfk_2` (`biblio_id`),
  ADD KEY `clubs_holds_ibfk_3` (`item_id`);

--
-- Indexes for table `club_holds_to_patron_holds`
--
ALTER TABLE `club_holds_to_patron_holds`
  ADD PRIMARY KEY (`id`),
  ADD KEY `clubs_holds_paton_holds_ibfk_1` (`club_hold_id`),
  ADD KEY `clubs_holds_paton_holds_ibfk_2` (`patron_id`),
  ADD KEY `clubs_holds_paton_holds_ibfk_3` (`hold_id`);

--
-- Indexes for table `club_templates`
--
ALTER TABLE `club_templates`
  ADD PRIMARY KEY (`id`),
  ADD KEY `ct_branchcode` (`branchcode`);

--
-- Indexes for table `club_template_enrollment_fields`
--
ALTER TABLE `club_template_enrollment_fields`
  ADD PRIMARY KEY (`id`),
  ADD KEY `club_template_id` (`club_template_id`);

--
-- Indexes for table `club_template_fields`
--
ALTER TABLE `club_template_fields`
  ADD PRIMARY KEY (`id`),
  ADD KEY `club_template_id` (`club_template_id`);

--
-- Indexes for table `collections`
--
ALTER TABLE `collections`
  ADD PRIMARY KEY (`colId`),
  ADD KEY `collections_ibfk_1` (`colBranchcode`);

--
-- Indexes for table `collections_tracking`
--
ALTER TABLE `collections_tracking`
  ADD PRIMARY KEY (`collections_tracking_id`),
  ADD KEY `collectionst_ibfk_1` (`colId`);

--
-- Indexes for table `columns_settings`
--
ALTER TABLE `columns_settings`
  ADD PRIMARY KEY (`module`(191),`page`(191),`tablename`(191),`columnname`(191));

--
-- Indexes for table `courses`
--
ALTER TABLE `courses`
  ADD PRIMARY KEY (`course_id`);

--
-- Indexes for table `course_instructors`
--
ALTER TABLE `course_instructors`
  ADD PRIMARY KEY (`course_id`,`borrowernumber`),
  ADD KEY `borrowernumber` (`borrowernumber`);

--
-- Indexes for table `course_items`
--
ALTER TABLE `course_items`
  ADD PRIMARY KEY (`ci_id`),
  ADD UNIQUE KEY `itemnumber` (`itemnumber`),
  ADD KEY `holdingbranch` (`holdingbranch`),
  ADD KEY `fk_course_items_homebranch` (`homebranch`),
  ADD KEY `fk_course_items_homebranch_storage` (`homebranch_storage`),
  ADD KEY `fk_course_items_biblionumber` (`biblionumber`);

--
-- Indexes for table `course_reserves`
--
ALTER TABLE `course_reserves`
  ADD PRIMARY KEY (`cr_id`),
  ADD UNIQUE KEY `pseudo_key` (`course_id`,`ci_id`),
  ADD KEY `course_id` (`course_id`),
  ADD KEY `course_reserves_ibfk_2` (`ci_id`);

--
-- Indexes for table `cover_images`
--
ALTER TABLE `cover_images`
  ADD PRIMARY KEY (`imagenumber`),
  ADD KEY `bibliocoverimage_fk1` (`biblionumber`),
  ADD KEY `bibliocoverimage_fk2` (`itemnumber`);

--
-- Indexes for table `creator_batches`
--
ALTER TABLE `creator_batches`
  ADD PRIMARY KEY (`label_id`),
  ADD KEY `branch_fk_constraint` (`branch_code`),
  ADD KEY `item_fk_constraint` (`item_number`),
  ADD KEY `borrower_fk_constraint` (`borrower_number`);

--
-- Indexes for table `creator_images`
--
ALTER TABLE `creator_images`
  ADD PRIMARY KEY (`image_id`),
  ADD UNIQUE KEY `image_name_index` (`image_name`);

--
-- Indexes for table `creator_layouts`
--
ALTER TABLE `creator_layouts`
  ADD PRIMARY KEY (`layout_id`);

--
-- Indexes for table `creator_templates`
--
ALTER TABLE `creator_templates`
  ADD PRIMARY KEY (`template_id`),
  ADD KEY `template_profile_fk_constraint` (`profile_id`);

--
-- Indexes for table `currency`
--
ALTER TABLE `currency`
  ADD PRIMARY KEY (`currency`);

--
-- Indexes for table `deletedbiblio`
--
ALTER TABLE `deletedbiblio`
  ADD PRIMARY KEY (`biblionumber`),
  ADD KEY `blbnoidx` (`biblionumber`);

--
-- Indexes for table `deletedbiblioitems`
--
ALTER TABLE `deletedbiblioitems`
  ADD PRIMARY KEY (`biblioitemnumber`),
  ADD KEY `bibinoidx` (`biblioitemnumber`),
  ADD KEY `bibnoidx` (`biblionumber`),
  ADD KEY `itemtype_idx` (`itemtype`),
  ADD KEY `isbn` (`isbn`(191)),
  ADD KEY `ean` (`ean`(191)),
  ADD KEY `publishercode` (`publishercode`(191)),
  ADD KEY `timestamp` (`timestamp`);

--
-- Indexes for table `deletedbiblio_metadata`
--
ALTER TABLE `deletedbiblio_metadata`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `deletedbiblio_metadata_uniq_key` (`biblionumber`,`format`,`schema`),
  ADD KEY `timestamp` (`timestamp`);

--
-- Indexes for table `deletedborrowers`
--
ALTER TABLE `deletedborrowers`
  ADD KEY `borrowernumber` (`borrowernumber`),
  ADD KEY `cardnumber` (`cardnumber`),
  ADD KEY `sms_provider_id` (`sms_provider_id`);

--
-- Indexes for table `deleteditems`
--
ALTER TABLE `deleteditems`
  ADD PRIMARY KEY (`itemnumber`),
  ADD KEY `delitembarcodeidx` (`barcode`),
  ADD KEY `delitemstocknumberidx` (`stocknumber`),
  ADD KEY `delitembinoidx` (`biblioitemnumber`),
  ADD KEY `delitembibnoidx` (`biblionumber`),
  ADD KEY `delhomebranch` (`homebranch`),
  ADD KEY `delholdingbranch` (`holdingbranch`),
  ADD KEY `itype_idx` (`itype`),
  ADD KEY `timestamp` (`timestamp`);

--
-- Indexes for table `desks`
--
ALTER TABLE `desks`
  ADD PRIMARY KEY (`desk_id`),
  ADD KEY `fk_desks_branchcode` (`branchcode`);

--
-- Indexes for table `discharges`
--
ALTER TABLE `discharges`
  ADD PRIMARY KEY (`discharge_id`),
  ADD KEY `borrower_discharges_ibfk1` (`borrower`);

--
-- Indexes for table `edifact_ean`
--
ALTER TABLE `edifact_ean`
  ADD PRIMARY KEY (`ee_id`),
  ADD KEY `efk_branchcode` (`branchcode`);

--
-- Indexes for table `edifact_messages`
--
ALTER TABLE `edifact_messages`
  ADD PRIMARY KEY (`id`),
  ADD KEY `vendorid` (`vendor_id`),
  ADD KEY `ediacct` (`edi_acct`),
  ADD KEY `basketno` (`basketno`);

--
-- Indexes for table `export_format`
--
ALTER TABLE `export_format`
  ADD PRIMARY KEY (`export_format_id`),
  ADD KEY `used_for_idx` (`used_for`(191)),
  ADD KEY `staff_only_idx` (`staff_only`);

--
-- Indexes for table `hold_fill_targets`
--
ALTER TABLE `hold_fill_targets`
  ADD PRIMARY KEY (`itemnumber`),
  ADD KEY `bib_branch` (`biblionumber`,`source_branchcode`),
  ADD KEY `hold_fill_targets_ibfk_1` (`borrowernumber`),
  ADD KEY `hold_fill_targets_ibfk_4` (`source_branchcode`);

--
-- Indexes for table `housebound_profile`
--
ALTER TABLE `housebound_profile`
  ADD PRIMARY KEY (`borrowernumber`);

--
-- Indexes for table `housebound_role`
--
ALTER TABLE `housebound_role`
  ADD PRIMARY KEY (`borrowernumber_id`);

--
-- Indexes for table `housebound_visit`
--
ALTER TABLE `housebound_visit`
  ADD PRIMARY KEY (`id`),
  ADD KEY `houseboundvisit_bnfk` (`borrowernumber`),
  ADD KEY `houseboundvisit_bnfk_1` (`chooser_brwnumber`),
  ADD KEY `houseboundvisit_bnfk_2` (`deliverer_brwnumber`);

--
-- Indexes for table `illcomments`
--
ALTER TABLE `illcomments`
  ADD PRIMARY KEY (`illcomment_id`),
  ADD KEY `illcomments_bnfk` (`borrowernumber`),
  ADD KEY `illcomments_ifk` (`illrequest_id`);

--
-- Indexes for table `illrequestattributes`
--
ALTER TABLE `illrequestattributes`
  ADD PRIMARY KEY (`illrequest_id`,`type`(191));

--
-- Indexes for table `illrequests`
--
ALTER TABLE `illrequests`
  ADD PRIMARY KEY (`illrequest_id`),
  ADD KEY `illrequests_bnfk` (`borrowernumber`),
  ADD KEY `illrequests_bcfk_2` (`branchcode`),
  ADD KEY `illrequests_safk` (`status_alias`);

--
-- Indexes for table `import_auths`
--
ALTER TABLE `import_auths`
  ADD KEY `import_auths_ibfk_1` (`import_record_id`),
  ADD KEY `matched_authid` (`matched_authid`);

--
-- Indexes for table `import_batches`
--
ALTER TABLE `import_batches`
  ADD PRIMARY KEY (`import_batch_id`),
  ADD KEY `branchcode` (`branchcode`),
  ADD KEY `import_batches_ibfk_1` (`profile_id`);

--
-- Indexes for table `import_batch_profiles`
--
ALTER TABLE `import_batch_profiles`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `u_import_batch_profiles__name` (`name`);

--
-- Indexes for table `import_biblios`
--
ALTER TABLE `import_biblios`
  ADD KEY `import_biblios_ibfk_1` (`import_record_id`),
  ADD KEY `matched_biblionumber` (`matched_biblionumber`),
  ADD KEY `title` (`title`(191)),
  ADD KEY `isbn` (`isbn`(191));

--
-- Indexes for table `import_items`
--
ALTER TABLE `import_items`
  ADD PRIMARY KEY (`import_items_id`),
  ADD KEY `import_items_ibfk_1` (`import_record_id`),
  ADD KEY `itemnumber` (`itemnumber`),
  ADD KEY `branchcode` (`branchcode`);

--
-- Indexes for table `import_records`
--
ALTER TABLE `import_records`
  ADD PRIMARY KEY (`import_record_id`),
  ADD KEY `branchcode` (`branchcode`),
  ADD KEY `batch_sequence` (`import_batch_id`,`record_sequence`),
  ADD KEY `batch_id_record_type` (`import_batch_id`,`record_type`);

--
-- Indexes for table `import_record_matches`
--
ALTER TABLE `import_record_matches`
  ADD PRIMARY KEY (`import_record_id`,`candidate_match_id`),
  ADD KEY `record_score` (`import_record_id`,`score`);

--
-- Indexes for table `issues`
--
ALTER TABLE `issues`
  ADD PRIMARY KEY (`issue_id`),
  ADD UNIQUE KEY `itemnumber` (`itemnumber`),
  ADD KEY `issuesborridx` (`borrowernumber`),
  ADD KEY `itemnumber_idx` (`itemnumber`),
  ADD KEY `branchcode_idx` (`branchcode`),
  ADD KEY `bordate` (`borrowernumber`,`timestamp`),
  ADD KEY `issues_ibfk_borrowers_borrowernumber` (`issuer_id`);

--
-- Indexes for table `items`
--
ALTER TABLE `items`
  ADD PRIMARY KEY (`itemnumber`),
  ADD UNIQUE KEY `itembarcodeidx` (`barcode`),
  ADD KEY `itemstocknumberidx` (`stocknumber`),
  ADD KEY `itembinoidx` (`biblioitemnumber`),
  ADD KEY `itembibnoidx` (`biblionumber`),
  ADD KEY `homebranch` (`homebranch`),
  ADD KEY `holdingbranch` (`holdingbranch`),
  ADD KEY `itemcallnumber` (`itemcallnumber`(191)),
  ADD KEY `items_location` (`location`),
  ADD KEY `items_ccode` (`ccode`),
  ADD KEY `itype_idx` (`itype`),
  ADD KEY `timestamp` (`timestamp`);

--
-- Indexes for table `items_last_borrower`
--
ALTER TABLE `items_last_borrower`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `itemnumber` (`itemnumber`),
  ADD KEY `borrowernumber` (`borrowernumber`);

--
-- Indexes for table `items_search_fields`
--
ALTER TABLE `items_search_fields`
  ADD PRIMARY KEY (`name`(191)),
  ADD KEY `items_search_fields_authorised_values_category` (`authorised_values_category`);

--
-- Indexes for table `itemtypes`
--
ALTER TABLE `itemtypes`
  ADD PRIMARY KEY (`itemtype`),
  ADD UNIQUE KEY `itemtype` (`itemtype`),
  ADD KEY `itemtypes_ibfk_1` (`parent_type`);

--
-- Indexes for table `itemtypes_branches`
--
ALTER TABLE `itemtypes_branches`
  ADD KEY `itemtype` (`itemtype`),
  ADD KEY `branchcode` (`branchcode`);

--
-- Indexes for table `item_circulation_alert_preferences`
--
ALTER TABLE `item_circulation_alert_preferences`
  ADD PRIMARY KEY (`id`),
  ADD KEY `branchcode` (`branchcode`,`categorycode`,`item_type`,`notification`);

--
-- Indexes for table `keyboard_shortcuts`
--
ALTER TABLE `keyboard_shortcuts`
  ADD PRIMARY KEY (`shortcut_name`);

--
-- Indexes for table `language_descriptions`
--
ALTER TABLE `language_descriptions`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `uniq_desc` (`subtag`,`type`,`lang`),
  ADD KEY `lang` (`lang`);

--
-- Indexes for table `language_rfc4646_to_iso639`
--
ALTER TABLE `language_rfc4646_to_iso639`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `uniq_code` (`rfc4646_subtag`,`iso639_2_code`),
  ADD KEY `rfc4646_subtag` (`rfc4646_subtag`);

--
-- Indexes for table `language_script_bidi`
--
ALTER TABLE `language_script_bidi`
  ADD KEY `rfc4646_subtag` (`rfc4646_subtag`);

--
-- Indexes for table `language_script_mapping`
--
ALTER TABLE `language_script_mapping`
  ADD PRIMARY KEY (`language_subtag`);

--
-- Indexes for table `language_subtag_registry`
--
ALTER TABLE `language_subtag_registry`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `uniq_lang` (`subtag`,`type`),
  ADD KEY `subtag` (`subtag`);

--
-- Indexes for table `letter`
--
ALTER TABLE `letter`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `letter_uniq_1` (`module`,`code`,`branchcode`,`message_transport_type`,`lang`),
  ADD KEY `message_transport_type_fk` (`message_transport_type`);

--
-- Indexes for table `library_groups`
--
ALTER TABLE `library_groups`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `title` (`title`),
  ADD UNIQUE KEY `library_groups_uniq_2` (`parent_id`,`branchcode`),
  ADD KEY `branchcode` (`branchcode`);

--
-- Indexes for table `library_smtp_servers`
--
ALTER TABLE `library_smtp_servers`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `library_id_idx` (`library_id`),
  ADD KEY `smtp_server_id_idx` (`smtp_server_id`);

--
-- Indexes for table `linktracker`
--
ALTER TABLE `linktracker`
  ADD PRIMARY KEY (`id`),
  ADD KEY `bibidx` (`biblionumber`),
  ADD KEY `itemidx` (`itemnumber`),
  ADD KEY `borridx` (`borrowernumber`),
  ADD KEY `dateidx` (`timeclicked`);

--
-- Indexes for table `localization`
--
ALTER TABLE `localization`
  ADD PRIMARY KEY (`localization_id`),
  ADD UNIQUE KEY `entity_code_lang` (`entity`,`code`,`lang`);

--
-- Indexes for table `marc_matchers`
--
ALTER TABLE `marc_matchers`
  ADD PRIMARY KEY (`matcher_id`),
  ADD KEY `code` (`code`),
  ADD KEY `record_type` (`record_type`);

--
-- Indexes for table `marc_modification_templates`
--
ALTER TABLE `marc_modification_templates`
  ADD PRIMARY KEY (`template_id`);

--
-- Indexes for table `marc_modification_template_actions`
--
ALTER TABLE `marc_modification_template_actions`
  ADD PRIMARY KEY (`mmta_id`),
  ADD KEY `mmta_ibfk_1` (`template_id`);

--
-- Indexes for table `marc_overlay_rules`
--
ALTER TABLE `marc_overlay_rules`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `marc_subfield_structure`
--
ALTER TABLE `marc_subfield_structure`
  ADD PRIMARY KEY (`frameworkcode`,`tagfield`,`tagsubfield`),
  ADD KEY `kohafield_2` (`kohafield`),
  ADD KEY `tab` (`frameworkcode`,`tab`),
  ADD KEY `kohafield` (`frameworkcode`,`kohafield`),
  ADD KEY `marc_subfield_structure_ibfk_1` (`authorised_value`);

--
-- Indexes for table `marc_tag_structure`
--
ALTER TABLE `marc_tag_structure`
  ADD PRIMARY KEY (`frameworkcode`,`tagfield`);

--
-- Indexes for table `matchchecks`
--
ALTER TABLE `matchchecks`
  ADD PRIMARY KEY (`matchcheck_id`),
  ADD KEY `matcher_matchchecks_ifbk_1` (`matcher_id`),
  ADD KEY `matcher_matchchecks_ifbk_2` (`source_matchpoint_id`),
  ADD KEY `matcher_matchchecks_ifbk_3` (`target_matchpoint_id`);

--
-- Indexes for table `matcher_matchpoints`
--
ALTER TABLE `matcher_matchpoints`
  ADD KEY `matcher_matchpoints_ifbk_1` (`matcher_id`),
  ADD KEY `matcher_matchpoints_ifbk_2` (`matchpoint_id`);

--
-- Indexes for table `matchpoints`
--
ALTER TABLE `matchpoints`
  ADD PRIMARY KEY (`matchpoint_id`),
  ADD KEY `matchpoints_ifbk_1` (`matcher_id`);

--
-- Indexes for table `matchpoint_components`
--
ALTER TABLE `matchpoint_components`
  ADD PRIMARY KEY (`matchpoint_component_id`),
  ADD KEY `by_sequence` (`matchpoint_id`,`sequence`);

--
-- Indexes for table `matchpoint_component_norms`
--
ALTER TABLE `matchpoint_component_norms`
  ADD KEY `matchpoint_component_norms` (`matchpoint_component_id`,`sequence`);

--
-- Indexes for table `messages`
--
ALTER TABLE `messages`
  ADD PRIMARY KEY (`message_id`),
  ADD KEY `messages_ibfk_1` (`manager_id`),
  ADD KEY `messages_borrowernumber` (`borrowernumber`);

--
-- Indexes for table `message_attributes`
--
ALTER TABLE `message_attributes`
  ADD PRIMARY KEY (`message_attribute_id`),
  ADD UNIQUE KEY `message_name` (`message_name`);

--
-- Indexes for table `message_queue`
--
ALTER TABLE `message_queue`
  ADD PRIMARY KEY (`message_id`),
  ADD KEY `borrowernumber` (`borrowernumber`),
  ADD KEY `message_transport_type` (`message_transport_type`);

--
-- Indexes for table `message_transports`
--
ALTER TABLE `message_transports`
  ADD PRIMARY KEY (`message_attribute_id`,`message_transport_type`,`is_digest`),
  ADD KEY `message_transport_type` (`message_transport_type`),
  ADD KEY `letter_module` (`letter_module`,`letter_code`);

--
-- Indexes for table `message_transport_types`
--
ALTER TABLE `message_transport_types`
  ADD PRIMARY KEY (`message_transport_type`);

--
-- Indexes for table `misc_files`
--
ALTER TABLE `misc_files`
  ADD PRIMARY KEY (`file_id`),
  ADD KEY `table_tag` (`table_tag`(191)),
  ADD KEY `record_id` (`record_id`);

--
-- Indexes for table `need_merge_authorities`
--
ALTER TABLE `need_merge_authorities`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `oai_sets`
--
ALTER TABLE `oai_sets`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `spec` (`spec`);

--
-- Indexes for table `oai_sets_biblios`
--
ALTER TABLE `oai_sets_biblios`
  ADD PRIMARY KEY (`biblionumber`,`set_id`),
  ADD KEY `oai_sets_biblios_ibfk_2` (`set_id`);

--
-- Indexes for table `oai_sets_descriptions`
--
ALTER TABLE `oai_sets_descriptions`
  ADD KEY `oai_sets_descriptions_ibfk_1` (`set_id`);

--
-- Indexes for table `oai_sets_mappings`
--
ALTER TABLE `oai_sets_mappings`
  ADD KEY `oai_sets_mappings_ibfk_1` (`set_id`);

--
-- Indexes for table `oauth_access_tokens`
--
ALTER TABLE `oauth_access_tokens`
  ADD PRIMARY KEY (`access_token`);

--
-- Indexes for table `old_issues`
--
ALTER TABLE `old_issues`
  ADD PRIMARY KEY (`issue_id`),
  ADD KEY `old_issuesborridx` (`borrowernumber`),
  ADD KEY `old_issuesitemidx` (`itemnumber`),
  ADD KEY `branchcode_idx` (`branchcode`),
  ADD KEY `old_bordate` (`borrowernumber`,`timestamp`),
  ADD KEY `old_issues_ibfk_borrowers_borrowernumber` (`issuer_id`);

--
-- Indexes for table `old_reserves`
--
ALTER TABLE `old_reserves`
  ADD PRIMARY KEY (`reserve_id`),
  ADD KEY `old_reserves_borrowernumber` (`borrowernumber`),
  ADD KEY `old_reserves_biblionumber` (`biblionumber`),
  ADD KEY `old_reserves_itemnumber` (`itemnumber`),
  ADD KEY `old_reserves_branchcode` (`branchcode`),
  ADD KEY `old_reserves_itemtype` (`itemtype`);

--
-- Indexes for table `overduerules`
--
ALTER TABLE `overduerules`
  ADD PRIMARY KEY (`overduerules_id`),
  ADD UNIQUE KEY `overduerules_branch_cat` (`branchcode`,`categorycode`);

--
-- Indexes for table `overduerules_transport_types`
--
ALTER TABLE `overduerules_transport_types`
  ADD PRIMARY KEY (`id`),
  ADD KEY `overduerules_fk` (`overduerules_id`),
  ADD KEY `mtt_fk` (`message_transport_type`);

--
-- Indexes for table `patronimage`
--
ALTER TABLE `patronimage`
  ADD PRIMARY KEY (`borrowernumber`);

--
-- Indexes for table `patron_consent`
--
ALTER TABLE `patron_consent`
  ADD PRIMARY KEY (`id`),
  ADD KEY `borrowernumber` (`borrowernumber`);

--
-- Indexes for table `patron_lists`
--
ALTER TABLE `patron_lists`
  ADD PRIMARY KEY (`patron_list_id`),
  ADD KEY `owner` (`owner`);

--
-- Indexes for table `patron_list_patrons`
--
ALTER TABLE `patron_list_patrons`
  ADD PRIMARY KEY (`patron_list_patron_id`),
  ADD KEY `patron_list_id` (`patron_list_id`),
  ADD KEY `borrowernumber` (`borrowernumber`);

--
-- Indexes for table `pending_offline_operations`
--
ALTER TABLE `pending_offline_operations`
  ADD PRIMARY KEY (`operationid`);

--
-- Indexes for table `permissions`
--
ALTER TABLE `permissions`
  ADD PRIMARY KEY (`module_bit`,`code`);

--
-- Indexes for table `plugin_data`
--
ALTER TABLE `plugin_data`
  ADD PRIMARY KEY (`plugin_class`(191),`plugin_key`(191));

--
-- Indexes for table `plugin_methods`
--
ALTER TABLE `plugin_methods`
  ADD PRIMARY KEY (`plugin_class`(191),`plugin_method`(191));

--
-- Indexes for table `printers_profile`
--
ALTER TABLE `printers_profile`
  ADD PRIMARY KEY (`profile_id`),
  ADD UNIQUE KEY `printername` (`printer_name`,`template_id`,`paper_bin`,`creator`);

--
-- Indexes for table `problem_reports`
--
ALTER TABLE `problem_reports`
  ADD PRIMARY KEY (`reportid`),
  ADD KEY `problem_reports_ibfk1` (`borrowernumber`),
  ADD KEY `problem_reports_ibfk2` (`branchcode`);

--
-- Indexes for table `pseudonymized_borrower_attributes`
--
ALTER TABLE `pseudonymized_borrower_attributes`
  ADD PRIMARY KEY (`id`),
  ADD KEY `pseudonymized_borrower_attributes_ibfk_1` (`transaction_id`),
  ADD KEY `anonymized_borrower_attributes_ibfk_2` (`code`);

--
-- Indexes for table `pseudonymized_transactions`
--
ALTER TABLE `pseudonymized_transactions`
  ADD PRIMARY KEY (`id`),
  ADD KEY `pseudonymized_transactions_ibfk_1` (`categorycode`),
  ADD KEY `pseudonymized_transactions_borrowers_ibfk_2` (`branchcode`),
  ADD KEY `pseudonymized_transactions_borrowers_ibfk_3` (`transaction_branchcode`);

--
-- Indexes for table `quotes`
--
ALTER TABLE `quotes`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `ratings`
--
ALTER TABLE `ratings`
  ADD PRIMARY KEY (`borrowernumber`,`biblionumber`),
  ADD KEY `ratings_ibfk_2` (`biblionumber`);

--
-- Indexes for table `recalls`
--
ALTER TABLE `recalls`
  ADD PRIMARY KEY (`recall_id`),
  ADD KEY `recalls_ibfk_1` (`patron_id`),
  ADD KEY `recalls_ibfk_2` (`biblio_id`),
  ADD KEY `recalls_ibfk_3` (`item_id`),
  ADD KEY `recalls_ibfk_4` (`pickup_library_id`);

--
-- Indexes for table `repeatable_holidays`
--
ALTER TABLE `repeatable_holidays`
  ADD PRIMARY KEY (`id`),
  ADD KEY `repeatable_holidays_ibfk_1` (`branchcode`);

--
-- Indexes for table `reports_dictionary`
--
ALTER TABLE `reports_dictionary`
  ADD PRIMARY KEY (`id`),
  ADD KEY `dictionary_area_idx` (`report_area`);

--
-- Indexes for table `reserves`
--
ALTER TABLE `reserves`
  ADD PRIMARY KEY (`reserve_id`),
  ADD KEY `priorityfoundidx` (`priority`,`found`),
  ADD KEY `borrowernumber` (`borrowernumber`),
  ADD KEY `biblionumber` (`biblionumber`),
  ADD KEY `itemnumber` (`itemnumber`),
  ADD KEY `branchcode` (`branchcode`),
  ADD KEY `desk_id` (`desk_id`),
  ADD KEY `itemtype` (`itemtype`);

--
-- Indexes for table `return_claims`
--
ALTER TABLE `return_claims`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `issue_id` (`issue_id`),
  ADD KEY `itemnumber` (`itemnumber`),
  ADD KEY `rc_borrowers_ibfk` (`borrowernumber`),
  ADD KEY `rc_created_by_ibfk` (`created_by`),
  ADD KEY `rc_updated_by_ibfk` (`updated_by`),
  ADD KEY `rc_resolved_by_ibfk` (`resolved_by`);

--
-- Indexes for table `reviews`
--
ALTER TABLE `reviews`
  ADD PRIMARY KEY (`reviewid`),
  ADD KEY `reviews_ibfk_1` (`borrowernumber`),
  ADD KEY `reviews_ibfk_2` (`biblionumber`);

--
-- Indexes for table `saved_reports`
--
ALTER TABLE `saved_reports`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `saved_sql`
--
ALTER TABLE `saved_sql`
  ADD PRIMARY KEY (`id`),
  ADD KEY `sql_area_group_idx` (`report_group`,`report_subgroup`),
  ADD KEY `boridx` (`borrowernumber`);

--
-- Indexes for table `search_field`
--
ALTER TABLE `search_field`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `name` (`name`(191));

--
-- Indexes for table `search_history`
--
ALTER TABLE `search_history`
  ADD PRIMARY KEY (`id`),
  ADD KEY `userid` (`userid`),
  ADD KEY `sessionid` (`sessionid`);

--
-- Indexes for table `search_marc_map`
--
ALTER TABLE `search_marc_map`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `index_name` (`index_name`,`marc_field`(191),`marc_type`),
  ADD KEY `index_name_2` (`index_name`);

--
-- Indexes for table `search_marc_to_field`
--
ALTER TABLE `search_marc_to_field`
  ADD PRIMARY KEY (`search_marc_map_id`,`search_field_id`),
  ADD KEY `search_field_id` (`search_field_id`);

--
-- Indexes for table `serial`
--
ALTER TABLE `serial`
  ADD PRIMARY KEY (`serialid`),
  ADD KEY `serial_ibfk_1` (`biblionumber`),
  ADD KEY `serial_ibfk_2` (`subscriptionid`);

--
-- Indexes for table `serialitems`
--
ALTER TABLE `serialitems`
  ADD PRIMARY KEY (`itemnumber`),
  ADD KEY `serialitems_sfk_1` (`serialid`);

--
-- Indexes for table `sessions`
--
ALTER TABLE `sessions`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `sms_providers`
--
ALTER TABLE `sms_providers`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `name` (`name`(191));

--
-- Indexes for table `smtp_servers`
--
ALTER TABLE `smtp_servers`
  ADD PRIMARY KEY (`id`),
  ADD KEY `host_idx` (`host`);

--
-- Indexes for table `social_data`
--
ALTER TABLE `social_data`
  ADD PRIMARY KEY (`isbn`);

--
-- Indexes for table `special_holidays`
--
ALTER TABLE `special_holidays`
  ADD PRIMARY KEY (`id`),
  ADD KEY `special_holidays_ibfk_1` (`branchcode`);

--
-- Indexes for table `statistics`
--
ALTER TABLE `statistics`
  ADD KEY `timeidx` (`datetime`),
  ADD KEY `branch_idx` (`branch`),
  ADD KEY `type_idx` (`type`),
  ADD KEY `itemnumber_idx` (`itemnumber`),
  ADD KEY `itemtype_idx` (`itemtype`),
  ADD KEY `borrowernumber_idx` (`borrowernumber`),
  ADD KEY `ccode_idx` (`ccode`);

--
-- Indexes for table `stockrotationitems`
--
ALTER TABLE `stockrotationitems`
  ADD PRIMARY KEY (`itemnumber_id`),
  ADD KEY `stockrotationitems_sifk` (`stage_id`);

--
-- Indexes for table `stockrotationrotas`
--
ALTER TABLE `stockrotationrotas`
  ADD PRIMARY KEY (`rota_id`),
  ADD UNIQUE KEY `stockrotationrotas_title` (`title`);

--
-- Indexes for table `stockrotationstages`
--
ALTER TABLE `stockrotationstages`
  ADD PRIMARY KEY (`stage_id`),
  ADD KEY `stockrotationstages_rifk` (`rota_id`),
  ADD KEY `stockrotationstages_bifk` (`branchcode_id`);

--
-- Indexes for table `subscription`
--
ALTER TABLE `subscription`
  ADD PRIMARY KEY (`subscriptionid`),
  ADD KEY `subscription_ibfk_1` (`periodicity`),
  ADD KEY `subscription_ibfk_2` (`numberpattern`),
  ADD KEY `subscription_ibfk_3` (`biblionumber`);

--
-- Indexes for table `subscriptionhistory`
--
ALTER TABLE `subscriptionhistory`
  ADD PRIMARY KEY (`subscriptionid`),
  ADD KEY `subscription_history_ibfk_1` (`biblionumber`);

--
-- Indexes for table `subscriptionroutinglist`
--
ALTER TABLE `subscriptionroutinglist`
  ADD PRIMARY KEY (`routingid`),
  ADD UNIQUE KEY `subscriptionid` (`subscriptionid`,`borrowernumber`),
  ADD KEY `subscriptionroutinglist_ibfk_1` (`borrowernumber`);

--
-- Indexes for table `subscription_frequencies`
--
ALTER TABLE `subscription_frequencies`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `subscription_numberpatterns`
--
ALTER TABLE `subscription_numberpatterns`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `suggestions`
--
ALTER TABLE `suggestions`
  ADD PRIMARY KEY (`suggestionid`),
  ADD KEY `suggestedby` (`suggestedby`),
  ADD KEY `managedby` (`managedby`),
  ADD KEY `acceptedby` (`acceptedby`),
  ADD KEY `rejectedby` (`rejectedby`),
  ADD KEY `biblionumber` (`biblionumber`),
  ADD KEY `budgetid` (`budgetid`),
  ADD KEY `branchcode` (`branchcode`),
  ADD KEY `status` (`STATUS`),
  ADD KEY `suggestions_ibfk_lastmodificationby` (`lastmodificationby`);

--
-- Indexes for table `systempreferences`
--
ALTER TABLE `systempreferences`
  ADD PRIMARY KEY (`variable`);

--
-- Indexes for table `tables_settings`
--
ALTER TABLE `tables_settings`
  ADD PRIMARY KEY (`module`(191),`page`(191),`tablename`(191));

--
-- Indexes for table `tags`
--
ALTER TABLE `tags`
  ADD PRIMARY KEY (`entry`(191));

--
-- Indexes for table `tags_all`
--
ALTER TABLE `tags_all`
  ADD PRIMARY KEY (`tag_id`),
  ADD KEY `tags_borrowers_fk_1` (`borrowernumber`),
  ADD KEY `tags_biblionumber_fk_1` (`biblionumber`);

--
-- Indexes for table `tags_approval`
--
ALTER TABLE `tags_approval`
  ADD PRIMARY KEY (`term`),
  ADD KEY `tags_approval_borrowers_fk_1` (`approved_by`);

--
-- Indexes for table `tags_index`
--
ALTER TABLE `tags_index`
  ADD PRIMARY KEY (`term`,`biblionumber`),
  ADD KEY `tags_index_biblionumber_fk_1` (`biblionumber`);

--
-- Indexes for table `tmp_holdsqueue`
--
ALTER TABLE `tmp_holdsqueue`
  ADD KEY `tmp_holdsqueue_ibfk_1` (`itemnumber`),
  ADD KEY `tmp_holdsqueue_ibfk_2` (`biblionumber`),
  ADD KEY `tmp_holdsqueue_ibfk_3` (`borrowernumber`);

--
-- Indexes for table `transport_cost`
--
ALTER TABLE `transport_cost`
  ADD PRIMARY KEY (`frombranch`,`tobranch`),
  ADD KEY `transport_cost_ibfk_2` (`tobranch`);

--
-- Indexes for table `uploaded_files`
--
ALTER TABLE `uploaded_files`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `userflags`
--
ALTER TABLE `userflags`
  ADD PRIMARY KEY (`bit`);

--
-- Indexes for table `user_permissions`
--
ALTER TABLE `user_permissions`
  ADD PRIMARY KEY (`borrowernumber`,`module_bit`,`code`),
  ADD KEY `user_permissions_ibfk_1` (`borrowernumber`),
  ADD KEY `user_permissions_ibfk_2` (`module_bit`,`code`);

--
-- Indexes for table `vendor_edi_accounts`
--
ALTER TABLE `vendor_edi_accounts`
  ADD PRIMARY KEY (`id`),
  ADD KEY `vendorid` (`vendor_id`),
  ADD KEY `shipmentbudget` (`shipment_budget`);

--
-- Indexes for table `virtualshelfcontents`
--
ALTER TABLE `virtualshelfcontents`
  ADD KEY `shelfnumber` (`shelfnumber`),
  ADD KEY `biblionumber` (`biblionumber`),
  ADD KEY `shelfcontents_ibfk_3` (`borrowernumber`);

--
-- Indexes for table `virtualshelfshares`
--
ALTER TABLE `virtualshelfshares`
  ADD PRIMARY KEY (`id`),
  ADD KEY `virtualshelfshares_ibfk_1` (`shelfnumber`),
  ADD KEY `virtualshelfshares_ibfk_2` (`borrowernumber`);

--
-- Indexes for table `virtualshelves`
--
ALTER TABLE `virtualshelves`
  ADD PRIMARY KEY (`shelfnumber`),
  ADD KEY `virtualshelves_ibfk_1` (`owner`);

--
-- Indexes for table `z3950servers`
--
ALTER TABLE `z3950servers`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `zebraqueue`
--
ALTER TABLE `zebraqueue`
  ADD PRIMARY KEY (`id`),
  ADD KEY `zebraqueue_lookup` (`server`,`biblio_auth_number`,`operation`,`done`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `accountlines`
--
ALTER TABLE `accountlines`
  MODIFY `accountlines_id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `account_offsets`
--
ALTER TABLE `account_offsets`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique identifier for each offset';

--
-- AUTO_INCREMENT for table `action_logs`
--
ALTER TABLE `action_logs`
  MODIFY `action_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique identifier for each action';

--
-- AUTO_INCREMENT for table `additional_contents`
--
ALTER TABLE `additional_contents`
  MODIFY `idnew` int(10) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'unique identifier for the additional content';

--
-- AUTO_INCREMENT for table `additional_fields`
--
ALTER TABLE `additional_fields`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'primary key identifier';

--
-- AUTO_INCREMENT for table `additional_field_values`
--
ALTER TABLE `additional_field_values`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'primary key identifier';

--
-- AUTO_INCREMENT for table `advanced_editor_macros`
--
ALTER TABLE `advanced_editor_macros`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'Unique ID of the macro';

--
-- AUTO_INCREMENT for table `alert`
--
ALTER TABLE `alert`
  MODIFY `alertid` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `aqbasket`
--
ALTER TABLE `aqbasket`
  MODIFY `basketno` int(11) NOT NULL AUTO_INCREMENT COMMENT 'primary key, Koha defined number';

--
-- AUTO_INCREMENT for table `aqbasketgroups`
--
ALTER TABLE `aqbasketgroups`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `aqbooksellers`
--
ALTER TABLE `aqbooksellers`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'primary key and unique identifier assigned by Koha';

--
-- AUTO_INCREMENT for table `aqbudgetperiods`
--
ALTER TABLE `aqbudgetperiods`
  MODIFY `budget_period_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'primary key and unique number assigned by Koha';

--
-- AUTO_INCREMENT for table `aqbudgets`
--
ALTER TABLE `aqbudgets`
  MODIFY `budget_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'primary key and unique number assigned to each fund by Koha';

--
-- AUTO_INCREMENT for table `aqbudgets_planning`
--
ALTER TABLE `aqbudgets_planning`
  MODIFY `plan_id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `aqcontacts`
--
ALTER TABLE `aqcontacts`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'primary key and unique number assigned by Koha';

--
-- AUTO_INCREMENT for table `aqcontract`
--
ALTER TABLE `aqcontract`
  MODIFY `contractnumber` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `aqinvoices`
--
ALTER TABLE `aqinvoices`
  MODIFY `invoiceid` int(11) NOT NULL AUTO_INCREMENT COMMENT 'ID of the invoice, primary key';

--
-- AUTO_INCREMENT for table `aqinvoice_adjustments`
--
ALTER TABLE `aqinvoice_adjustments`
  MODIFY `adjustment_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'primary key for adjustments';

--
-- AUTO_INCREMENT for table `aqorders`
--
ALTER TABLE `aqorders`
  MODIFY `ordernumber` int(11) NOT NULL AUTO_INCREMENT COMMENT 'primary key and unique identifier assigned by Koha to each line';

--
-- AUTO_INCREMENT for table `aqorders_claims`
--
ALTER TABLE `aqorders_claims`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'ID of the claims';

--
-- AUTO_INCREMENT for table `article_requests`
--
ALTER TABLE `article_requests`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `audio_alerts`
--
ALTER TABLE `audio_alerts`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `authorised_values`
--
ALTER TABLE `authorised_values`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique key, used to identify the authorized value';

--
-- AUTO_INCREMENT for table `auth_header`
--
ALTER TABLE `auth_header`
  MODIFY `authid` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `background_jobs`
--
ALTER TABLE `background_jobs`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `biblio`
--
ALTER TABLE `biblio`
  MODIFY `biblionumber` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique identifier assigned to each bibliographic record';

--
-- AUTO_INCREMENT for table `biblioitems`
--
ALTER TABLE `biblioitems`
  MODIFY `biblioitemnumber` int(11) NOT NULL AUTO_INCREMENT COMMENT 'primary key, unique identifier assigned by Koha';

--
-- AUTO_INCREMENT for table `biblio_metadata`
--
ALTER TABLE `biblio_metadata`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `borrowers`
--
ALTER TABLE `borrowers`
  MODIFY `borrowernumber` int(11) NOT NULL AUTO_INCREMENT COMMENT 'primary key, Koha assigned ID number for patrons/borrowers';

--
-- AUTO_INCREMENT for table `borrower_attributes`
--
ALTER TABLE `borrower_attributes`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'Row id field';

--
-- AUTO_INCREMENT for table `borrower_debarments`
--
ALTER TABLE `borrower_debarments`
  MODIFY `borrower_debarment_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique key for the restriction';

--
-- AUTO_INCREMENT for table `borrower_files`
--
ALTER TABLE `borrower_files`
  MODIFY `file_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique key';

--
-- AUTO_INCREMENT for table `borrower_message_preferences`
--
ALTER TABLE `borrower_message_preferences`
  MODIFY `borrower_message_preference_id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `borrower_relationships`
--
ALTER TABLE `borrower_relationships`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `branchtransfers`
--
ALTER TABLE `branchtransfers`
  MODIFY `branchtransfer_id` int(12) NOT NULL AUTO_INCREMENT COMMENT 'primary key';

--
-- AUTO_INCREMENT for table `branch_transfer_limits`
--
ALTER TABLE `branch_transfer_limits`
  MODIFY `limitId` int(8) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `cash_registers`
--
ALTER TABLE `cash_registers`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique identifier for each account register';

--
-- AUTO_INCREMENT for table `cash_register_actions`
--
ALTER TABLE `cash_register_actions`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique identifier for each account register action';

--
-- AUTO_INCREMENT for table `circulation_rules`
--
ALTER TABLE `circulation_rules`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `cities`
--
ALTER TABLE `cities`
  MODIFY `cityid` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique identifier added by Koha';

--
-- AUTO_INCREMENT for table `clubs`
--
ALTER TABLE `clubs`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `club_enrollments`
--
ALTER TABLE `club_enrollments`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `club_enrollment_fields`
--
ALTER TABLE `club_enrollment_fields`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `club_fields`
--
ALTER TABLE `club_fields`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `club_holds`
--
ALTER TABLE `club_holds`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `club_holds_to_patron_holds`
--
ALTER TABLE `club_holds_to_patron_holds`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `club_templates`
--
ALTER TABLE `club_templates`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `club_template_enrollment_fields`
--
ALTER TABLE `club_template_enrollment_fields`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `club_template_fields`
--
ALTER TABLE `club_template_fields`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `collections`
--
ALTER TABLE `collections`
  MODIFY `colId` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `collections_tracking`
--
ALTER TABLE `collections_tracking`
  MODIFY `collections_tracking_id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `courses`
--
ALTER TABLE `courses`
  MODIFY `course_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique id for the course';

--
-- AUTO_INCREMENT for table `course_items`
--
ALTER TABLE `course_items`
  MODIFY `ci_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'course item id';

--
-- AUTO_INCREMENT for table `course_reserves`
--
ALTER TABLE `course_reserves`
  MODIFY `cr_id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `cover_images`
--
ALTER TABLE `cover_images`
  MODIFY `imagenumber` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique identifier for the image';

--
-- AUTO_INCREMENT for table `creator_batches`
--
ALTER TABLE `creator_batches`
  MODIFY `label_id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `creator_images`
--
ALTER TABLE `creator_images`
  MODIFY `image_id` int(4) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `creator_layouts`
--
ALTER TABLE `creator_layouts`
  MODIFY `layout_id` int(4) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `creator_templates`
--
ALTER TABLE `creator_templates`
  MODIFY `template_id` int(4) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `deletedbiblio`
--
ALTER TABLE `deletedbiblio`
  MODIFY `biblionumber` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique identifier assigned to each bibliographic record';

--
-- AUTO_INCREMENT for table `deletedbiblio_metadata`
--
ALTER TABLE `deletedbiblio_metadata`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `desks`
--
ALTER TABLE `desks`
  MODIFY `desk_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique identifier';

--
-- AUTO_INCREMENT for table `discharges`
--
ALTER TABLE `discharges`
  MODIFY `discharge_id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `edifact_ean`
--
ALTER TABLE `edifact_ean`
  MODIFY `ee_id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `edifact_messages`
--
ALTER TABLE `edifact_messages`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `export_format`
--
ALTER TABLE `export_format`
  MODIFY `export_format_id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `housebound_visit`
--
ALTER TABLE `housebound_visit`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'ID of the visit.';

--
-- AUTO_INCREMENT for table `illcomments`
--
ALTER TABLE `illcomments`
  MODIFY `illcomment_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'Unique ID of the comment';

--
-- AUTO_INCREMENT for table `illrequests`
--
ALTER TABLE `illrequests`
  MODIFY `illrequest_id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT 'ILL request number';

--
-- AUTO_INCREMENT for table `import_batches`
--
ALTER TABLE `import_batches`
  MODIFY `import_batch_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique identifier and primary key';

--
-- AUTO_INCREMENT for table `import_batch_profiles`
--
ALTER TABLE `import_batch_profiles`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique identifier and primary key';

--
-- AUTO_INCREMENT for table `import_items`
--
ALTER TABLE `import_items`
  MODIFY `import_items_id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `import_records`
--
ALTER TABLE `import_records`
  MODIFY `import_record_id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `issues`
--
ALTER TABLE `issues`
  MODIFY `issue_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'primary key for issues table';

--
-- AUTO_INCREMENT for table `items`
--
ALTER TABLE `items`
  MODIFY `itemnumber` int(11) NOT NULL AUTO_INCREMENT COMMENT 'primary key and unique identifier added by Koha';

--
-- AUTO_INCREMENT for table `items_last_borrower`
--
ALTER TABLE `items_last_borrower`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `item_circulation_alert_preferences`
--
ALTER TABLE `item_circulation_alert_preferences`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `language_descriptions`
--
ALTER TABLE `language_descriptions`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `language_rfc4646_to_iso639`
--
ALTER TABLE `language_rfc4646_to_iso639`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `language_subtag_registry`
--
ALTER TABLE `language_subtag_registry`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `letter`
--
ALTER TABLE `letter`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'primary key identifier';

--
-- AUTO_INCREMENT for table `library_groups`
--
ALTER TABLE `library_groups`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique id for each group';

--
-- AUTO_INCREMENT for table `library_smtp_servers`
--
ALTER TABLE `library_smtp_servers`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `linktracker`
--
ALTER TABLE `linktracker`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'primary key identifier';

--
-- AUTO_INCREMENT for table `localization`
--
ALTER TABLE `localization`
  MODIFY `localization_id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `marc_matchers`
--
ALTER TABLE `marc_matchers`
  MODIFY `matcher_id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `marc_modification_templates`
--
ALTER TABLE `marc_modification_templates`
  MODIFY `template_id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `marc_modification_template_actions`
--
ALTER TABLE `marc_modification_template_actions`
  MODIFY `mmta_id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `marc_overlay_rules`
--
ALTER TABLE `marc_overlay_rules`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `matchchecks`
--
ALTER TABLE `matchchecks`
  MODIFY `matchcheck_id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `matchpoints`
--
ALTER TABLE `matchpoints`
  MODIFY `matchpoint_id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `matchpoint_components`
--
ALTER TABLE `matchpoint_components`
  MODIFY `matchpoint_component_id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `messages`
--
ALTER TABLE `messages`
  MODIFY `message_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique identifier assigned by Koha';

--
-- AUTO_INCREMENT for table `message_attributes`
--
ALTER TABLE `message_attributes`
  MODIFY `message_attribute_id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `message_queue`
--
ALTER TABLE `message_queue`
  MODIFY `message_id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `misc_files`
--
ALTER TABLE `misc_files`
  MODIFY `file_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique id for the file record';

--
-- AUTO_INCREMENT for table `need_merge_authorities`
--
ALTER TABLE `need_merge_authorities`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique id';

--
-- AUTO_INCREMENT for table `oai_sets`
--
ALTER TABLE `oai_sets`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `overduerules`
--
ALTER TABLE `overduerules`
  MODIFY `overduerules_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique identifier for the overduerules';

--
-- AUTO_INCREMENT for table `overduerules_transport_types`
--
ALTER TABLE `overduerules_transport_types`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `patron_consent`
--
ALTER TABLE `patron_consent`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `patron_lists`
--
ALTER TABLE `patron_lists`
  MODIFY `patron_list_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique identifier';

--
-- AUTO_INCREMENT for table `patron_list_patrons`
--
ALTER TABLE `patron_list_patrons`
  MODIFY `patron_list_patron_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique identifier';

--
-- AUTO_INCREMENT for table `pending_offline_operations`
--
ALTER TABLE `pending_offline_operations`
  MODIFY `operationid` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `printers_profile`
--
ALTER TABLE `printers_profile`
  MODIFY `profile_id` int(4) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `problem_reports`
--
ALTER TABLE `problem_reports`
  MODIFY `reportid` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique identifier assigned by Koha';

--
-- AUTO_INCREMENT for table `pseudonymized_borrower_attributes`
--
ALTER TABLE `pseudonymized_borrower_attributes`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'Row id field';

--
-- AUTO_INCREMENT for table `pseudonymized_transactions`
--
ALTER TABLE `pseudonymized_transactions`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `quotes`
--
ALTER TABLE `quotes`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique id for the quote';

--
-- AUTO_INCREMENT for table `recalls`
--
ALTER TABLE `recalls`
  MODIFY `recall_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'Unique identifier for this recall';

--
-- AUTO_INCREMENT for table `repeatable_holidays`
--
ALTER TABLE `repeatable_holidays`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique identifier assigned by Koha';

--
-- AUTO_INCREMENT for table `reports_dictionary`
--
ALTER TABLE `reports_dictionary`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique identifier assigned by Koha';

--
-- AUTO_INCREMENT for table `reserves`
--
ALTER TABLE `reserves`
  MODIFY `reserve_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'primary key';

--
-- AUTO_INCREMENT for table `return_claims`
--
ALTER TABLE `return_claims`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'Unique ID of the return claim';

--
-- AUTO_INCREMENT for table `reviews`
--
ALTER TABLE `reviews`
  MODIFY `reviewid` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique identifier for this comment';

--
-- AUTO_INCREMENT for table `saved_reports`
--
ALTER TABLE `saved_reports`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `saved_sql`
--
ALTER TABLE `saved_sql`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique id and primary key assigned by Koha';

--
-- AUTO_INCREMENT for table `search_field`
--
ALTER TABLE `search_field`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `search_history`
--
ALTER TABLE `search_history`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'search history id';

--
-- AUTO_INCREMENT for table `search_marc_map`
--
ALTER TABLE `search_marc_map`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `serial`
--
ALTER TABLE `serial`
  MODIFY `serialid` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique key for the issue';

--
-- AUTO_INCREMENT for table `sms_providers`
--
ALTER TABLE `sms_providers`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `smtp_servers`
--
ALTER TABLE `smtp_servers`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `special_holidays`
--
ALTER TABLE `special_holidays`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique identifier assigned by Koha';

--
-- AUTO_INCREMENT for table `stockrotationrotas`
--
ALTER TABLE `stockrotationrotas`
  MODIFY `rota_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'Stockrotation rota ID';

--
-- AUTO_INCREMENT for table `stockrotationstages`
--
ALTER TABLE `stockrotationstages`
  MODIFY `stage_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'Unique stage ID';

--
-- AUTO_INCREMENT for table `subscription`
--
ALTER TABLE `subscription`
  MODIFY `subscriptionid` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique key for this subscription';

--
-- AUTO_INCREMENT for table `subscriptionroutinglist`
--
ALTER TABLE `subscriptionroutinglist`
  MODIFY `routingid` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique identifier assigned by Koha';

--
-- AUTO_INCREMENT for table `subscription_frequencies`
--
ALTER TABLE `subscription_frequencies`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `subscription_numberpatterns`
--
ALTER TABLE `subscription_numberpatterns`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `suggestions`
--
ALTER TABLE `suggestions`
  MODIFY `suggestionid` int(8) NOT NULL AUTO_INCREMENT COMMENT 'unique identifier assigned automatically by Koha';

--
-- AUTO_INCREMENT for table `tags_all`
--
ALTER TABLE `tags_all`
  MODIFY `tag_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique id and primary key';

--
-- AUTO_INCREMENT for table `uploaded_files`
--
ALTER TABLE `uploaded_files`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `vendor_edi_accounts`
--
ALTER TABLE `vendor_edi_accounts`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `virtualshelfshares`
--
ALTER TABLE `virtualshelfshares`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique key';

--
-- AUTO_INCREMENT for table `virtualshelves`
--
ALTER TABLE `virtualshelves`
  MODIFY `shelfnumber` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique identifier assigned by Koha';

--
-- AUTO_INCREMENT for table `z3950servers`
--
ALTER TABLE `z3950servers`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'unique identifier assigned by Koha';

--
-- AUTO_INCREMENT for table `zebraqueue`
--
ALTER TABLE `zebraqueue`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `accountlines`
--
ALTER TABLE `accountlines`
  ADD CONSTRAINT `accountlines_ibfk_borrowers` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `accountlines_ibfk_borrowers_2` FOREIGN KEY (`manager_id`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `accountlines_ibfk_branches` FOREIGN KEY (`branchcode`) REFERENCES `branches` (`branchcode`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `accountlines_ibfk_credit_type` FOREIGN KEY (`credit_type_code`) REFERENCES `account_credit_types` (`code`) ON UPDATE CASCADE,
  ADD CONSTRAINT `accountlines_ibfk_debit_type` FOREIGN KEY (`debit_type_code`) REFERENCES `account_debit_types` (`code`) ON UPDATE CASCADE,
  ADD CONSTRAINT `accountlines_ibfk_items` FOREIGN KEY (`itemnumber`) REFERENCES `items` (`itemnumber`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `accountlines_ibfk_registers` FOREIGN KEY (`register_id`) REFERENCES `cash_registers` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `account_credit_types_branches`
--
ALTER TABLE `account_credit_types_branches`
  ADD CONSTRAINT `account_credit_types_branches_ibfk_1` FOREIGN KEY (`credit_type_code`) REFERENCES `account_credit_types` (`code`) ON DELETE CASCADE,
  ADD CONSTRAINT `account_credit_types_branches_ibfk_2` FOREIGN KEY (`branchcode`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE;

--
-- Constraints for table `account_debit_types_branches`
--
ALTER TABLE `account_debit_types_branches`
  ADD CONSTRAINT `account_debit_types_branches_ibfk_1` FOREIGN KEY (`debit_type_code`) REFERENCES `account_debit_types` (`code`) ON DELETE CASCADE,
  ADD CONSTRAINT `account_debit_types_branches_ibfk_2` FOREIGN KEY (`branchcode`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE;

--
-- Constraints for table `account_offsets`
--
ALTER TABLE `account_offsets`
  ADD CONSTRAINT `account_offsets_ibfk_f` FOREIGN KEY (`debit_id`) REFERENCES `accountlines` (`accountlines_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `account_offsets_ibfk_p` FOREIGN KEY (`credit_id`) REFERENCES `accountlines` (`accountlines_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `additional_contents`
--
ALTER TABLE `additional_contents`
  ADD CONSTRAINT `additional_contents_branchcode_ibfk` FOREIGN KEY (`branchcode`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `borrowernumber_fk` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `additional_field_values`
--
ALTER TABLE `additional_field_values`
  ADD CONSTRAINT `afv_fk` FOREIGN KEY (`field_id`) REFERENCES `additional_fields` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `advanced_editor_macros`
--
ALTER TABLE `advanced_editor_macros`
  ADD CONSTRAINT `borrower_macro_fk` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `alert`
--
ALTER TABLE `alert`
  ADD CONSTRAINT `alert_ibfk_1` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `api_keys`
--
ALTER TABLE `api_keys`
  ADD CONSTRAINT `api_keys_fk_patron_id` FOREIGN KEY (`patron_id`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `aqbasket`
--
ALTER TABLE `aqbasket`
  ADD CONSTRAINT `aqbasket_ibfk_1` FOREIGN KEY (`booksellerid`) REFERENCES `aqbooksellers` (`id`) ON UPDATE CASCADE,
  ADD CONSTRAINT `aqbasket_ibfk_2` FOREIGN KEY (`contractnumber`) REFERENCES `aqcontract` (`contractnumber`),
  ADD CONSTRAINT `aqbasket_ibfk_3` FOREIGN KEY (`basketgroupid`) REFERENCES `aqbasketgroups` (`id`) ON UPDATE CASCADE,
  ADD CONSTRAINT `aqbasket_ibfk_4` FOREIGN KEY (`branch`) REFERENCES `branches` (`branchcode`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `aqbasketgroups`
--
ALTER TABLE `aqbasketgroups`
  ADD CONSTRAINT `aqbasketgroups_ibfk_1` FOREIGN KEY (`booksellerid`) REFERENCES `aqbooksellers` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `aqbasketusers`
--
ALTER TABLE `aqbasketusers`
  ADD CONSTRAINT `aqbasketusers_ibfk_1` FOREIGN KEY (`basketno`) REFERENCES `aqbasket` (`basketno`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `aqbasketusers_ibfk_2` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `aqbooksellers`
--
ALTER TABLE `aqbooksellers`
  ADD CONSTRAINT `aqbooksellers_ibfk_1` FOREIGN KEY (`listprice`) REFERENCES `currency` (`currency`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `aqbooksellers_ibfk_2` FOREIGN KEY (`invoiceprice`) REFERENCES `currency` (`currency`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `aqbudgetborrowers`
--
ALTER TABLE `aqbudgetborrowers`
  ADD CONSTRAINT `aqbudgetborrowers_ibfk_1` FOREIGN KEY (`budget_id`) REFERENCES `aqbudgets` (`budget_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `aqbudgetborrowers_ibfk_2` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `aqbudgets`
--
ALTER TABLE `aqbudgets`
  ADD CONSTRAINT `aqbudgetperiods_ibfk_1` FOREIGN KEY (`budget_period_id`) REFERENCES `aqbudgetperiods` (`budget_period_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `aqbudgets_planning`
--
ALTER TABLE `aqbudgets_planning`
  ADD CONSTRAINT `aqbudgets_planning_ifbk_1` FOREIGN KEY (`budget_id`) REFERENCES `aqbudgets` (`budget_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `aqcontacts`
--
ALTER TABLE `aqcontacts`
  ADD CONSTRAINT `booksellerid_aqcontacts_fk` FOREIGN KEY (`booksellerid`) REFERENCES `aqbooksellers` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `aqcontract`
--
ALTER TABLE `aqcontract`
  ADD CONSTRAINT `booksellerid_fk1` FOREIGN KEY (`booksellerid`) REFERENCES `aqbooksellers` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `aqinvoices`
--
ALTER TABLE `aqinvoices`
  ADD CONSTRAINT `aqinvoices_fk_aqbooksellerid` FOREIGN KEY (`booksellerid`) REFERENCES `aqbooksellers` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `aqinvoices_fk_shipmentcost_budgetid` FOREIGN KEY (`shipmentcost_budgetid`) REFERENCES `aqbudgets` (`budget_id`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `edifact_msg_fk` FOREIGN KEY (`message_id`) REFERENCES `edifact_messages` (`id`) ON DELETE SET NULL;

--
-- Constraints for table `aqinvoice_adjustments`
--
ALTER TABLE `aqinvoice_adjustments`
  ADD CONSTRAINT `aqinvoice_adjustments_fk_budget_id` FOREIGN KEY (`budget_id`) REFERENCES `aqbudgets` (`budget_id`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `aqinvoice_adjustments_fk_invoiceid` FOREIGN KEY (`invoiceid`) REFERENCES `aqinvoices` (`invoiceid`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `aqorders`
--
ALTER TABLE `aqorders`
  ADD CONSTRAINT `aqorders_budget_id_fk` FOREIGN KEY (`budget_id`) REFERENCES `aqbudgets` (`budget_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `aqorders_created_by` FOREIGN KEY (`created_by`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `aqorders_currency` FOREIGN KEY (`currency`) REFERENCES `currency` (`currency`) ON DELETE SET NULL ON UPDATE SET NULL,
  ADD CONSTRAINT `aqorders_ibfk_1` FOREIGN KEY (`basketno`) REFERENCES `aqbasket` (`basketno`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `aqorders_ibfk_2` FOREIGN KEY (`biblionumber`) REFERENCES `biblio` (`biblionumber`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `aqorders_ibfk_3` FOREIGN KEY (`invoiceid`) REFERENCES `aqinvoices` (`invoiceid`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `aqorders_subscriptionid` FOREIGN KEY (`subscriptionid`) REFERENCES `subscription` (`subscriptionid`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `aqorders_claims`
--
ALTER TABLE `aqorders_claims`
  ADD CONSTRAINT `aqorders_claims_ibfk_1` FOREIGN KEY (`ordernumber`) REFERENCES `aqorders` (`ordernumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `aqorders_items`
--
ALTER TABLE `aqorders_items`
  ADD CONSTRAINT `aqorders_items_ibfk_1` FOREIGN KEY (`ordernumber`) REFERENCES `aqorders` (`ordernumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `aqorders_transfers`
--
ALTER TABLE `aqorders_transfers`
  ADD CONSTRAINT `aqorders_transfers_ordernumber_from` FOREIGN KEY (`ordernumber_from`) REFERENCES `aqorders` (`ordernumber`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `aqorders_transfers_ordernumber_to` FOREIGN KEY (`ordernumber_to`) REFERENCES `aqorders` (`ordernumber`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `aqorder_users`
--
ALTER TABLE `aqorder_users`
  ADD CONSTRAINT `aqorder_users_ibfk_1` FOREIGN KEY (`ordernumber`) REFERENCES `aqorders` (`ordernumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `aqorder_users_ibfk_2` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `article_requests`
--
ALTER TABLE `article_requests`
  ADD CONSTRAINT `article_requests_ibfk_1` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `article_requests_ibfk_2` FOREIGN KEY (`biblionumber`) REFERENCES `biblio` (`biblionumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `article_requests_ibfk_3` FOREIGN KEY (`itemnumber`) REFERENCES `items` (`itemnumber`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `article_requests_ibfk_4` FOREIGN KEY (`branchcode`) REFERENCES `branches` (`branchcode`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `article_requests_ibfk_5` FOREIGN KEY (`debit_id`) REFERENCES `accountlines` (`accountlines_id`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `authorised_values`
--
ALTER TABLE `authorised_values`
  ADD CONSTRAINT `authorised_values_authorised_values_category` FOREIGN KEY (`category`) REFERENCES `authorised_value_categories` (`category_name`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `authorised_values_branches`
--
ALTER TABLE `authorised_values_branches`
  ADD CONSTRAINT `authorised_values_branches_ibfk_1` FOREIGN KEY (`av_id`) REFERENCES `authorised_values` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `authorised_values_branches_ibfk_2` FOREIGN KEY (`branchcode`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE;

--
-- Constraints for table `auth_subfield_structure`
--
ALTER TABLE `auth_subfield_structure`
  ADD CONSTRAINT `auth_subfield_structure_ibfk_1` FOREIGN KEY (`authtypecode`) REFERENCES `auth_types` (`authtypecode`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `auth_tag_structure`
--
ALTER TABLE `auth_tag_structure`
  ADD CONSTRAINT `auth_tag_structure_ibfk_1` FOREIGN KEY (`authtypecode`) REFERENCES `auth_types` (`authtypecode`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `biblioitems`
--
ALTER TABLE `biblioitems`
  ADD CONSTRAINT `biblioitems_ibfk_1` FOREIGN KEY (`biblionumber`) REFERENCES `biblio` (`biblionumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `biblio_metadata`
--
ALTER TABLE `biblio_metadata`
  ADD CONSTRAINT `record_metadata_fk_1` FOREIGN KEY (`biblionumber`) REFERENCES `biblio` (`biblionumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `borrowers`
--
ALTER TABLE `borrowers`
  ADD CONSTRAINT `borrowers_ibfk_1` FOREIGN KEY (`categorycode`) REFERENCES `categories` (`categorycode`),
  ADD CONSTRAINT `borrowers_ibfk_2` FOREIGN KEY (`branchcode`) REFERENCES `branches` (`branchcode`),
  ADD CONSTRAINT `borrowers_ibfk_3` FOREIGN KEY (`sms_provider_id`) REFERENCES `sms_providers` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `borrower_attributes`
--
ALTER TABLE `borrower_attributes`
  ADD CONSTRAINT `borrower_attributes_ibfk_1` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `borrower_attributes_ibfk_2` FOREIGN KEY (`code`) REFERENCES `borrower_attribute_types` (`code`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `borrower_attribute_types`
--
ALTER TABLE `borrower_attribute_types`
  ADD CONSTRAINT `borrower_attribute_types_ibfk_1` FOREIGN KEY (`category_code`) REFERENCES `categories` (`categorycode`);

--
-- Constraints for table `borrower_attribute_types_branches`
--
ALTER TABLE `borrower_attribute_types_branches`
  ADD CONSTRAINT `borrower_attribute_types_branches_ibfk_1` FOREIGN KEY (`bat_code`) REFERENCES `borrower_attribute_types` (`code`) ON DELETE CASCADE,
  ADD CONSTRAINT `borrower_attribute_types_branches_ibfk_2` FOREIGN KEY (`b_branchcode`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE;

--
-- Constraints for table `borrower_debarments`
--
ALTER TABLE `borrower_debarments`
  ADD CONSTRAINT `borrower_debarments_ibfk_1` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `borrower_files`
--
ALTER TABLE `borrower_files`
  ADD CONSTRAINT `borrower_files_ibfk_1` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `borrower_message_preferences`
--
ALTER TABLE `borrower_message_preferences`
  ADD CONSTRAINT `borrower_message_preferences_ibfk_1` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `borrower_message_preferences_ibfk_2` FOREIGN KEY (`message_attribute_id`) REFERENCES `message_attributes` (`message_attribute_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `borrower_message_preferences_ibfk_3` FOREIGN KEY (`categorycode`) REFERENCES `categories` (`categorycode`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `borrower_message_transport_preferences`
--
ALTER TABLE `borrower_message_transport_preferences`
  ADD CONSTRAINT `borrower_message_transport_preferences_ibfk_1` FOREIGN KEY (`borrower_message_preference_id`) REFERENCES `borrower_message_preferences` (`borrower_message_preference_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `borrower_message_transport_preferences_ibfk_2` FOREIGN KEY (`message_transport_type`) REFERENCES `message_transport_types` (`message_transport_type`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `borrower_relationships`
--
ALTER TABLE `borrower_relationships`
  ADD CONSTRAINT `r_guarantee` FOREIGN KEY (`guarantee_id`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `r_guarantor` FOREIGN KEY (`guarantor_id`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `branches_overdrive`
--
ALTER TABLE `branches_overdrive`
  ADD CONSTRAINT `branches_overdrive_ibfk_1` FOREIGN KEY (`branchcode`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `branchtransfers`
--
ALTER TABLE `branchtransfers`
  ADD CONSTRAINT `branchtransfers_ibfk_1` FOREIGN KEY (`frombranch`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `branchtransfers_ibfk_2` FOREIGN KEY (`tobranch`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `branchtransfers_ibfk_3` FOREIGN KEY (`itemnumber`) REFERENCES `items` (`itemnumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `cash_registers`
--
ALTER TABLE `cash_registers`
  ADD CONSTRAINT `cash_registers_branch` FOREIGN KEY (`branch`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `cash_register_actions`
--
ALTER TABLE `cash_register_actions`
  ADD CONSTRAINT `cash_register_actions_manager` FOREIGN KEY (`manager_id`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `cash_register_actions_register` FOREIGN KEY (`register_id`) REFERENCES `cash_registers` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `categories_branches`
--
ALTER TABLE `categories_branches`
  ADD CONSTRAINT `categories_branches_ibfk_1` FOREIGN KEY (`categorycode`) REFERENCES `categories` (`categorycode`) ON DELETE CASCADE,
  ADD CONSTRAINT `categories_branches_ibfk_2` FOREIGN KEY (`branchcode`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE;

--
-- Constraints for table `circulation_rules`
--
ALTER TABLE `circulation_rules`
  ADD CONSTRAINT `circ_rules_ibfk_1` FOREIGN KEY (`branchcode`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `circ_rules_ibfk_2` FOREIGN KEY (`categorycode`) REFERENCES `categories` (`categorycode`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `circ_rules_ibfk_3` FOREIGN KEY (`itemtype`) REFERENCES `itemtypes` (`itemtype`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `class_sources`
--
ALTER TABLE `class_sources`
  ADD CONSTRAINT `class_source_ibfk_1` FOREIGN KEY (`class_sort_rule`) REFERENCES `class_sort_rules` (`class_sort_rule`),
  ADD CONSTRAINT `class_source_ibfk_2` FOREIGN KEY (`class_split_rule`) REFERENCES `class_split_rules` (`class_split_rule`);

--
-- Constraints for table `clubs`
--
ALTER TABLE `clubs`
  ADD CONSTRAINT `clubs_ibfk_1` FOREIGN KEY (`club_template_id`) REFERENCES `club_templates` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `clubs_ibfk_2` FOREIGN KEY (`branchcode`) REFERENCES `branches` (`branchcode`);

--
-- Constraints for table `club_enrollments`
--
ALTER TABLE `club_enrollments`
  ADD CONSTRAINT `club_enrollments_ibfk_1` FOREIGN KEY (`club_id`) REFERENCES `clubs` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `club_enrollments_ibfk_2` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `club_enrollments_ibfk_3` FOREIGN KEY (`branchcode`) REFERENCES `branches` (`branchcode`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `club_enrollment_fields`
--
ALTER TABLE `club_enrollment_fields`
  ADD CONSTRAINT `club_enrollment_fields_ibfk_1` FOREIGN KEY (`club_enrollment_id`) REFERENCES `club_enrollments` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `club_enrollment_fields_ibfk_2` FOREIGN KEY (`club_template_enrollment_field_id`) REFERENCES `club_template_enrollment_fields` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `club_fields`
--
ALTER TABLE `club_fields`
  ADD CONSTRAINT `club_fields_ibfk_3` FOREIGN KEY (`club_template_field_id`) REFERENCES `club_template_fields` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `club_fields_ibfk_4` FOREIGN KEY (`club_id`) REFERENCES `clubs` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `club_holds`
--
ALTER TABLE `club_holds`
  ADD CONSTRAINT `clubs_holds_ibfk_1` FOREIGN KEY (`club_id`) REFERENCES `clubs` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `clubs_holds_ibfk_2` FOREIGN KEY (`biblio_id`) REFERENCES `biblio` (`biblionumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `clubs_holds_ibfk_3` FOREIGN KEY (`item_id`) REFERENCES `items` (`itemnumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `club_holds_to_patron_holds`
--
ALTER TABLE `club_holds_to_patron_holds`
  ADD CONSTRAINT `clubs_holds_paton_holds_ibfk_1` FOREIGN KEY (`club_hold_id`) REFERENCES `club_holds` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `clubs_holds_paton_holds_ibfk_2` FOREIGN KEY (`patron_id`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `clubs_holds_paton_holds_ibfk_3` FOREIGN KEY (`hold_id`) REFERENCES `reserves` (`reserve_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `club_templates`
--
ALTER TABLE `club_templates`
  ADD CONSTRAINT `club_templates_ibfk_1` FOREIGN KEY (`branchcode`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `club_template_enrollment_fields`
--
ALTER TABLE `club_template_enrollment_fields`
  ADD CONSTRAINT `club_template_enrollment_fields_ibfk_1` FOREIGN KEY (`club_template_id`) REFERENCES `club_templates` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `club_template_fields`
--
ALTER TABLE `club_template_fields`
  ADD CONSTRAINT `club_template_fields_ibfk_1` FOREIGN KEY (`club_template_id`) REFERENCES `club_templates` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `collections`
--
ALTER TABLE `collections`
  ADD CONSTRAINT `collections_ibfk_1` FOREIGN KEY (`colBranchcode`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `collections_tracking`
--
ALTER TABLE `collections_tracking`
  ADD CONSTRAINT `collectionst_ibfk_1` FOREIGN KEY (`colId`) REFERENCES `collections` (`colId`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `course_instructors`
--
ALTER TABLE `course_instructors`
  ADD CONSTRAINT `course_instructors_ibfk_1` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `course_instructors_ibfk_2` FOREIGN KEY (`course_id`) REFERENCES `courses` (`course_id`);

--
-- Constraints for table `course_items`
--
ALTER TABLE `course_items`
  ADD CONSTRAINT `course_items_ibfk_1` FOREIGN KEY (`itemnumber`) REFERENCES `items` (`itemnumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `course_items_ibfk_2` FOREIGN KEY (`holdingbranch`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_course_items_biblionumber` FOREIGN KEY (`biblionumber`) REFERENCES `biblio` (`biblionumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_course_items_homebranch` FOREIGN KEY (`homebranch`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_course_items_homebranch_storage` FOREIGN KEY (`homebranch_storage`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `course_reserves`
--
ALTER TABLE `course_reserves`
  ADD CONSTRAINT `course_reserves_ibfk_1` FOREIGN KEY (`course_id`) REFERENCES `courses` (`course_id`),
  ADD CONSTRAINT `course_reserves_ibfk_2` FOREIGN KEY (`ci_id`) REFERENCES `course_items` (`ci_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `cover_images`
--
ALTER TABLE `cover_images`
  ADD CONSTRAINT `bibliocoverimage_fk1` FOREIGN KEY (`biblionumber`) REFERENCES `biblio` (`biblionumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `bibliocoverimage_fk2` FOREIGN KEY (`itemnumber`) REFERENCES `items` (`itemnumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `creator_batches`
--
ALTER TABLE `creator_batches`
  ADD CONSTRAINT `creator_batches_ibfk_1` FOREIGN KEY (`borrower_number`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `creator_batches_ibfk_2` FOREIGN KEY (`branch_code`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE,
  ADD CONSTRAINT `creator_batches_ibfk_3` FOREIGN KEY (`item_number`) REFERENCES `items` (`itemnumber`) ON DELETE CASCADE;

--
-- Constraints for table `deletedbiblio_metadata`
--
ALTER TABLE `deletedbiblio_metadata`
  ADD CONSTRAINT `deletedrecord_metadata_fk_1` FOREIGN KEY (`biblionumber`) REFERENCES `deletedbiblio` (`biblionumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `desks`
--
ALTER TABLE `desks`
  ADD CONSTRAINT `fk_desks_branchcode` FOREIGN KEY (`branchcode`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `discharges`
--
ALTER TABLE `discharges`
  ADD CONSTRAINT `borrower_discharges_ibfk1` FOREIGN KEY (`borrower`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `edifact_ean`
--
ALTER TABLE `edifact_ean`
  ADD CONSTRAINT `efk_branchcode` FOREIGN KEY (`branchcode`) REFERENCES `branches` (`branchcode`);

--
-- Constraints for table `edifact_messages`
--
ALTER TABLE `edifact_messages`
  ADD CONSTRAINT `emfk_basketno` FOREIGN KEY (`basketno`) REFERENCES `aqbasket` (`basketno`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `emfk_edi_acct` FOREIGN KEY (`edi_acct`) REFERENCES `vendor_edi_accounts` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `emfk_vendor` FOREIGN KEY (`vendor_id`) REFERENCES `aqbooksellers` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `hold_fill_targets`
--
ALTER TABLE `hold_fill_targets`
  ADD CONSTRAINT `hold_fill_targets_ibfk_1` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `hold_fill_targets_ibfk_2` FOREIGN KEY (`biblionumber`) REFERENCES `biblio` (`biblionumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `hold_fill_targets_ibfk_3` FOREIGN KEY (`itemnumber`) REFERENCES `items` (`itemnumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `hold_fill_targets_ibfk_4` FOREIGN KEY (`source_branchcode`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `housebound_profile`
--
ALTER TABLE `housebound_profile`
  ADD CONSTRAINT `housebound_profile_bnfk` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `housebound_role`
--
ALTER TABLE `housebound_role`
  ADD CONSTRAINT `houseboundrole_bnfk` FOREIGN KEY (`borrowernumber_id`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `housebound_visit`
--
ALTER TABLE `housebound_visit`
  ADD CONSTRAINT `houseboundvisit_bnfk` FOREIGN KEY (`borrowernumber`) REFERENCES `housebound_profile` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `houseboundvisit_bnfk_1` FOREIGN KEY (`chooser_brwnumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `houseboundvisit_bnfk_2` FOREIGN KEY (`deliverer_brwnumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `illcomments`
--
ALTER TABLE `illcomments`
  ADD CONSTRAINT `illcomments_bnfk` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `illcomments_ifk` FOREIGN KEY (`illrequest_id`) REFERENCES `illrequests` (`illrequest_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `illrequestattributes`
--
ALTER TABLE `illrequestattributes`
  ADD CONSTRAINT `illrequestattributes_ifk` FOREIGN KEY (`illrequest_id`) REFERENCES `illrequests` (`illrequest_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `illrequests`
--
ALTER TABLE `illrequests`
  ADD CONSTRAINT `illrequests_bcfk_2` FOREIGN KEY (`branchcode`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `illrequests_bnfk` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `illrequests_safk` FOREIGN KEY (`status_alias`) REFERENCES `authorised_values` (`authorised_value`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `import_auths`
--
ALTER TABLE `import_auths`
  ADD CONSTRAINT `import_auths_ibfk_1` FOREIGN KEY (`import_record_id`) REFERENCES `import_records` (`import_record_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `import_batches`
--
ALTER TABLE `import_batches`
  ADD CONSTRAINT `import_batches_ibfk_1` FOREIGN KEY (`profile_id`) REFERENCES `import_batch_profiles` (`id`) ON DELETE SET NULL ON UPDATE SET NULL;

--
-- Constraints for table `import_biblios`
--
ALTER TABLE `import_biblios`
  ADD CONSTRAINT `import_biblios_ibfk_1` FOREIGN KEY (`import_record_id`) REFERENCES `import_records` (`import_record_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `import_items`
--
ALTER TABLE `import_items`
  ADD CONSTRAINT `import_items_ibfk_1` FOREIGN KEY (`import_record_id`) REFERENCES `import_records` (`import_record_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `import_records`
--
ALTER TABLE `import_records`
  ADD CONSTRAINT `import_records_ifbk_1` FOREIGN KEY (`import_batch_id`) REFERENCES `import_batches` (`import_batch_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `import_record_matches`
--
ALTER TABLE `import_record_matches`
  ADD CONSTRAINT `import_record_matches_ibfk_1` FOREIGN KEY (`import_record_id`) REFERENCES `import_records` (`import_record_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `issues`
--
ALTER TABLE `issues`
  ADD CONSTRAINT `issues_ibfk_1` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON UPDATE CASCADE,
  ADD CONSTRAINT `issues_ibfk_2` FOREIGN KEY (`itemnumber`) REFERENCES `items` (`itemnumber`) ON UPDATE CASCADE,
  ADD CONSTRAINT `issues_ibfk_borrowers_borrowernumber` FOREIGN KEY (`issuer_id`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `items`
--
ALTER TABLE `items`
  ADD CONSTRAINT `items_ibfk_1` FOREIGN KEY (`biblioitemnumber`) REFERENCES `biblioitems` (`biblioitemnumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `items_ibfk_2` FOREIGN KEY (`homebranch`) REFERENCES `branches` (`branchcode`) ON UPDATE CASCADE,
  ADD CONSTRAINT `items_ibfk_3` FOREIGN KEY (`holdingbranch`) REFERENCES `branches` (`branchcode`) ON UPDATE CASCADE,
  ADD CONSTRAINT `items_ibfk_4` FOREIGN KEY (`biblionumber`) REFERENCES `biblio` (`biblionumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `items_last_borrower`
--
ALTER TABLE `items_last_borrower`
  ADD CONSTRAINT `items_last_borrower_ibfk_1` FOREIGN KEY (`itemnumber`) REFERENCES `items` (`itemnumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `items_last_borrower_ibfk_2` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `items_search_fields`
--
ALTER TABLE `items_search_fields`
  ADD CONSTRAINT `items_search_fields_authorised_values_category` FOREIGN KEY (`authorised_values_category`) REFERENCES `authorised_value_categories` (`category_name`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `itemtypes`
--
ALTER TABLE `itemtypes`
  ADD CONSTRAINT `itemtypes_ibfk_1` FOREIGN KEY (`parent_type`) REFERENCES `itemtypes` (`itemtype`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `itemtypes_branches`
--
ALTER TABLE `itemtypes_branches`
  ADD CONSTRAINT `itemtypes_branches_ibfk_1` FOREIGN KEY (`itemtype`) REFERENCES `itemtypes` (`itemtype`) ON DELETE CASCADE,
  ADD CONSTRAINT `itemtypes_branches_ibfk_2` FOREIGN KEY (`branchcode`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE;

--
-- Constraints for table `letter`
--
ALTER TABLE `letter`
  ADD CONSTRAINT `message_transport_type_fk` FOREIGN KEY (`message_transport_type`) REFERENCES `message_transport_types` (`message_transport_type`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `library_groups`
--
ALTER TABLE `library_groups`
  ADD CONSTRAINT `library_groups_ibfk_1` FOREIGN KEY (`parent_id`) REFERENCES `library_groups` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `library_groups_ibfk_2` FOREIGN KEY (`branchcode`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `library_smtp_servers`
--
ALTER TABLE `library_smtp_servers`
  ADD CONSTRAINT `library_smtp_servers_library_fk` FOREIGN KEY (`library_id`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `library_smtp_servers_smtp_servers_fk` FOREIGN KEY (`smtp_server_id`) REFERENCES `smtp_servers` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `linktracker`
--
ALTER TABLE `linktracker`
  ADD CONSTRAINT `linktracker_biblio_ibfk` FOREIGN KEY (`biblionumber`) REFERENCES `biblio` (`biblionumber`) ON DELETE SET NULL ON UPDATE SET NULL,
  ADD CONSTRAINT `linktracker_borrower_ibfk` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE SET NULL ON UPDATE SET NULL,
  ADD CONSTRAINT `linktracker_item_ibfk` FOREIGN KEY (`itemnumber`) REFERENCES `items` (`itemnumber`) ON DELETE SET NULL ON UPDATE SET NULL;

--
-- Constraints for table `marc_modification_template_actions`
--
ALTER TABLE `marc_modification_template_actions`
  ADD CONSTRAINT `mmta_ibfk_1` FOREIGN KEY (`template_id`) REFERENCES `marc_modification_templates` (`template_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `marc_subfield_structure`
--
ALTER TABLE `marc_subfield_structure`
  ADD CONSTRAINT `marc_subfield_structure_ibfk_1` FOREIGN KEY (`authorised_value`) REFERENCES `authorised_value_categories` (`category_name`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `matchchecks`
--
ALTER TABLE `matchchecks`
  ADD CONSTRAINT `matcher_matchchecks_ifbk_1` FOREIGN KEY (`matcher_id`) REFERENCES `marc_matchers` (`matcher_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `matcher_matchchecks_ifbk_2` FOREIGN KEY (`source_matchpoint_id`) REFERENCES `matchpoints` (`matchpoint_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `matcher_matchchecks_ifbk_3` FOREIGN KEY (`target_matchpoint_id`) REFERENCES `matchpoints` (`matchpoint_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `matcher_matchpoints`
--
ALTER TABLE `matcher_matchpoints`
  ADD CONSTRAINT `matcher_matchpoints_ifbk_1` FOREIGN KEY (`matcher_id`) REFERENCES `marc_matchers` (`matcher_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `matcher_matchpoints_ifbk_2` FOREIGN KEY (`matchpoint_id`) REFERENCES `matchpoints` (`matchpoint_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `matchpoints`
--
ALTER TABLE `matchpoints`
  ADD CONSTRAINT `matchpoints_ifbk_1` FOREIGN KEY (`matcher_id`) REFERENCES `marc_matchers` (`matcher_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `matchpoint_components`
--
ALTER TABLE `matchpoint_components`
  ADD CONSTRAINT `matchpoint_components_ifbk_1` FOREIGN KEY (`matchpoint_id`) REFERENCES `matchpoints` (`matchpoint_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `matchpoint_component_norms`
--
ALTER TABLE `matchpoint_component_norms`
  ADD CONSTRAINT `matchpoint_component_norms_ifbk_1` FOREIGN KEY (`matchpoint_component_id`) REFERENCES `matchpoint_components` (`matchpoint_component_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `messages`
--
ALTER TABLE `messages`
  ADD CONSTRAINT `messages_borrowernumber` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `messages_ibfk_1` FOREIGN KEY (`manager_id`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE SET NULL;

--
-- Constraints for table `message_queue`
--
ALTER TABLE `message_queue`
  ADD CONSTRAINT `messageq_ibfk_1` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `messageq_ibfk_2` FOREIGN KEY (`message_transport_type`) REFERENCES `message_transport_types` (`message_transport_type`) ON UPDATE CASCADE;

--
-- Constraints for table `message_transports`
--
ALTER TABLE `message_transports`
  ADD CONSTRAINT `message_transports_ibfk_1` FOREIGN KEY (`message_attribute_id`) REFERENCES `message_attributes` (`message_attribute_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `message_transports_ibfk_2` FOREIGN KEY (`message_transport_type`) REFERENCES `message_transport_types` (`message_transport_type`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `oai_sets_biblios`
--
ALTER TABLE `oai_sets_biblios`
  ADD CONSTRAINT `oai_sets_biblios_ibfk_2` FOREIGN KEY (`set_id`) REFERENCES `oai_sets` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `oai_sets_descriptions`
--
ALTER TABLE `oai_sets_descriptions`
  ADD CONSTRAINT `oai_sets_descriptions_ibfk_1` FOREIGN KEY (`set_id`) REFERENCES `oai_sets` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `oai_sets_mappings`
--
ALTER TABLE `oai_sets_mappings`
  ADD CONSTRAINT `oai_sets_mappings_ibfk_1` FOREIGN KEY (`set_id`) REFERENCES `oai_sets` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `old_issues`
--
ALTER TABLE `old_issues`
  ADD CONSTRAINT `old_issues_ibfk_1` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE SET NULL ON UPDATE SET NULL,
  ADD CONSTRAINT `old_issues_ibfk_2` FOREIGN KEY (`itemnumber`) REFERENCES `items` (`itemnumber`) ON DELETE SET NULL ON UPDATE SET NULL,
  ADD CONSTRAINT `old_issues_ibfk_borrowers_borrowernumber` FOREIGN KEY (`issuer_id`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `old_reserves`
--
ALTER TABLE `old_reserves`
  ADD CONSTRAINT `old_reserves_ibfk_1` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE SET NULL ON UPDATE SET NULL,
  ADD CONSTRAINT `old_reserves_ibfk_2` FOREIGN KEY (`biblionumber`) REFERENCES `biblio` (`biblionumber`) ON DELETE SET NULL ON UPDATE SET NULL,
  ADD CONSTRAINT `old_reserves_ibfk_3` FOREIGN KEY (`itemnumber`) REFERENCES `items` (`itemnumber`) ON DELETE SET NULL ON UPDATE SET NULL,
  ADD CONSTRAINT `old_reserves_ibfk_4` FOREIGN KEY (`itemtype`) REFERENCES `itemtypes` (`itemtype`) ON DELETE SET NULL ON UPDATE SET NULL;

--
-- Constraints for table `overduerules_transport_types`
--
ALTER TABLE `overduerules_transport_types`
  ADD CONSTRAINT `mtt_fk` FOREIGN KEY (`message_transport_type`) REFERENCES `message_transport_types` (`message_transport_type`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `overduerules_fk` FOREIGN KEY (`overduerules_id`) REFERENCES `overduerules` (`overduerules_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `patronimage`
--
ALTER TABLE `patronimage`
  ADD CONSTRAINT `patronimage_fk1` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `patron_consent`
--
ALTER TABLE `patron_consent`
  ADD CONSTRAINT `patron_consent_ibfk_1` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `patron_lists`
--
ALTER TABLE `patron_lists`
  ADD CONSTRAINT `patron_lists_ibfk_1` FOREIGN KEY (`owner`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `patron_list_patrons`
--
ALTER TABLE `patron_list_patrons`
  ADD CONSTRAINT `patron_list_patrons_ibfk_1` FOREIGN KEY (`patron_list_id`) REFERENCES `patron_lists` (`patron_list_id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `patron_list_patrons_ibfk_2` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `permissions`
--
ALTER TABLE `permissions`
  ADD CONSTRAINT `permissions_ibfk_1` FOREIGN KEY (`module_bit`) REFERENCES `userflags` (`bit`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `problem_reports`
--
ALTER TABLE `problem_reports`
  ADD CONSTRAINT `problem_reports_ibfk1` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `problem_reports_ibfk2` FOREIGN KEY (`branchcode`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `pseudonymized_borrower_attributes`
--
ALTER TABLE `pseudonymized_borrower_attributes`
  ADD CONSTRAINT `anonymized_borrower_attributes_ibfk_2` FOREIGN KEY (`code`) REFERENCES `borrower_attribute_types` (`code`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `pseudonymized_borrower_attributes_ibfk_1` FOREIGN KEY (`transaction_id`) REFERENCES `pseudonymized_transactions` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `ratings`
--
ALTER TABLE `ratings`
  ADD CONSTRAINT `ratings_ibfk_1` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `ratings_ibfk_2` FOREIGN KEY (`biblionumber`) REFERENCES `biblio` (`biblionumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `recalls`
--
ALTER TABLE `recalls`
  ADD CONSTRAINT `recalls_ibfk_1` FOREIGN KEY (`patron_id`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `recalls_ibfk_2` FOREIGN KEY (`biblio_id`) REFERENCES `biblio` (`biblionumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `recalls_ibfk_3` FOREIGN KEY (`item_id`) REFERENCES `items` (`itemnumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `recalls_ibfk_4` FOREIGN KEY (`pickup_library_id`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `repeatable_holidays`
--
ALTER TABLE `repeatable_holidays`
  ADD CONSTRAINT `repeatable_holidays_ibfk_1` FOREIGN KEY (`branchcode`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `reserves`
--
ALTER TABLE `reserves`
  ADD CONSTRAINT `reserves_ibfk_1` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `reserves_ibfk_2` FOREIGN KEY (`biblionumber`) REFERENCES `biblio` (`biblionumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `reserves_ibfk_3` FOREIGN KEY (`itemnumber`) REFERENCES `items` (`itemnumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `reserves_ibfk_4` FOREIGN KEY (`branchcode`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `reserves_ibfk_5` FOREIGN KEY (`itemtype`) REFERENCES `itemtypes` (`itemtype`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `reserves_ibfk_6` FOREIGN KEY (`desk_id`) REFERENCES `desks` (`desk_id`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `return_claims`
--
ALTER TABLE `return_claims`
  ADD CONSTRAINT `rc_borrowers_ibfk` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `rc_created_by_ibfk` FOREIGN KEY (`created_by`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `rc_items_ibfk` FOREIGN KEY (`itemnumber`) REFERENCES `items` (`itemnumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `rc_resolved_by_ibfk` FOREIGN KEY (`resolved_by`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `rc_updated_by_ibfk` FOREIGN KEY (`updated_by`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `reviews`
--
ALTER TABLE `reviews`
  ADD CONSTRAINT `reviews_ibfk_1` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `reviews_ibfk_2` FOREIGN KEY (`biblionumber`) REFERENCES `biblio` (`biblionumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `search_marc_to_field`
--
ALTER TABLE `search_marc_to_field`
  ADD CONSTRAINT `search_marc_to_field_ibfk_1` FOREIGN KEY (`search_marc_map_id`) REFERENCES `search_marc_map` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `search_marc_to_field_ibfk_2` FOREIGN KEY (`search_field_id`) REFERENCES `search_field` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `serial`
--
ALTER TABLE `serial`
  ADD CONSTRAINT `serial_ibfk_1` FOREIGN KEY (`biblionumber`) REFERENCES `biblio` (`biblionumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `serial_ibfk_2` FOREIGN KEY (`subscriptionid`) REFERENCES `subscription` (`subscriptionid`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `serialitems`
--
ALTER TABLE `serialitems`
  ADD CONSTRAINT `serialitems_sfk_1` FOREIGN KEY (`serialid`) REFERENCES `serial` (`serialid`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `serialitems_sfk_2` FOREIGN KEY (`itemnumber`) REFERENCES `items` (`itemnumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `special_holidays`
--
ALTER TABLE `special_holidays`
  ADD CONSTRAINT `special_holidays_ibfk_1` FOREIGN KEY (`branchcode`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `stockrotationitems`
--
ALTER TABLE `stockrotationitems`
  ADD CONSTRAINT `stockrotationitems_iifk` FOREIGN KEY (`itemnumber_id`) REFERENCES `items` (`itemnumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `stockrotationitems_sifk` FOREIGN KEY (`stage_id`) REFERENCES `stockrotationstages` (`stage_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `stockrotationstages`
--
ALTER TABLE `stockrotationstages`
  ADD CONSTRAINT `stockrotationstages_bifk` FOREIGN KEY (`branchcode_id`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `stockrotationstages_rifk` FOREIGN KEY (`rota_id`) REFERENCES `stockrotationrotas` (`rota_id`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `subscription`
--
ALTER TABLE `subscription`
  ADD CONSTRAINT `subscription_ibfk_1` FOREIGN KEY (`periodicity`) REFERENCES `subscription_frequencies` (`id`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `subscription_ibfk_2` FOREIGN KEY (`numberpattern`) REFERENCES `subscription_numberpatterns` (`id`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `subscription_ibfk_3` FOREIGN KEY (`biblionumber`) REFERENCES `biblio` (`biblionumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `subscriptionhistory`
--
ALTER TABLE `subscriptionhistory`
  ADD CONSTRAINT `subscription_history_ibfk_1` FOREIGN KEY (`biblionumber`) REFERENCES `biblio` (`biblionumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `subscription_history_ibfk_2` FOREIGN KEY (`subscriptionid`) REFERENCES `subscription` (`subscriptionid`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `subscriptionroutinglist`
--
ALTER TABLE `subscriptionroutinglist`
  ADD CONSTRAINT `subscriptionroutinglist_ibfk_1` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `subscriptionroutinglist_ibfk_2` FOREIGN KEY (`subscriptionid`) REFERENCES `subscription` (`subscriptionid`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `suggestions`
--
ALTER TABLE `suggestions`
  ADD CONSTRAINT `suggestions_budget_id_fk` FOREIGN KEY (`budgetid`) REFERENCES `aqbudgets` (`budget_id`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `suggestions_ibfk_acceptedby` FOREIGN KEY (`acceptedby`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `suggestions_ibfk_biblionumber` FOREIGN KEY (`biblionumber`) REFERENCES `biblio` (`biblionumber`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `suggestions_ibfk_branchcode` FOREIGN KEY (`branchcode`) REFERENCES `branches` (`branchcode`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `suggestions_ibfk_lastmodificationby` FOREIGN KEY (`lastmodificationby`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `suggestions_ibfk_managedby` FOREIGN KEY (`managedby`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `suggestions_ibfk_rejectedby` FOREIGN KEY (`rejectedby`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE SET NULL ON UPDATE CASCADE,
  ADD CONSTRAINT `suggestions_ibfk_suggestedby` FOREIGN KEY (`suggestedby`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `tags_all`
--
ALTER TABLE `tags_all`
  ADD CONSTRAINT `tags_biblionumber_fk_1` FOREIGN KEY (`biblionumber`) REFERENCES `biblio` (`biblionumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `tags_borrowers_fk_1` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `tags_approval`
--
ALTER TABLE `tags_approval`
  ADD CONSTRAINT `tags_approval_borrowers_fk_1` FOREIGN KEY (`approved_by`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE SET NULL ON UPDATE CASCADE;

--
-- Constraints for table `tags_index`
--
ALTER TABLE `tags_index`
  ADD CONSTRAINT `tags_index_biblionumber_fk_1` FOREIGN KEY (`biblionumber`) REFERENCES `biblio` (`biblionumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `tags_index_term_fk_1` FOREIGN KEY (`term`) REFERENCES `tags_approval` (`term`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `tmp_holdsqueue`
--
ALTER TABLE `tmp_holdsqueue`
  ADD CONSTRAINT `tmp_holdsqueue_ibfk_1` FOREIGN KEY (`itemnumber`) REFERENCES `items` (`itemnumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `tmp_holdsqueue_ibfk_2` FOREIGN KEY (`biblionumber`) REFERENCES `biblio` (`biblionumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `tmp_holdsqueue_ibfk_3` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `transport_cost`
--
ALTER TABLE `transport_cost`
  ADD CONSTRAINT `transport_cost_ibfk_1` FOREIGN KEY (`frombranch`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `transport_cost_ibfk_2` FOREIGN KEY (`tobranch`) REFERENCES `branches` (`branchcode`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `user_permissions`
--
ALTER TABLE `user_permissions`
  ADD CONSTRAINT `user_permissions_ibfk_1` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `user_permissions_ibfk_2` FOREIGN KEY (`module_bit`,`code`) REFERENCES `permissions` (`module_bit`, `code`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `vendor_edi_accounts`
--
ALTER TABLE `vendor_edi_accounts`
  ADD CONSTRAINT `vfk_shipment_budget` FOREIGN KEY (`shipment_budget`) REFERENCES `aqbudgets` (`budget_id`),
  ADD CONSTRAINT `vfk_vendor_id` FOREIGN KEY (`vendor_id`) REFERENCES `aqbooksellers` (`id`);

--
-- Constraints for table `virtualshelfcontents`
--
ALTER TABLE `virtualshelfcontents`
  ADD CONSTRAINT `shelfcontents_ibfk_2` FOREIGN KEY (`biblionumber`) REFERENCES `biblio` (`biblionumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `shelfcontents_ibfk_3` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE SET NULL ON UPDATE SET NULL,
  ADD CONSTRAINT `virtualshelfcontents_ibfk_1` FOREIGN KEY (`shelfnumber`) REFERENCES `virtualshelves` (`shelfnumber`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Constraints for table `virtualshelfshares`
--
ALTER TABLE `virtualshelfshares`
  ADD CONSTRAINT `virtualshelfshares_ibfk_1` FOREIGN KEY (`shelfnumber`) REFERENCES `virtualshelves` (`shelfnumber`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `virtualshelfshares_ibfk_2` FOREIGN KEY (`borrowernumber`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE SET NULL ON UPDATE SET NULL;

--
-- Constraints for table `virtualshelves`
--
ALTER TABLE `virtualshelves`
  ADD CONSTRAINT `virtualshelves_ibfk_1` FOREIGN KEY (`owner`) REFERENCES `borrowers` (`borrowernumber`) ON DELETE SET NULL ON UPDATE SET NULL;
COMMIT;
